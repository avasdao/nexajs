{"version":3,"file":"vendors-node_modules_theia_plugin-ext_lib_common_collections_js-node_modules_theia_plugin-ext-5ae9c1.js","mappings":"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","sources":["webpack:///./node_modules/@theia/core/src/common/collections.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/collections.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/connection.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/editor-options.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/object-identifier.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/semantic-tokens-dto.ts?","webpack:///./node_modules/@theia/plugin-ext/src/common/test-types.ts?","webpack:///./node_modules/@theia/plugin-ext/src/plugin/quick-open.ts?","webpack:///./node_modules/@theia/plugin-ext/src/plugin/terminal-ext.ts?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * A convenience class for managing a \"map of maps\" of arbitrary depth\n */\nexport class MultiKeyMap<K, V> {\n    private rootMap = new Map();\n\n    constructor(private readonly keyLength: number) {\n    }\n\n    static create<S, T>(keyLength: number, data: [S[], T][]): MultiKeyMap<S, T> {\n        const result = new MultiKeyMap<S, T>(keyLength);\n        for (const entry of data) {\n            result.set(entry[0], entry[1]);\n        }\n        return result;\n    }\n\n    set(key: readonly K[], value: V): V | undefined {\n        if (this.keyLength !== key.length) {\n            throw new Error(`inappropriate key length: ${key.length}, should be ${this.keyLength}`);\n        }\n        let map = this.rootMap;\n        for (let i = 0; i < this.keyLength - 1; i++) {\n            let existing = map.get(key[i]);\n            if (!existing) {\n                existing = new Map();\n                map.set(key[i], existing);\n            }\n            map = existing;\n        }\n        const oldValue = map.get(key[this.keyLength - 1]);\n        map.set(key[this.keyLength - 1], value);\n        return oldValue;\n    }\n\n    get(key: readonly K[]): V | undefined {\n        if (this.keyLength !== key.length) {\n            throw new Error(`inappropriate key length: ${key.length}, should be ${this.keyLength}`);\n        }\n        let map = this.rootMap;\n        for (let i = 0; i < this.keyLength - 1; i++) {\n            map = map.get(key[i]);\n            if (!map) {\n                return undefined;\n            }\n        }\n        return map.get(key[this.keyLength - 1]);\n    }\n\n    /**\n     * Checks whether the given key is present in the map\n     * @param key the key to test. It can have a length < the key length\n     * @returns whether the key exists\n     */\n    has(key: readonly K[]): boolean {\n        if (this.keyLength < key.length) {\n            throw new Error(`inappropriate key length: ${key.length}, should <= ${this.keyLength}`);\n        }\n        let map = this.rootMap;\n        for (let i = 0; i < key.length - 1; i++) {\n            map = map.get(key[i]);\n            if (!map) {\n                return false;\n            }\n        }\n        return map.has(key[key.length - 1]);\n    }\n\n    /**\n     * Deletes the value with the given key from the map\n     * @param key the key to remove.  It can have a length < the key length\n     * @returns whether the key was present in the map\n     */\n    delete(key: readonly K[]): boolean {\n        if (this.keyLength < key.length) {\n            throw new Error(`inappropriate key length: ${key.length}, should <= ${this.keyLength}`);\n        }\n        let map = this.rootMap;\n        for (let i = 0; i < this.keyLength - 1; i++) {\n            map = map.get(key[i]);\n            if (!map) {\n                return false;\n            }\n        }\n        return map.delete(key[key.length - 1]);\n    }\n\n    /**\n     * Iterates over all entries in the map. The ordering semantics are like iterating over a map of maps.\n     * @param handler Handler for each entry\n     */\n    forEach(handler: (value: V, key: K[]) => void): void {\n        this.doForeach(handler, this.rootMap, []);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private doForeach(handler: (value: V, key: K[]) => void, currentMap: Map<any, any>, keys: K[]): void {\n        if (keys.length === this.keyLength - 1) {\n            currentMap.forEach((v, k) => {\n                handler(v, [...keys, k]);\n            });\n        } else {\n            currentMap.forEach((v, k) => {\n                this.doForeach(handler, v, [...keys, k]);\n            });\n\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.71.2/src/vs/base/common/collections.ts\n\nexport function diffSets<T>(before: Set<T>, after: Set<T>): { removed: T[]; added: T[] } {\n    const removed: T[] = [];\n    const added: T[] = [];\n    for (const element of before) {\n        if (!after.has(element)) {\n            removed.push(element);\n        }\n    }\n    for (const element of after) {\n        if (!before.has(element)) {\n            added.push(element);\n        }\n    }\n    return { removed, added };\n}\n\nexport function diffMaps<K, V>(before: Map<K, V>, after: Map<K, V>): { removed: V[]; added: V[] } {\n    const removed: V[] = [];\n    const added: V[] = [];\n    for (const [index, value] of before) {\n        if (!after.has(index)) {\n            removed.push(value);\n        }\n    }\n    for (const [index, value] of after) {\n        if (!before.has(index)) {\n            added.push(value);\n        }\n    }\n    return { removed, added };\n}\n\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { DebugChannel } from '@theia/debug/lib/common/debug-service';\nimport { ConnectionExt, ConnectionMain } from './plugin-api-rpc';\nimport { Emitter } from '@theia/core/lib/common/event';\n\n/**\n * A channel communicating with a counterpart in a plugin host.\n */\nexport class PluginChannel implements DebugChannel {\n    private messageEmitter: Emitter<string> = new Emitter();\n    private errorEmitter: Emitter<unknown> = new Emitter();\n    private closedEmitter: Emitter<void> = new Emitter();\n\n    constructor(\n        protected readonly id: string,\n        protected readonly connection: ConnectionExt | ConnectionMain) { }\n\n    send(content: string): void {\n        this.connection.$sendMessage(this.id, content);\n    }\n\n    fireMessageReceived(msg: string): void {\n        this.messageEmitter.fire(msg);\n    }\n\n    fireError(error: unknown): void {\n        this.errorEmitter.fire(error);\n    }\n\n    fireClosed(): void {\n        this.closedEmitter.fire();\n    }\n\n    onMessage(cb: (message: string) => void): void {\n        this.messageEmitter.event(cb);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError(cb: (reason: any) => void): void {\n        this.errorEmitter.event(cb);\n    }\n\n    onClose(cb: (code: number, reason: string) => void): void {\n        this.closedEmitter.event(() => cb(-1, 'closed'));\n    }\n\n    close(): void {\n        this.connection.$deleteConnection(this.id);\n    }\n}\n\nexport class ConnectionImpl implements ConnectionMain, ConnectionExt {\n    private readonly proxy: ConnectionExt | ConnectionExt;\n    private readonly connections = new Map<string, PluginChannel>();\n\n    constructor(proxy: ConnectionMain | ConnectionExt) {\n        this.proxy = proxy;\n    }\n\n    /**\n     * Gets the connection between plugin by id and sends string message to it.\n     *\n     * @param id connection's id\n     * @param message incoming message\n     */\n    async $sendMessage(id: string, message: string): Promise<void> {\n        if (this.connections.has(id)) {\n            this.connections.get(id)!.fireMessageReceived(message);\n        } else {\n            console.warn(`Received message for unknown connection: ${id}`);\n        }\n    }\n\n    /**\n     * Instantiates a new connection by the given id.\n     * @param id the connection id\n     */\n    async $createConnection(id: string): Promise<void> {\n        console.debug(`Creating plugin connection: ${id}`);\n\n        await this.doEnsureConnection(id);\n    }\n\n    /**\n     * Deletes a connection.\n     * @param id the connection id\n     */\n    async $deleteConnection(id: string): Promise<void> {\n        console.debug(`Deleting plugin connection: ${id}`);\n        const connection = this.connections.get(id);\n        if (connection) {\n            this.connections.delete(id);\n            connection.fireClosed();\n        }\n    }\n\n    /**\n     * Returns existed connection or creates a new one.\n     * @param id the connection id\n     */\n    async ensureConnection(id: string): Promise<PluginChannel> {\n        console.debug(`Creating local connection: ${id}`);\n        const connection = await this.doEnsureConnection(id);\n        await this.proxy.$createConnection(id);\n        return connection;\n    }\n\n    /**\n     * Returns existed connection or creates a new one.\n     * @param id the connection id\n     */\n    async doEnsureConnection(id: string): Promise<PluginChannel> {\n        const connection = this.connections.get(id) || await this.doCreateConnection(id);\n        this.connections.set(id, connection);\n        return connection;\n    }\n\n    protected async doCreateConnection(id: string): Promise<PluginChannel> {\n        const channel = new PluginChannel(id, this.proxy);\n        channel.onClose(() => this.connections.delete(id));\n        return channel;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// enum copied from monaco.d.ts\n/**\n * The style in which the editor's cursor should be rendered.\n */\nexport enum TextEditorCursorStyle {\n    /**\n     * As a vertical line\n     */\n    Line = 1,\n\n    /**\n     * As a block\n     */\n    Block = 2,\n\n    /**\n     * As a horizontal line, under character\n     */\n    Underline = 3,\n\n    /**\n     * As a thin vertical line\n     */\n    LineThin = 4,\n\n    /**\n     * As an outlined block, on top of a character\n     */\n    BlockOutline = 5,\n\n    /**\n     * As a thin horizontal line, under a character\n     */\n    UnderlineThin = 6\n}\n\nexport function cursorStyleToString(cursorStyle: TextEditorCursorStyle): 'line' | 'block' | 'underline' | 'line-thin' | 'block-outline' | 'underline-thin' {\n    switch (cursorStyle) {\n        case TextEditorCursorStyle.Line:\n            return 'line';\n        case TextEditorCursorStyle.Block:\n            return 'block';\n        case TextEditorCursorStyle.Underline:\n            return 'underline';\n        case TextEditorCursorStyle.LineThin:\n            return 'line-thin';\n        case TextEditorCursorStyle.BlockOutline:\n            return 'block-outline';\n        case TextEditorCursorStyle.UnderlineThin:\n            return 'underline-thin';\n        default:\n            throw new Error('cursorStyleToString: Unknown cursorStyle');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport interface ObjectIdentifier {\n    $ident: number;\n}\n\nexport namespace ObjectIdentifier {\n    export const name = '$ident';\n\n    export function mixin<T>(obj: T, id: number): T & ObjectIdentifier {\n        Object.defineProperty(obj, name, { value: id, enumerable: true });\n        return <T & ObjectIdentifier>obj;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function of(obj: any): number {\n        return obj[name];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// copied and modified from https://github.com/microsoft/vscode/blob/0eb3a02ca2bcfab5faa3dc6e52d7c079efafcab0/src/vs/workbench/api/common/shared/semanticTokensDto.ts\n\nimport { BinaryBuffer } from '@theia/core/lib/common/buffer';\n\nlet _isLittleEndian = true;\nlet _isLittleEndianComputed = false;\nfunction isLittleEndian(): boolean {\n    if (!_isLittleEndianComputed) {\n        _isLittleEndianComputed = true;\n        const test = new Uint8Array(2);\n        test[0] = 1;\n        test[1] = 2;\n        const view = new Uint16Array(test.buffer);\n        _isLittleEndian = (view[0] === (2 << 8) + 1);\n    }\n    return _isLittleEndian;\n}\n\nexport interface IFullSemanticTokensDto {\n    id: number;\n    type: 'full';\n    data: Uint32Array;\n}\n\nexport interface IDeltaSemanticTokensDto {\n    id: number;\n    type: 'delta';\n    deltas: { start: number; deleteCount: number; data?: Uint32Array; }[];\n}\n\nexport type ISemanticTokensDto = IFullSemanticTokensDto | IDeltaSemanticTokensDto;\n\nconst enum EncodedSemanticTokensType {\n    Full = 1,\n    Delta = 2\n}\n\nfunction reverseEndianness(arr: Uint8Array): void {\n    for (let i = 0, len = arr.length; i < len; i += 4) {\n        // flip bytes 0<->3 and 1<->2\n        const b0 = arr[i + 0];\n        const b1 = arr[i + 1];\n        const b2 = arr[i + 2];\n        const b3 = arr[i + 3];\n        arr[i + 0] = b3;\n        arr[i + 1] = b2;\n        arr[i + 2] = b1;\n        arr[i + 3] = b0;\n    }\n}\n\nfunction toLittleEndianBuffer(arr: Uint32Array): BinaryBuffer {\n    const uint8Arr = new Uint8Array(arr.buffer, arr.byteOffset, arr.length * 4);\n    if (!isLittleEndian()) {\n        // the byte order must be changed\n        reverseEndianness(uint8Arr);\n    }\n    return BinaryBuffer.wrap(uint8Arr);\n}\n\nfunction fromLittleEndianBuffer(buff: BinaryBuffer): Uint32Array {\n    const uint8Arr = buff.buffer;\n    if (!isLittleEndian()) {\n        // the byte order must be changed\n        reverseEndianness(uint8Arr);\n    }\n    if (uint8Arr.byteOffset % 4 === 0) {\n        return new Uint32Array(uint8Arr.buffer, uint8Arr.byteOffset, uint8Arr.length / 4);\n    } else {\n        // unaligned memory access doesn't work on all platforms\n        const data = new Uint8Array(uint8Arr.byteLength);\n        data.set(uint8Arr);\n        return new Uint32Array(data.buffer, data.byteOffset, data.length / 4);\n    }\n}\n\nexport function encodeSemanticTokensDto(semanticTokens: ISemanticTokensDto): BinaryBuffer {\n    const dest = new Uint32Array(encodeSemanticTokensDtoSize(semanticTokens));\n    let offset = 0;\n    dest[offset++] = semanticTokens.id;\n    if (semanticTokens.type === 'full') {\n        dest[offset++] = EncodedSemanticTokensType.Full;\n        dest[offset++] = semanticTokens.data.length;\n        dest.set(semanticTokens.data, offset); offset += semanticTokens.data.length;\n    } else {\n        dest[offset++] = EncodedSemanticTokensType.Delta;\n        dest[offset++] = semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            dest[offset++] = delta.start;\n            dest[offset++] = delta.deleteCount;\n            if (delta.data) {\n                dest[offset++] = delta.data.length;\n                dest.set(delta.data, offset); offset += delta.data.length;\n            } else {\n                dest[offset++] = 0;\n            }\n        }\n    }\n    return toLittleEndianBuffer(dest);\n}\n\nfunction encodeSemanticTokensDtoSize(semanticTokens: ISemanticTokensDto): number {\n    let result = 0;\n    result += (\n        + 1 // id\n        + 1 // type\n    );\n    if (semanticTokens.type === 'full') {\n        result += (\n            + 1 // data length\n            + semanticTokens.data.length\n        );\n    } else {\n        result += (\n            + 1 // delta count\n        );\n        result += (\n            + 1 // start\n            + 1 // deleteCount\n            + 1 // data length\n        ) * semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            if (delta.data) {\n                result += delta.data.length;\n            }\n        }\n    }\n    return result;\n}\n\nexport function decodeSemanticTokensDto(_buff: BinaryBuffer): ISemanticTokensDto {\n    const src = fromLittleEndianBuffer(_buff);\n    let offset = 0;\n    const id = src[offset++];\n    const type: EncodedSemanticTokensType = src[offset++];\n    if (type === EncodedSemanticTokensType.Full) {\n        const length = src[offset++];\n        const data = src.subarray(offset, offset + length); offset += length;\n        return {\n            id: id,\n            type: 'full',\n            data: data\n        };\n    }\n    const deltaCount = src[offset++];\n    const deltas: { start: number; deleteCount: number; data?: Uint32Array; }[] = [];\n    for (let i = 0; i < deltaCount; i++) {\n        const start = src[offset++];\n        const deleteCount = src[offset++];\n        const length = src[offset++];\n        let data: Uint32Array | undefined;\n        if (length > 0) {\n            data = src.subarray(offset, offset + length); offset += length;\n        }\n        deltas[i] = { start, deleteCount, data };\n    }\n    return {\n        id: id,\n        type: 'delta',\n        deltas: deltas\n    };\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Mathieu Bussieres and others.\n\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Based on https://github.com/microsoft/vscode/blob/1.72.2/src/vs/workbench/contrib/testing/common/testTypes.ts\n\n/* eslint-disable import/no-extraneous-dependencies */\n\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { UriComponents } from './uri-components';\nimport { Location, Range } from './plugin-api-rpc-model';\nimport { isObject } from '@theia/core';\n\nexport enum TestRunProfileKind {\n    Run = 1,\n    Debug = 2,\n    Coverage = 3\n}\n\nexport interface TestRunProfileDTO {\n    readonly id: string;\n    readonly label: string;\n    readonly kind: TestRunProfileKind;\n    readonly isDefault: boolean;\n    readonly tag: string;\n    readonly canConfigure: boolean;\n}\nexport interface TestRunDTO {\n    readonly id: string;\n    readonly name: string;\n    readonly isRunning: boolean;\n}\n\nexport interface TestOutputDTO {\n    readonly output: string;\n    readonly location?: Location;\n    readonly itemPath?: string[];\n}\n\nexport enum TestExecutionState {\n    Queued = 1,\n    Running = 2,\n    Passed = 3,\n    Failed = 4,\n    Skipped = 5,\n    Errored = 6\n}\n\nexport interface TestStateChangeDTO {\n    readonly state: TestExecutionState;\n    readonly itemPath: string[];\n}\n\nexport interface TestFailureDTO extends TestStateChangeDTO {\n    readonly state: TestExecutionState.Failed | TestExecutionState.Errored;\n    readonly messages: TestMessageDTO[];\n    readonly duration?: number;\n}\n\nexport interface TestSuccessDTO extends TestStateChangeDTO {\n    readonly state: TestExecutionState.Passed;\n    readonly duration?: number;\n}\n\nexport interface TestMessageDTO {\n    readonly expected?: string;\n    readonly actual?: string;\n    readonly location?: Location;\n    readonly message: string | MarkdownString;\n}\n\nexport interface TestItemDTO {\n    readonly id: string;\n    readonly label: string;\n    readonly range?: Range;\n    readonly sortKey?: string;\n    readonly tags: string[];\n    readonly uri?: UriComponents;\n    readonly busy: boolean;\n    readonly canResolveChildren: boolean;\n    readonly description?: string;\n    readonly error?: string | MarkdownString\n    readonly children?: TestItemDTO[];\n}\n\nexport interface TestRunRequestDTO {\n    controllerId: string;\n    profileId: string;\n    name: string;\n    includedTests: string[][]; // array of paths\n    excludedTests: string[][]; // array of paths\n}\n\nexport interface TestItemReference {\n    typeTag: '$type_test_item_reference',\n    controllerId: string;\n    testPath: string[];\n}\n\nexport namespace TestItemReference {\n    export function is(ref: unknown): ref is TestItemReference {\n        return isObject<TestItemReference>(ref)\n            && ref.typeTag === '$type_test_item_reference'\n            && typeof ref.controllerId === 'string'\n            && Array.isArray(ref.testPath);\n    }\n\n    export function create(controllerId: string, testPath: string[]): TestItemReference {\n        return {\n            typeTag: '$type_test_item_reference',\n            controllerId,\n            testPath\n        };\n    }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n    QuickOpenExt, PLUGIN_RPC_CONTEXT as Ext, QuickOpenMain, TransferInputBox, Plugin,\n    Item, TransferQuickInputButton, TransferQuickPickItems, TransferQuickInput\n} from '../common/plugin-api-rpc';\nimport * as theia from '@theia/plugin';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { RPCProtocol } from '../common/rpc-protocol';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { InputBoxValidationSeverity, QuickInputButtons, QuickPickItemKind, ThemeIcon } from './types-impl';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport * as path from 'path';\nimport { convertToTransferQuickPickItems } from './type-converters';\nimport { PluginPackage } from '../common/plugin-protocol';\nimport { QuickInputButtonHandle } from '@theia/core/lib/browser';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport Severity from '@theia/monaco-editor-core/esm/vs/base/common/severity';\nimport { ThemeIcon as MonacoThemeIcon } from '@theia/monaco-editor-core/esm/vs/platform/theme/common/themeService';\n\nconst canceledName = 'Canceled';\n/**\n * Checks if the given error is a promise in canceled state\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isPromiseCanceledError(error: any): boolean {\n    return error instanceof Error && error.name === canceledName && error.message === canceledName;\n}\n\nexport function getIconUris(iconPath: theia.QuickInputButton['iconPath']): { dark: URI, light: URI } | { id: string } {\n    if (ThemeIcon.is(iconPath)) {\n        return { id: iconPath.id };\n    }\n    const dark = getDarkIconUri(iconPath as URI | { light: URI; dark: URI; });\n    const light = getLightIconUri(iconPath as URI | { light: URI; dark: URI; });\n    // Tolerate strings: https://github.com/microsoft/vscode/issues/110432#issuecomment-726144556\n    return {\n        dark: typeof dark === 'string' ? URI.file(dark) : dark,\n        light: typeof light === 'string' ? URI.file(light) : light\n    };\n}\n\nexport function getLightIconUri(iconPath: URI | { light: URI; dark: URI; }): URI {\n    return typeof iconPath === 'object' && 'light' in iconPath ? iconPath.light : iconPath;\n}\n\nexport function getDarkIconUri(iconPath: URI | { light: URI; dark: URI; }): URI {\n    return typeof iconPath === 'object' && 'dark' in iconPath ? iconPath.dark : iconPath;\n}\n\nexport function getIconPathOrClass(button: theia.QuickInputButton): { iconPath: { dark: URI; light?: URI | undefined; } | undefined; iconClass: string | undefined; } {\n    const iconPathOrIconClass = getIconUris(button.iconPath);\n    let iconPath: { dark: URI; light?: URI | undefined } | undefined;\n    let iconClass: string | undefined;\n    if ('id' in iconPathOrIconClass) {\n        iconClass = MonacoThemeIcon.asClassName(iconPathOrIconClass);\n    } else {\n        iconPath = iconPathOrIconClass;\n    }\n\n    return {\n        iconPath,\n        iconClass\n    };\n}\n\nexport class QuickOpenExtImpl implements QuickOpenExt {\n    private proxy: QuickOpenMain;\n    private onDidSelectItem: undefined | ((handle: number) => void);\n    private validateInputHandler?: (input: string) => MaybePromise<string | theia.InputBoxValidationMessage | null | undefined>;\n    private _sessions = new Map<number, QuickInputExt>(); // Each quickinput will have a number so that we know where to fire events\n    private _instances = 0;\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(Ext.QUICK_OPEN_MAIN);\n    }\n\n    /* eslint-disable max-len */\n    showQuickPick(itemsOrItemsPromise: Array<theia.QuickPickItem> | Promise<Array<theia.QuickPickItem>>, options: theia.QuickPickOptions & { canPickMany: true; }, token?: theia.CancellationToken): Promise<Array<theia.QuickPickItem> | undefined>;\n    showQuickPick(itemsOrItemsPromise: string[] | Promise<string[]>, options?: theia.QuickPickOptions, token?: theia.CancellationToken): Promise<string | undefined>;\n    showQuickPick(itemsOrItemsPromise: Array<theia.QuickPickItem> | Promise<Array<theia.QuickPickItem>>, options?: theia.QuickPickOptions, token?: theia.CancellationToken): Promise<theia.QuickPickItem | undefined>;\n    showQuickPick(itemsOrItemsPromise: Item[] | Promise<Item[]>, options?: theia.QuickPickOptions, token: theia.CancellationToken = CancellationToken.None): Promise<Item | Item[] | undefined> {\n        this.onDidSelectItem = undefined;\n\n        const itemsPromise = <Promise<Item[]>>Promise.resolve(itemsOrItemsPromise);\n\n        const instance = ++this._instances;\n\n        const widgetPromise = this.proxy.$show(instance, {\n            title: options && options.title,\n            canPickMany: options && options.canPickMany,\n            placeHolder: options && options.placeHolder,\n            matchOnDescription: options && options.matchOnDescription,\n            matchOnDetail: options && options.matchOnDetail,\n            ignoreFocusLost: options && options.ignoreFocusOut\n        }, token);\n\n        const widgetClosedMarker = {};\n        const widgetClosedPromise = widgetPromise.then(() => widgetClosedMarker);\n\n        return Promise.race([widgetClosedPromise, itemsPromise]).then(result => {\n            if (result === widgetClosedMarker) {\n                return undefined;\n            }\n            return itemsPromise.then(async items => {\n                const pickItems: Array<TransferQuickPickItems> = convertToTransferQuickPickItems(items);\n\n                if (options && typeof options.onDidSelectItem === 'function') {\n                    this.onDidSelectItem = handle => {\n                        options.onDidSelectItem!(items[handle]);\n                    };\n                }\n\n                this.proxy.$setItems(instance, pickItems);\n\n                return widgetPromise.then(handle => {\n                    if (typeof handle === 'number') {\n                        if (options && options.canPickMany) {\n                            return Array.of(items[handle]);\n                        } else {\n                            return items[handle];\n                        }\n\n                    } else if (Array.isArray(handle)) {\n                        return handle.map(h => items[h]);\n                    }\n                    return undefined;\n                });\n            });\n        }).then(undefined, err => {\n            if (isPromiseCanceledError(err)) {\n                return undefined;\n            }\n\n            this.proxy.$setError(instance, err);\n\n            return Promise.reject(err);\n        });\n    }\n\n    $onItemSelected(handle: number): void {\n        if (this.onDidSelectItem) {\n            this.onDidSelectItem(handle);\n        }\n    }\n\n    // ---- input\n\n    showInput(options?: theia.InputBoxOptions, token: theia.CancellationToken = CancellationToken.None): PromiseLike<string | undefined> {\n        this.validateInputHandler = options?.validateInput;\n        if (!options) { options = { placeHolder: '' }; }\n        return this.proxy.$input(options, typeof this.validateInputHandler === 'function', token);\n    }\n\n    async showInputBox(options: TransferInputBox): Promise<string | undefined> {\n        this.validateInputHandler = typeof options.validateInput === 'function' ? options.validateInput : undefined;\n        return this.proxy.$showInputBox(options, typeof this.validateInputHandler === 'function');\n    }\n\n    async $validateInput(input: string): Promise<string | { content: string; severity: Severity; } | null | undefined> {\n        if (!this.validateInputHandler) {\n            return;\n        }\n\n        const result = await this.validateInputHandler(input);\n        if (!result || typeof result === 'string') {\n            return result;\n        }\n\n        let severity: Severity;\n        switch (result.severity) {\n            case InputBoxValidationSeverity.Info:\n                severity = Severity.Info;\n                break;\n            case InputBoxValidationSeverity.Warning:\n                severity = Severity.Warning;\n                break;\n            case InputBoxValidationSeverity.Error:\n                severity = Severity.Error;\n                break;\n            default:\n                severity = result.message ? Severity.Error : Severity.Ignore;\n                break;\n        }\n\n        return {\n            content: result.message,\n            severity\n        };\n    }\n\n    // ---- QuickInput\n\n    createQuickPick<T extends theia.QuickPickItem>(plugin: Plugin): theia.QuickPick<T> {\n        const session: any = new QuickPickExt<T>(this, this.proxy, plugin, () => this._sessions.delete(session._id));\n        this._sessions.set(session._id, session);\n        return session;\n    }\n\n    createInputBox(plugin: Plugin): theia.InputBox {\n        const session: any = new InputBoxExt(this, this.proxy, plugin, () => this._sessions.delete(session._id));\n        this._sessions.set(session._id, session);\n        return session;\n    }\n\n    hide(): void {\n        this.proxy.$hide();\n    }\n\n    async $acceptOnDidAccept(sessionId: number): Promise<void> {\n        const session = this._sessions.get(sessionId);\n        if (session) {\n            session._fireAccept();\n        }\n    }\n\n    async $acceptDidChangeValue(sessionId: number, changedValue: string): Promise<void> {\n        const session = this._sessions.get(sessionId);\n        if (session) {\n            session._fireChangedValue(changedValue);\n        }\n    }\n\n    async $acceptOnDidHide(sessionId: number): Promise<void> {\n        const session = this._sessions.get(sessionId);\n        if (session) {\n            session._fireHide();\n        }\n    }\n\n    async $acceptOnDidTriggerButton(sessionId: number, btn: QuickInputButtonHandle): Promise<void> {\n        const session = this._sessions.get(sessionId);\n        if (session) {\n            if (btn.index === -1) {\n                session._fireButtonTrigger(QuickInputButtons.Back);\n            } else if (session && (session instanceof InputBoxExt || session instanceof QuickPickExt)) {\n                const btnFromIndex = session.buttons[btn.index];\n                session._fireButtonTrigger(btnFromIndex as theia.QuickInputButton);\n            }\n        }\n    }\n\n    $onDidChangeActive(sessionId: number, handles: number[]): void {\n        const session = this._sessions.get(sessionId);\n        if (session instanceof QuickPickExt) {\n            session._fireDidChangeActive(handles);\n        }\n    }\n\n    $onDidChangeSelection(sessionId: number, handles: number[]): void {\n        const session = this._sessions.get(sessionId);\n        if (session instanceof QuickPickExt) {\n            session._fireDidChangeSelection(handles);\n        }\n    }\n\n    $onDidTriggerItemButton(sessionId: number, itemHandle: number, buttonHandle: number): void {\n        const session = this._sessions.get(sessionId);\n        if (session instanceof QuickPickExt) {\n            session._fireDidTriggerItemButton(itemHandle, buttonHandle);\n        }\n    }\n\n}\n\nexport class QuickInputExt implements theia.QuickInput {\n\n    private static _nextId = 1;\n    _id = QuickInputExt._nextId++;\n\n    private _busy: boolean;\n    private _enabled: boolean;\n    private _ignoreFocusOut: boolean;\n    private _step: number | undefined;\n    private _title: string | undefined;\n    private _totalSteps: number | undefined;\n    private _value: string;\n    private _placeholder: string | undefined;\n    private _buttons: theia.QuickInputButton[] = [];\n    private _handlesToButtons = new Map<number, theia.QuickInputButton>();\n    protected expectingHide = false;\n    protected visible: boolean;\n    private _disposed = false;\n    protected disposableCollection: DisposableCollection;\n\n    private onDidAcceptEmitter: Emitter<void>;\n    /**\n     * it has to be named `_onDidChangeValueEmitter`, since Gitlens extension relies on it\n     * https://github.com/eamodio/vscode-gitlens/blob/f22a9cd4199ac498c217643282a6a412e1fc01ae/src/commands/gitCommands.ts#L242-L243\n     */\n    private _onDidChangeValueEmitter: Emitter<string>;\n    private onDidHideEmitter: Emitter<void>;\n    private onDidTriggerButtonEmitter: Emitter<theia.QuickInputButton>;\n    private _updateTimeout: any;\n    private _pendingUpdate: TransferQuickInput = { id: this._id };\n\n    constructor(readonly quickOpen: QuickOpenExtImpl, readonly quickOpenMain: QuickOpenMain, readonly plugin: Plugin, private _onDidDispose: () => void) {\n        this.title = undefined;\n        this.step = undefined;\n        this.totalSteps = undefined;\n        this.enabled = true;\n        this.busy = false;\n        this.ignoreFocusOut = false;\n        this.value = '';\n\n        this.visible = false;\n\n        this.disposableCollection = new DisposableCollection();\n        this.disposableCollection.push(this.onDidAcceptEmitter = new Emitter());\n        this.disposableCollection.push(this._onDidChangeValueEmitter = new Emitter());\n        this.disposableCollection.push(this.onDidHideEmitter = new Emitter());\n        this.disposableCollection.push(this.onDidTriggerButtonEmitter = new Emitter());\n    }\n\n    get title(): string | undefined {\n        return this._title;\n    }\n\n    set title(title: string | undefined) {\n        this._title = title;\n        this.update({ title });\n    }\n\n    get step(): number | undefined {\n        return this._step;\n    }\n\n    set step(step: number | undefined) {\n        this._step = step;\n        this.update({ step });\n    }\n\n    get totalSteps(): number | undefined {\n        return this._totalSteps;\n    }\n\n    set totalSteps(totalSteps: number | undefined) {\n        this._totalSteps = totalSteps;\n        this.update({ totalSteps });\n    }\n\n    get enabled(): boolean {\n        return this._enabled;\n    }\n\n    set enabled(enabled: boolean) {\n        this._enabled = enabled;\n        this.update({ enabled });\n    }\n\n    get busy(): boolean {\n        return this._busy;\n    }\n\n    set busy(busy: boolean) {\n        this._busy = busy;\n        this.update({ busy });\n    }\n\n    get ignoreFocusOut(): boolean {\n        return this._ignoreFocusOut;\n    }\n\n    set ignoreFocusOut(ignoreFocusOut: boolean) {\n        this._ignoreFocusOut = ignoreFocusOut;\n        this.update({ ignoreFocusOut });\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    set value(value: string) {\n        this._value = value;\n        this.update({ value });\n    }\n\n    get placeholder(): string | undefined {\n        return this._placeholder;\n    }\n\n    set placeholder(placeholder: string | undefined) {\n        this._placeholder = placeholder;\n        this.update({ placeholder });\n    }\n\n    get buttons(): theia.QuickInputButton[] {\n        return this._buttons;\n    }\n\n    set buttons(buttons: theia.QuickInputButton[]) {\n        this._buttons = buttons.slice();\n        this._handlesToButtons.clear();\n        buttons.forEach((button, i) => {\n            const handle = button === QuickInputButtons.Back ? -1 : i;\n            this._handlesToButtons.set(handle, button);\n        });\n        this.update({\n            buttons: buttons.map<TransferQuickInputButton>((button, i) => ({\n                iconPath: getIconUris(button.iconPath),\n                iconClass: ThemeIcon.is(button.iconPath) ? MonacoThemeIcon.asClassName(button.iconPath) : undefined,\n                tooltip: button.tooltip,\n                handle: button === QuickInputButtons.Back ? -1 : i,\n            }))\n        });\n    }\n\n    show(): void {\n        this.visible = true;\n        this.expectingHide = true;\n        this.update({ visible: true });\n    }\n\n    dispose(): void {\n        if (this._disposed) {\n            return;\n        }\n        this._disposed = true;\n        this._fireHide();\n        this.disposableCollection.dispose();\n        this._onDidDispose();\n        this.quickOpenMain.$dispose(this._id);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected update(properties: Record<string, any>): void {\n        if (this._disposed) {\n            return;\n        }\n        for (const key of Object.keys(properties)) {\n            const value = properties[key];\n            this._pendingUpdate[key] = value === undefined ? null : value;\n        }\n\n        if ('visible' in this._pendingUpdate) {\n            if (this._updateTimeout) {\n                clearTimeout(this._updateTimeout);\n                this._updateTimeout = undefined;\n            }\n            this.dispatchUpdate();\n        } else if (this.visible && !this._updateTimeout) {\n            // Defer the update so that multiple changes to setters dont cause a redraw each\n            this._updateTimeout = setTimeout(() => {\n                this._updateTimeout = undefined;\n                this.dispatchUpdate();\n            }, 0);\n        }\n    }\n\n    private dispatchUpdate(): void {\n        this.quickOpenMain.$createOrUpdate(this._pendingUpdate);\n        this._pendingUpdate = { id: this._id };\n    }\n\n    hide(): void {\n        this.quickOpenMain.$hide();\n        this.dispose();\n    }\n\n    protected convertURL(iconPath: URI | { light: string | URI; dark: string | URI } | ThemeIcon):\n        URI | { light: string | URI; dark: string | URI } | ThemeIcon {\n        const toUrl = (arg: string | URI) => {\n            arg = arg instanceof URI && arg.scheme === 'file' ? arg.fsPath : arg;\n            if (typeof arg !== 'string') {\n                return arg.toString(true);\n            }\n            const { packagePath } = this.plugin.rawModel;\n            const absolutePath = path.isAbsolute(arg) ? arg : path.join(packagePath, arg);\n            const normalizedPath = path.normalize(absolutePath);\n            const relativePath = path.relative(packagePath, normalizedPath);\n            return PluginPackage.toPluginUrl(this.plugin.rawModel, relativePath);\n        };\n        if (ThemeIcon.is(iconPath)) {\n            return iconPath;\n        } else if (typeof iconPath === 'string' || iconPath instanceof URI) {\n            return URI.parse(toUrl(iconPath));\n        } else {\n            const { light, dark } = iconPath as { light: string | URI, dark: string | URI };\n            return {\n                light: toUrl(light),\n                dark: toUrl(dark)\n            };\n        }\n    }\n\n    _fireAccept(): void {\n        this.onDidAcceptEmitter.fire(undefined);\n    }\n\n    _fireChangedValue(changedValue: string): void {\n        this._value = changedValue;\n        this._onDidChangeValueEmitter.fire(changedValue);\n    }\n\n    _fireHide(): void {\n        if (this.expectingHide) {\n            this.expectingHide = false;\n            this.onDidHideEmitter.fire(undefined);\n        }\n    }\n\n    _fireButtonTrigger(btn: theia.QuickInputButton): void {\n        this.onDidTriggerButtonEmitter.fire(btn);\n    }\n\n    get onDidHide(): Event<void> {\n        return this.onDidHideEmitter.event;\n    }\n\n    get onDidAccept(): Event<void> {\n        return this.onDidAcceptEmitter.event;\n    }\n\n    get onDidChangeValue(): Event<string> {\n        return this._onDidChangeValueEmitter.event;\n    }\n\n    get onDidTriggerButton(): Event<theia.QuickInputButton> {\n        return this.onDidTriggerButtonEmitter.event;\n    }\n}\n\n/**\n * Base implementation of {@link InputBox} that uses {@link QuickOpenExt}.\n * Missing functionality is going to be implemented in the scope of https://github.com/eclipse-theia/theia/issues/5109\n */\nexport class InputBoxExt extends QuickInputExt implements theia.InputBox {\n\n    private _password: boolean;\n    private _prompt: string | undefined;\n    private _valueSelection: readonly [number, number] | undefined;\n    private _validationMessage: string | undefined;\n\n    constructor(\n        override readonly quickOpen: QuickOpenExtImpl,\n        override readonly quickOpenMain: QuickOpenMain,\n        override readonly plugin: Plugin,\n        onDispose: () => void\n    ) {\n        super(quickOpen, quickOpenMain, plugin, onDispose);\n\n        this.buttons = [];\n        this.password = false;\n        this.value = '';\n    }\n\n    get password(): boolean {\n        return this._password;\n    }\n\n    set password(password: boolean) {\n        this._password = password;\n        this.update({ password });\n    }\n\n    get prompt(): string | undefined {\n        return this._prompt;\n    }\n\n    set prompt(prompt: string | undefined) {\n        this._prompt = prompt;\n        this.update({ prompt });\n    }\n\n    get valueSelection(): readonly [number, number] | undefined {\n        return this._valueSelection;\n    }\n\n    set valueSelection(valueSelection: readonly [number, number] | undefined) {\n        this._valueSelection = valueSelection;\n        this.update({ valueSelection });\n    }\n\n    get validationMessage(): string | undefined {\n        return this._validationMessage;\n    }\n\n    set validationMessage(validationMessage: string | undefined) {\n        if (this._validationMessage !== validationMessage) {\n            this._validationMessage = validationMessage;\n            this.update({ validationMessage });\n        }\n    }\n}\n\n/**\n * Base implementation of {@link QuickPick} that uses {@link QuickOpenExt}.\n * Missing functionality is going to be implemented in the scope of https://github.com/eclipse-theia/theia/issues/5059\n */\nexport class QuickPickExt<T extends theia.QuickPickItem> extends QuickInputExt implements theia.QuickPick<T> {\n    private _items: T[] = [];\n    private _handlesToItems = new Map<number, T>();\n    private _itemsToHandles = new Map<T, number>();\n    private _canSelectMany = false;\n    private _matchOnDescription = true;\n    private _matchOnDetail = true;\n    private _sortByLabel = true;\n    private _keepScrollPosition = false;\n    private _activeItems: T[] = [];\n    private _selectedItems: T[] = [];\n    private readonly _onDidChangeActiveEmitter = new Emitter<T[]>();\n    private readonly _onDidChangeSelectionEmitter = new Emitter<T[]>();\n    private readonly _onDidTriggerItemButtonEmitter = new Emitter<theia.QuickPickItemButtonEvent<T>>();\n\n    constructor(\n        override readonly quickOpen: QuickOpenExtImpl,\n        override readonly quickOpenMain: QuickOpenMain,\n        override readonly plugin: Plugin,\n        onDispose: () => void\n    ) {\n        super(quickOpen, quickOpenMain, plugin, onDispose);\n        this.buttons = [];\n\n        this.disposableCollection.push(this._onDidChangeActiveEmitter);\n        this.disposableCollection.push(this._onDidChangeSelectionEmitter);\n        this.disposableCollection.push(this._onDidTriggerItemButtonEmitter);\n\n        this.update({ type: 'quickPick' });\n    }\n\n    get items(): T[] {\n        return this._items;\n    }\n\n    set items(items: T[]) {\n        this._items = items.slice();\n        this._handlesToItems.clear();\n        this._itemsToHandles.clear();\n        items.forEach((item, i) => {\n            this._handlesToItems.set(i, item);\n            this._itemsToHandles.set(item, i);\n        });\n\n        const pickItems: TransferQuickPickItems[] = [];\n        for (let handle = 0; handle < items.length; handle++) {\n            const item = items[handle];\n            if (item.kind === QuickPickItemKind.Separator) {\n                pickItems.push({ type: 'separator', label: item.label, handle });\n            } else {\n                pickItems.push({\n                    kind: item.kind,\n                    label: item.label,\n                    iconPath: item.iconPath ? getIconUris(item.iconPath) : undefined,\n                    description: item.description,\n                    handle,\n                    detail: item.detail,\n                    picked: item.picked,\n                    alwaysShow: item.alwaysShow,\n                    buttons: item.buttons?.map<TransferQuickInputButton>((button, index) => ({\n                        iconPath: getIconUris(button.iconPath),\n                        iconClass: ThemeIcon.is(button.iconPath) ? MonacoThemeIcon.asClassName(button.iconPath) : undefined,\n                        tooltip: button.tooltip,\n                        handle: button === QuickInputButtons.Back ? -1 : index,\n                    }))\n                });\n            }\n        }\n\n        this.update({\n            items: pickItems,\n        });\n    }\n\n    get canSelectMany(): boolean {\n        return this._canSelectMany;\n    }\n\n    set canSelectMany(canSelectMany: boolean) {\n        this._canSelectMany = canSelectMany;\n        this.update({ canSelectMany });\n    }\n\n    get matchOnDescription(): boolean {\n        return this._matchOnDescription;\n    }\n\n    set matchOnDescription(matchOnDescription: boolean) {\n        this._matchOnDescription = matchOnDescription;\n        this.update({ matchOnDescription });\n    }\n\n    get matchOnDetail(): boolean {\n        return this._matchOnDetail;\n    }\n\n    set matchOnDetail(matchOnDetail: boolean) {\n        this._matchOnDetail = matchOnDetail;\n        this.update({ matchOnDetail });\n    }\n\n    get sortByLabel(): boolean {\n        return this._sortByLabel;\n    }\n\n    set sortByLabel(sortByLabel: boolean) {\n        this._sortByLabel = sortByLabel;\n        this.update({ sortByLabel });\n    }\n\n    get keepScrollPosition(): boolean {\n        return this._keepScrollPosition;\n    }\n\n    set keepScrollPosition(keepScrollPosition: boolean) {\n        this._keepScrollPosition = keepScrollPosition;\n        this.update({ keepScrollPosition });\n    }\n\n    get activeItems(): T[] {\n        return this._activeItems;\n    }\n\n    set activeItems(activeItems: T[]) {\n        this._activeItems = activeItems.filter(item => this._itemsToHandles.has(item));\n        this.update({ activeItems: this._activeItems.map(item => this._itemsToHandles.get(item)) });\n    }\n\n    onDidChangeActive = this._onDidChangeActiveEmitter.event;\n\n    get selectedItems(): T[] {\n        return this._selectedItems;\n    }\n\n    set selectedItems(selectedItems: T[]) {\n        this._selectedItems = selectedItems.filter(item => this._itemsToHandles.has(item));\n        this.update({ selectedItems: this._selectedItems.map(item => this._itemsToHandles.get(item)) });\n    }\n\n    onDidChangeSelection = this._onDidChangeSelectionEmitter.event;\n\n    _fireDidChangeActive(handles: number[]): void {\n        const items = handles.map(handle => this._handlesToItems.get(handle)).filter(e => !!e) as T[];\n        this._activeItems = items;\n        this._onDidChangeActiveEmitter.fire(items);\n    }\n\n    _fireDidChangeSelection(handles: number[]): void {\n        const items = handles.map(handle => this._handlesToItems.get(handle)).filter(e => !!e) as T[];\n        this._selectedItems = items;\n        this._onDidChangeSelectionEmitter.fire(items);\n    }\n\n    onDidTriggerItemButton = this._onDidTriggerItemButtonEmitter.event;\n\n    _fireDidTriggerItemButton(itemHandle: number, buttonHandle: number): void {\n        const item = this._handlesToItems.get(itemHandle)!;\n        if (!item || !item.buttons || !item.buttons.length) {\n            return;\n        }\n        const button = item.buttons[buttonHandle];\n        if (button) {\n            this._onDidTriggerItemButtonEmitter.fire({\n                button,\n                item\n            });\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { UUID } from '@theia/core/shared/@phosphor/coreutils';\nimport { Terminal, TerminalOptions, PseudoTerminalOptions, ExtensionTerminalOptions, TerminalState } from '@theia/plugin';\nimport { TerminalServiceExt, TerminalServiceMain, PLUGIN_RPC_CONTEXT } from '../common/plugin-api-rpc';\nimport { RPCProtocol } from '../common/rpc-protocol';\nimport { Event, Emitter } from '@theia/core/lib/common/event';\nimport { MultiKeyMap } from '@theia/core/lib/common/collections';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport * as theia from '@theia/plugin';\nimport * as Converter from './type-converters';\nimport { Disposable, EnvironmentVariableMutatorType, TerminalExitReason, ThemeIcon } from './types-impl';\nimport { NO_ROOT_URI, SerializableEnvironmentVariableCollection } from '@theia/terminal/lib/common/shell-terminal-protocol';\nimport { ProvidedTerminalLink } from '../common/plugin-api-rpc-model';\nimport { ThemeIcon as MonacoThemeIcon } from '@theia/monaco-editor-core/esm/vs/platform/theme/common/themeService';\n\nexport function getIconUris(iconPath: theia.TerminalOptions['iconPath']): { id: string } | undefined {\n    if (ThemeIcon.is(iconPath)) {\n        return { id: iconPath.id };\n    }\n    return undefined;\n}\n\nexport function getIconClass(options: theia.TerminalOptions | theia.ExtensionTerminalOptions): string | undefined {\n    const iconClass = getIconUris(options.iconPath);\n    if (iconClass) {\n        return MonacoThemeIcon.asClassName(iconClass);\n    }\n    return undefined;\n}\n\n/**\n * Provides high level terminal plugin api to use in the Theia plugins.\n * This service allow(with help proxy) create and use terminal emulator.\n */\nexport class TerminalServiceExtImpl implements TerminalServiceExt {\n\n    private readonly proxy: TerminalServiceMain;\n\n    private readonly _terminals = new Map<string, TerminalExtImpl>();\n\n    private readonly _pseudoTerminals = new Map<string, PseudoTerminal>();\n\n    private static nextProviderId = 0;\n    private readonly terminalLinkProviders = new Map<string, theia.TerminalLinkProvider>();\n    private readonly terminalProfileProviders = new Map<string, theia.TerminalProfileProvider>();\n    private readonly onDidCloseTerminalEmitter = new Emitter<Terminal>();\n    readonly onDidCloseTerminal: theia.Event<Terminal> = this.onDidCloseTerminalEmitter.event;\n\n    private readonly onDidOpenTerminalEmitter = new Emitter<Terminal>();\n    readonly onDidOpenTerminal: theia.Event<Terminal> = this.onDidOpenTerminalEmitter.event;\n\n    private readonly onDidChangeActiveTerminalEmitter = new Emitter<Terminal | undefined>();\n    readonly onDidChangeActiveTerminal: theia.Event<Terminal | undefined> = this.onDidChangeActiveTerminalEmitter.event;\n\n    private readonly onDidChangeTerminalStateEmitter = new Emitter<Terminal>();\n    readonly onDidChangeTerminalState: theia.Event<Terminal> = this.onDidChangeTerminalStateEmitter.event;\n\n    protected environmentVariableCollections: MultiKeyMap<string, EnvironmentVariableCollectionImpl> = new MultiKeyMap(2);\n\n    constructor(rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(PLUGIN_RPC_CONTEXT.TERMINAL_MAIN);\n    }\n\n    get terminals(): TerminalExtImpl[] {\n        return [...this._terminals.values()];\n    }\n\n    createTerminal(\n        nameOrOptions: TerminalOptions | PseudoTerminalOptions | ExtensionTerminalOptions | (string | undefined),\n        shellPath?: string, shellArgs?: string[] | string\n    ): Terminal {\n        const id = `plugin-terminal-${UUID.uuid4()}`;\n        let options: TerminalOptions;\n        let pseudoTerminal: theia.Pseudoterminal | undefined = undefined;\n        if (typeof nameOrOptions === 'object') {\n            if ('pty' in nameOrOptions) {\n                pseudoTerminal = nameOrOptions.pty;\n                options = {\n                    name: nameOrOptions.name,\n                };\n                this._pseudoTerminals.set(id, new PseudoTerminal(id, this.proxy, pseudoTerminal));\n            } else {\n                options = nameOrOptions;\n            }\n        } else {\n            options = {\n                name: nameOrOptions,\n                shellPath: shellPath,\n                shellArgs: shellArgs\n            };\n        }\n\n        let parentId;\n\n        if (options.location && typeof options.location === 'object' && 'parentTerminal' in options.location) {\n            const parentTerminal = options.location.parentTerminal;\n            if (parentTerminal instanceof TerminalExtImpl) {\n                for (const [k, v] of this._terminals) {\n                    if (v === parentTerminal) {\n                        parentId = k;\n                        break;\n                    }\n                }\n            }\n        }\n\n        this.proxy.$createTerminal(id, options, parentId, !!pseudoTerminal);\n\n        let creationOptions: theia.TerminalOptions | theia.ExtensionTerminalOptions = options;\n        // make sure to pass ExtensionTerminalOptions as creation options\n        if (typeof nameOrOptions === 'object' && 'pty' in nameOrOptions) {\n            creationOptions = nameOrOptions;\n        }\n        return this.obtainTerminal(id, options.name || 'Terminal', creationOptions);\n    }\n\n    attachPtyToTerminal(terminalId: number, pty: theia.Pseudoterminal): void {\n        this._pseudoTerminals.set(terminalId.toString(), new PseudoTerminal(terminalId, this.proxy, pty, true));\n    }\n\n    protected obtainTerminal(id: string, name: string, options?: theia.TerminalOptions | theia.ExtensionTerminalOptions): TerminalExtImpl {\n        let terminal = this._terminals.get(id);\n        if (!terminal) {\n            terminal = new TerminalExtImpl(this.proxy, options ?? {});\n            this._terminals.set(id, terminal);\n        }\n        terminal.name = name;\n        return terminal;\n    }\n\n    $terminalOnInput(id: string, data: string): void {\n        const terminal = this._pseudoTerminals.get(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.emitOnInput(data);\n    }\n\n    $terminalStateChanged(id: string): void {\n        const terminal = this._terminals.get(id);\n        if (!terminal) {\n            return;\n        }\n        if (!terminal.state.isInteractedWith) {\n            terminal.state = { isInteractedWith: true };\n            this.onDidChangeTerminalStateEmitter.fire(terminal);\n        }\n    }\n\n    $terminalSizeChanged(id: string, clos: number, rows: number): void {\n        const terminal = this._pseudoTerminals.get(id);\n        if (!terminal) {\n            return;\n        }\n        terminal.emitOnResize(clos, rows);\n    }\n\n    $terminalCreated(id: string, name: string): void {\n        const terminal = this.obtainTerminal(id, name);\n        terminal.id.resolve(id);\n        this.onDidOpenTerminalEmitter.fire(terminal);\n    }\n\n    $terminalNameChanged(id: string, name: string): void {\n        const terminal = this._terminals.get(id);\n        if (terminal) {\n            terminal.name = name;\n        }\n    }\n\n    $terminalOpened(id: string, processId: number, terminalId: number, cols: number, rows: number): void {\n        const terminal = this._terminals.get(id);\n        if (terminal) {\n            // resolve for existing clients\n            terminal.deferredProcessId.resolve(processId);\n            // install new if terminal is reconnected\n            terminal.deferredProcessId = new Deferred<number>();\n            terminal.deferredProcessId.resolve(processId);\n        }\n\n        // Switch the pseudoterminal keyed by terminalId to be keyed by terminal ID\n        const tId = terminalId.toString();\n        if (this._pseudoTerminals.has(tId)) {\n            const pseudo = this._pseudoTerminals.get(tId);\n            if (pseudo) {\n                this._pseudoTerminals.set(id, pseudo);\n            }\n            this._pseudoTerminals.delete(tId);\n        }\n\n        const pseudoTerminal = this._pseudoTerminals.get(id);\n        if (pseudoTerminal) {\n            pseudoTerminal.emitOnOpen(cols, rows);\n        }\n    }\n\n    $terminalClosed(id: string, exitStatus: theia.TerminalExitStatus | undefined): void {\n        const terminal = this._terminals.get(id);\n        if (terminal) {\n            terminal.exitStatus = exitStatus ?? { code: undefined, reason: TerminalExitReason.Unknown };\n            this.onDidCloseTerminalEmitter.fire(terminal);\n            this._terminals.delete(id);\n        }\n        const pseudoTerminal = this._pseudoTerminals.get(id);\n        if (pseudoTerminal) {\n            pseudoTerminal.emitOnClose();\n            this._pseudoTerminals.delete(id);\n        }\n    }\n\n    private activeTerminalId: string | undefined;\n    get activeTerminal(): TerminalExtImpl | undefined {\n        return this.activeTerminalId && this._terminals.get(this.activeTerminalId) || undefined;\n    }\n    $currentTerminalChanged(id: string | undefined): void {\n        this.activeTerminalId = id;\n        this.onDidChangeActiveTerminalEmitter.fire(this.activeTerminal);\n    }\n\n    registerTerminalLinkProvider(provider: theia.TerminalLinkProvider): theia.Disposable {\n        const providerId = (TerminalServiceExtImpl.nextProviderId++).toString();\n        this.terminalLinkProviders.set(providerId, provider);\n        this.proxy.$registerTerminalLinkProvider(providerId);\n        return Disposable.create(() => {\n            this.proxy.$unregisterTerminalLinkProvider(providerId);\n            this.terminalLinkProviders.delete(providerId);\n        });\n    }\n\n    registerTerminalProfileProvider(id: string, provider: theia.TerminalProfileProvider): theia.Disposable {\n        this.terminalProfileProviders.set(id, provider);\n        return Disposable.create(() => {\n            this.terminalProfileProviders.delete(id);\n        });\n    }\n\n    /** @stubbed */\n    registerTerminalQuickFixProvider(id: string, provider: theia.TerminalQuickFixProvider): theia.Disposable {\n        return Disposable.NULL;\n    }\n\n    protected isExtensionTerminalOptions(options: theia.TerminalOptions | theia.ExtensionTerminalOptions): options is theia.ExtensionTerminalOptions {\n        return 'pty' in options;\n    }\n\n    async $startProfile(profileId: string, cancellationToken: theia.CancellationToken): Promise<string> {\n        const provider = this.terminalProfileProviders.get(profileId);\n        if (!provider) {\n            throw new Error(`No terminal profile provider with id '${profileId}'`);\n        }\n        const profile = await provider.provideTerminalProfile(cancellationToken);\n        if (!profile) {\n            throw new Error(`Profile with id ${profileId} could not be created`);\n        }\n        const id = `plugin-terminal-${UUID.uuid4()}`;\n        const options = profile.options;\n        if (this.isExtensionTerminalOptions(options)) {\n            this._pseudoTerminals.set(id, new PseudoTerminal(id, this.proxy, options.pty));\n            return this.proxy.$createTerminal(id, { name: options.name }, undefined, true);\n        } else {\n            return this.proxy.$createTerminal(id, profile.options);\n        }\n    }\n\n    async $provideTerminalLinks(line: string, terminalId: string, token: theia.CancellationToken): Promise<ProvidedTerminalLink[]> {\n        const links: ProvidedTerminalLink[] = [];\n        const terminal = this._terminals.get(terminalId);\n        if (terminal) {\n            for (const [providerId, provider] of this.terminalLinkProviders) {\n                const providedLinks = await provider.provideTerminalLinks({ line, terminal }, token);\n                if (providedLinks) {\n                    links.push(...providedLinks.map(link => ({ ...link, providerId })));\n                }\n            }\n        }\n        return links;\n    }\n\n    async $handleTerminalLink(link: ProvidedTerminalLink): Promise<void> {\n        const provider = this.terminalLinkProviders.get(link.providerId);\n        if (!provider) {\n            throw Error('Terminal link provider not found');\n        }\n        await provider.handleTerminalLink(link);\n    }\n\n    /*---------------------------------------------------------------------------------------------\n     *  Copyright (c) Microsoft Corporation. All rights reserved.\n     *  Licensed under the MIT License. See License.txt in the project root for license information.\n     *--------------------------------------------------------------------------------------------*/\n    // some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.0/src/vs/workbench/api/common/extHostTerminalService.ts\n\n    getEnvironmentVariableCollection(extensionIdentifier: string, rootUri: string = NO_ROOT_URI): theia.GlobalEnvironmentVariableCollection {\n        const that = this;\n        let collection = this.environmentVariableCollections.get([extensionIdentifier, rootUri]);\n        if (!collection) {\n            collection = new class extends EnvironmentVariableCollectionImpl {\n                override getScoped(scope: theia.EnvironmentVariableScope): theia.EnvironmentVariableCollection {\n                    return that.getEnvironmentVariableCollection(extensionIdentifier, scope.workspaceFolder?.uri.toString());\n                }\n            }(true);\n            this.setEnvironmentVariableCollection(extensionIdentifier, rootUri, collection);\n        }\n        return collection;\n    }\n\n    private syncEnvironmentVariableCollection(extensionIdentifier: string, rootUri: string, collection: EnvironmentVariableCollectionImpl): void {\n        const serialized = [...collection.map.entries()];\n        this.proxy.$setEnvironmentVariableCollection(collection.persistent, extensionIdentifier,\n            rootUri,\n            {\n                mutators: serialized,\n                description: Converter.fromMarkdownOrString(collection.description)\n            });\n    }\n\n    private setEnvironmentVariableCollection(pluginIdentifier: string, rootUri: string, collection: EnvironmentVariableCollectionImpl): void {\n        this.environmentVariableCollections.set([pluginIdentifier, rootUri], collection);\n        collection.onDidChangeCollection(() => {\n            // When any collection value changes send this immediately, this is done to ensure\n            // following calls to createTerminal will be created with the new environment. It will\n            // result in more noise by sending multiple updates when called but collections are\n            // expected to be small.\n            this.syncEnvironmentVariableCollection(pluginIdentifier, rootUri, collection);\n        });\n    }\n\n    $initEnvironmentVariableCollections(collections: [string, string, boolean, SerializableEnvironmentVariableCollection][]): void {\n        collections.forEach(entry => {\n            const extensionIdentifier = entry[0];\n            const rootUri = entry[1];\n            const collection = new EnvironmentVariableCollectionImpl(entry[2], entry[3]);\n            this.setEnvironmentVariableCollection(extensionIdentifier, rootUri, collection);\n        });\n    }\n\n}\n\nexport class EnvironmentVariableCollectionImpl implements theia.GlobalEnvironmentVariableCollection {\n    readonly map: Map<string, theia.EnvironmentVariableMutator> = new Map();\n    private _description?: string | theia.MarkdownString;\n    private _persistent: boolean = true;\n\n    public get description(): string | theia.MarkdownString | undefined { return this._description; }\n    public set description(value: string | theia.MarkdownString | undefined) {\n        this._description = value;\n        this.onDidChangeCollectionEmitter.fire();\n    }\n\n    public get persistent(): boolean { return this._persistent; }\n    public set persistent(value: boolean) {\n        this._persistent = value;\n        this.onDidChangeCollectionEmitter.fire();\n    }\n\n    protected readonly onDidChangeCollectionEmitter: Emitter<void> = new Emitter<void>();\n    onDidChangeCollection: Event<void> = this.onDidChangeCollectionEmitter.event;\n\n    constructor(\n        persistent: boolean,\n        serialized?: SerializableEnvironmentVariableCollection\n    ) {\n        this._persistent = persistent;\n        this.map = new Map(serialized?.mutators);\n    }\n\n    getScoped(scope: theia.EnvironmentVariableScope): theia.EnvironmentVariableCollection {\n        throw new Error('Cannot get scoped from a regular env var collection');\n    }\n\n    get size(): number {\n        return this.map.size;\n    }\n\n    replace(variable: string, value: string, options?: theia.EnvironmentVariableMutatorOptions): void {\n        this._setIfDiffers(variable, { value, type: EnvironmentVariableMutatorType.Replace, options: options ?? { applyAtProcessCreation: true } });\n    }\n\n    append(variable: string, value: string, options?: theia.EnvironmentVariableMutatorOptions): void {\n        this._setIfDiffers(variable, { value, type: EnvironmentVariableMutatorType.Append, options: options ?? { applyAtProcessCreation: true } });\n    }\n\n    prepend(variable: string, value: string, options?: theia.EnvironmentVariableMutatorOptions): void {\n        this._setIfDiffers(variable, { value, type: EnvironmentVariableMutatorType.Prepend, options: options ?? { applyAtProcessCreation: true } });\n    }\n\n    private _setIfDiffers(variable: string, mutator: theia.EnvironmentVariableMutator): void {\n        const current = this.map.get(variable);\n        if (!current || current.value !== mutator.value || current.type !== mutator.type) {\n            this.map.set(variable, mutator);\n            this.onDidChangeCollectionEmitter.fire();\n        }\n    }\n\n    get(variable: string): theia.EnvironmentVariableMutator | undefined {\n        return this.map.get(variable);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    forEach(callback: (variable: string, mutator: theia.EnvironmentVariableMutator, collection: theia.EnvironmentVariableCollection) => any, thisArg?: any): void {\n        this.map.forEach((value, key) => callback.call(thisArg, key, value, this));\n    }\n\n    delete(variable: string): void {\n        this.map.delete(variable);\n        this.onDidChangeCollectionEmitter.fire();\n    }\n\n    clear(): void {\n        this.map.clear();\n        this.onDidChangeCollectionEmitter.fire();\n    }\n}\n\nexport class TerminalExtImpl implements Terminal {\n\n    name: string;\n\n    readonly id = new Deferred<string>();\n\n    exitStatus: theia.TerminalExitStatus | undefined;\n\n    deferredProcessId = new Deferred<number>();\n\n    get processId(): Thenable<number> {\n        return this.deferredProcessId.promise;\n    }\n\n    readonly creationOptions: Readonly<TerminalOptions | ExtensionTerminalOptions>;\n\n    state: TerminalState = { isInteractedWith: false };\n\n    constructor(private readonly proxy: TerminalServiceMain, private readonly options: theia.TerminalOptions | theia.ExtensionTerminalOptions) {\n        this.creationOptions = this.options;\n    }\n\n    sendText(text: string, addNewLine: boolean = true): void {\n        this.id.promise.then(id => this.proxy.$sendText(id, text, addNewLine));\n    }\n\n    show(preserveFocus?: boolean): void {\n        this.id.promise.then(id => this.proxy.$show(id, preserveFocus));\n    }\n\n    hide(): void {\n        this.id.promise.then(id => this.proxy.$hide(id));\n    }\n\n    dispose(): void {\n        this.id.promise.then(id => this.proxy.$dispose(id));\n    }\n}\n\nexport class PseudoTerminal {\n    constructor(\n        id: string | number,\n        private readonly proxy: TerminalServiceMain,\n        private readonly pseudoTerminal: theia.Pseudoterminal,\n        waitOnExit?: boolean | string\n    ) {\n\n        pseudoTerminal.onDidWrite(data => {\n            if (typeof id === 'string') {\n                this.proxy.$write(id, data);\n            } else {\n                this.proxy.$writeByTerminalId(id, data);\n            }\n        });\n        if (pseudoTerminal.onDidClose) {\n            pseudoTerminal.onDidClose((e: number | void = undefined) => {\n                if (typeof id === 'string') {\n                    this.proxy.$dispose(id);\n                } else {\n                    this.proxy.$disposeByTerminalId(id, waitOnExit);\n                }\n            });\n        }\n        if (pseudoTerminal.onDidOverrideDimensions) {\n            pseudoTerminal.onDidOverrideDimensions(e => {\n                if (e) {\n                    if (typeof id === 'string') {\n                        this.proxy.$resize(id, e.columns, e.rows);\n                    } else {\n                        this.proxy.$resizeByTerminalId(id, e.columns, e.rows);\n                    }\n                }\n            });\n        }\n        if (pseudoTerminal.onDidChangeName) {\n            pseudoTerminal.onDidChangeName(name => {\n                if (typeof id === 'string') {\n                    this.proxy.$setName(id, name);\n                } else {\n                    this.proxy.$setNameByTerminalId(id, name);\n                }\n            });\n        }\n    }\n\n    emitOnClose(): void {\n        this.pseudoTerminal.close();\n    }\n\n    emitOnInput(data: string): void {\n        if (this.pseudoTerminal.handleInput) {\n            this.pseudoTerminal.handleInput(data);\n        }\n    }\n\n    emitOnOpen(cols: number, rows: number): void {\n        this.pseudoTerminal.open({\n            rows,\n            columns: cols,\n        });\n    }\n\n    emitOnResize(cols: number, rows: number): void {\n        if (this.pseudoTerminal.setDimensions) {\n            this.pseudoTerminal.setDimensions({ columns: cols, rows });\n        }\n    }\n}\n"],"names":[],"sourceRoot":""}