{"version":3,"file":"vendors-node_modules_theia_task_lib_browser_quick-open-task_js.js","mappings":"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","sources":["webpack:///./node_modules/@theia/core/shared/@phosphor/coreutils/index.js?","webpack:///./node_modules/@theia/task/src/browser/provided-task-configurations.ts?","webpack:///./node_modules/@theia/task/src/browser/quick-open-task.ts?","webpack:///./node_modules/@theia/task/src/browser/task-configuration-manager.ts?","webpack:///./node_modules/@theia/task/src/browser/task-configuration-model.ts?","webpack:///./node_modules/@theia/task/src/browser/task-configurations.ts?","webpack:///./node_modules/@theia/task/src/browser/task-contribution.ts?","webpack:///./node_modules/@theia/task/src/browser/task-definition-registry.ts?","webpack:///./node_modules/@theia/task/src/browser/task-name-resolver.ts?","webpack:///./node_modules/@theia/task/src/browser/task-node.ts?","webpack:///./node_modules/@theia/task/src/browser/task-problem-matcher-registry.ts?","webpack:///./node_modules/@theia/task/src/browser/task-problem-pattern-registry.ts?","webpack:///./node_modules/@theia/task/src/browser/task-schema-updater.ts?","webpack:///./node_modules/@theia/task/src/browser/task-service.ts?","webpack:///./node_modules/@theia/task/src/browser/task-source-resolver.ts?","webpack:///./node_modules/@theia/task/src/browser/task-templates.ts?","webpack:///./node_modules/@theia/task/src/browser/task-terminal-widget-manager.ts?","webpack:///./node_modules/@theia/task/src/common/index.ts?","webpack:///./node_modules/@theia/task/src/common/problem-matcher-protocol.ts?","webpack:///./node_modules/@theia/task/src/common/process/task-protocol.ts?","webpack:///./node_modules/@theia/task/src/common/task-protocol.ts?","webpack:///./node_modules/@theia/task/src/common/task-util.ts?","webpack:///./node_modules/@theia/task/src/common/task-watcher.ts?","webpack:///./node_modules/@theia/terminal/src/browser/base/terminal-service.ts?","webpack:///./node_modules/@theia/terminal/src/common/shell-terminal-protocol.ts?","webpack:///./node_modules/@theia/userstorage/src/browser/index.ts?","webpack:///./node_modules/@theia/userstorage/src/browser/user-storage-contribution.ts?","webpack:///./node_modules/@theia/userstorage/src/browser/user-storage-frontend-module.ts?","webpack:///./node_modules/@theia/userstorage/src/browser/user-storage-uri.ts?","webpack:///./node_modules/@theia/variable-resolver/src/browser/variable-input-schema.ts?"],"sourcesContent":["module.exports = require('@phosphor/coreutils');\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { TaskProviderRegistry, TaskProvider } from './task-contribution';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskConfiguration, TaskCustomization, TaskOutputPresentation, TaskConfigurationScope, TaskScope } from '../common';\n\nexport const ALL_TASK_TYPES: string = '*';\n\n@injectable()\nexport class ProvidedTaskConfigurations {\n    /**\n     * Map of source (name of extension, or path of root folder that the task config comes from) and `task config map`.\n     * For the second level of inner map, the key is task label.\n     * For the third level of inner map, the key is the task scope and value TaskConfiguration.\n     */\n    protected tasksMap = new Map<string, Map<string, Map<string | undefined, TaskConfiguration>>>();\n\n    @inject(TaskProviderRegistry)\n    protected readonly taskProviderRegistry: TaskProviderRegistry;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    private currentToken: number = 0;\n    private activatedProvidersTypes: string[] = [];\n    private nextToken = 1;\n\n    startUserAction(): number {\n        return this.nextToken++;\n    }\n\n    protected updateUserAction(token: number): void {\n        if (this.currentToken !== token) {\n            this.currentToken = token;\n            this.activatedProvidersTypes.length = 0;\n        }\n    }\n\n    protected pushActivatedProvidersType(taskType: string): void {\n        if (!this.activatedProvidersTypes.includes(taskType)) {\n            this.activatedProvidersTypes.push(taskType);\n        }\n    }\n\n    protected isTaskProviderActivationNeeded(taskType?: string): boolean {\n        if (!taskType || this.activatedProvidersTypes.includes(taskType!) || this.activatedProvidersTypes.includes(ALL_TASK_TYPES)) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Activate providers for the given taskType\n     * @param taskType A specific task type or '*' to indicate all task providers\n     */\n    protected async activateProviders(taskType?: string): Promise<void> {\n        if (!!taskType) {\n            await this.taskProviderRegistry.activateProvider(taskType);\n            this.pushActivatedProvidersType(taskType);\n        }\n    }\n\n    /** returns a list of provided tasks matching an optional given type, or all if '*' is used */\n    async getTasks(token: number, type?: string): Promise<TaskConfiguration[]> {\n        await this.refreshTasks(token, type);\n        const tasks: TaskConfiguration[] = [];\n        for (const taskLabelMap of this.tasksMap!.values()) {\n            for (const taskScopeMap of taskLabelMap.values()) {\n                for (const task of taskScopeMap.values()) {\n                    if (!type || task.type === type || type === ALL_TASK_TYPES) {\n                        tasks.push(task);\n                    }\n                }\n            }\n        }\n        return tasks;\n    }\n\n    protected async refreshTasks(token: number, taskType?: string): Promise<void> {\n        const newProviderActivationNeeded = this.isTaskProviderActivationNeeded(taskType);\n        if (token !== this.currentToken || newProviderActivationNeeded) {\n            this.updateUserAction(token);\n            await this.activateProviders(taskType);\n            const providers = await this.taskProviderRegistry.getProviders();\n\n            const providedTasks: TaskConfiguration[] = (await Promise.all(providers.map(p => this.resolveTaskConfigurations(p))))\n                .reduce((acc, taskArray) => acc.concat(taskArray), []);\n            this.cacheTasks(providedTasks);\n        }\n    }\n\n    protected async resolveTaskConfigurations(taskProvider: TaskProvider): Promise<TaskConfiguration[]> {\n        return (await taskProvider.provideTasks())\n            // Global/User tasks from providers are not supported.\n            .filter(task => task.scope !== TaskScope.Global)\n            .map(providedTask => {\n                const originalPresentation = providedTask.presentation || {};\n                return {\n                    ...providedTask,\n                    presentation: {\n                        ...TaskOutputPresentation.getDefault(),\n                        ...originalPresentation\n                    }\n                };\n            });\n    }\n\n    /** returns the task configuration for a given source and label or undefined if none */\n    async getTask(token: number, source: string, taskLabel: string, scope: TaskConfigurationScope): Promise<TaskConfiguration | undefined> {\n        await this.refreshTasks(token);\n        return this.getCachedTask(source, taskLabel, scope);\n    }\n\n    /**\n     * Finds the detected task for the given task customization.\n     * The detected task is considered as a \"match\" to the task customization if it has all the `required` properties.\n     * In case that more than one customization is found, return the one that has the biggest number of matched properties.\n     *\n     * @param customization the task customization\n     * @return the detected task for the given task customization. If the task customization is not found, `undefined` is returned.\n     */\n    async getTaskToCustomize(token: number, customization: TaskCustomization, scope: TaskConfigurationScope): Promise<TaskConfiguration | undefined> {\n        const definition = this.taskDefinitionRegistry.getDefinition(customization);\n        if (!definition) {\n            return undefined;\n        }\n\n        const matchedTasks: TaskConfiguration[] = [];\n        let highest = -1;\n        const tasks = await this.getTasks(token, customization.type);\n        for (const task of tasks) { // find detected tasks that match the `definition`\n            const required = definition.properties.required || [];\n            if (!required.every(requiredProp => customization[requiredProp] !== undefined)) {\n                continue;\n            }\n            let score = required.length; // number of required properties\n            const requiredProps = new Set(required);\n            // number of optional properties\n            score += definition.properties.all.filter(p => !requiredProps.has(p) && customization[p] !== undefined).length;\n            if (score >= highest) {\n                if (score > highest) {\n                    highest = score;\n                    matchedTasks.length = 0;\n                }\n                matchedTasks.push(task);\n            }\n        }\n\n        // Tasks with scope set to 'Workspace' can be customized in a workspace root, and will not match\n        // providers scope 'TaskScope.Workspace' unless specifically included as below.\n        const scopes = [scope, TaskScope.Workspace];\n        // find the task that matches the `customization`.\n        // The scenario where more than one match is found should not happen unless users manually enter multiple customizations for one type of task\n        // If this does happen, return the first match\n        const matchedTask = matchedTasks.find(t =>\n            scopes.some(scp => scp === t._scope) && definition.properties.all.every(p => t[p] === customization[p])\n        );\n        return matchedTask;\n    }\n\n    protected getCachedTask(source: string, taskLabel: string, scope?: TaskConfigurationScope): TaskConfiguration | undefined {\n        const labelConfigMap = this.tasksMap.get(source);\n        if (labelConfigMap) {\n            const scopeConfigMap = labelConfigMap.get(taskLabel);\n            if (scopeConfigMap) {\n                if (scope) {\n                    return scopeConfigMap.get(scope.toString());\n                }\n                return Array.from(scopeConfigMap.values())[0];\n            }\n        }\n    }\n\n    protected cacheTasks(tasks: TaskConfiguration[]): void {\n        this.tasksMap.clear();\n        for (const task of tasks) {\n            const label = task.label;\n            const source = task._source;\n            const scope = task._scope;\n            if (this.tasksMap.has(source)) {\n                const labelConfigMap = this.tasksMap.get(source)!;\n                if (labelConfigMap.has(label)) {\n                    labelConfigMap.get(label)!.set(scope.toString(), task);\n                } else {\n                    const newScopeConfigMap = new Map<undefined | string, TaskConfiguration>();\n                    newScopeConfigMap.set(scope.toString(), task);\n                    labelConfigMap.set(label, newScopeConfigMap);\n                }\n            } else {\n                const newLabelConfigMap = new Map<string, Map<undefined | string, TaskConfiguration>>();\n                const newScopeConfigMap = new Map<undefined | string, TaskConfiguration>();\n                newScopeConfigMap.set(scope.toString(), task);\n                newLabelConfigMap.set(label, newScopeConfigMap);\n                this.tasksMap.set(source, newLabelConfigMap);\n            }\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional } from '@theia/core/shared/inversify';\nimport { TaskService } from './task-service';\nimport { TaskInfo, TaskConfiguration, TaskCustomization, TaskScope, TaskConfigurationScope, TaskDefinition } from '../common/task-protocol';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport URI from '@theia/core/lib/common/uri';\nimport { LabelProvider, QuickAccessProvider, QuickAccessRegistry, QuickInputService, QuickPick, PreferenceService } from '@theia/core/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { ALL_TASK_TYPES } from './provided-task-configurations';\nimport { TaskNameResolver } from './task-name-resolver';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { TaskConfigurationManager } from './task-configuration-manager';\nimport { filterItems, QuickInputButton, QuickPickItem, QuickPickItemOrSeparator, QuickPicks, QuickPickInput, QuickPickValue } from\n    '@theia/core/lib/browser/quick-input/quick-input-service';\nimport { CancellationToken } from '@theia/core/lib/common';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { TriggerAction } from '@theia/monaco-editor-core/esm/vs/platform/quickinput/browser/pickerQuickAccess';\n\nexport namespace ConfigureTaskAction {\n    export const ID = 'workbench.action.tasks.configureTaskRunner';\n    export const TEXT = 'Configure Task';\n}\n\nexport type TaskEntry = QuickPickItemOrSeparator | QuickPickValue<string>;\nexport namespace TaskEntry {\n    export function isQuickPickValue(item: QuickPickItemOrSeparator | QuickPickValue<String>): item is QuickPickValue<string> {\n        return 'value' in item && typeof item.value === 'string';\n    }\n}\n\nexport const CHOOSE_TASK = nls.localizeByDefault('Select the task to run');\nexport const CONFIGURE_A_TASK = nls.localizeByDefault('Configure a Task');\nexport const NO_TASK_TO_RUN = nls.localize('theia/task/noTaskToRun', 'No task to run found. Configure Tasks...');\nexport const SHOW_ALL = nls.localizeByDefault('Show All Tasks...');\n\n@injectable()\nexport class QuickOpenTask implements QuickAccessProvider {\n    static readonly PREFIX = 'task ';\n    readonly description: string = 'Run Task';\n    protected items: Array<TaskEntry> = [];\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(QuickAccessRegistry)\n    protected readonly quickAccessRegistry: QuickAccessRegistry;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    init(): Promise<void> {\n        return this.doInit(this.taskService.startUserAction());\n    }\n\n    protected async doInit(token: number): Promise<void> {\n        const recentTasks = this.taskService.recentTasks;\n        const configuredTasks = await this.taskService.getConfiguredTasks(token);\n        const providedTypes = this.taskDefinitionRegistry.getAll();\n\n        const { filteredRecentTasks, filteredConfiguredTasks } = this.getFilteredTasks(recentTasks, configuredTasks, []);\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        this.items = [];\n\n        const filteredRecentTasksItems = this.getItems(filteredRecentTasks, 'recently used tasks', token, isMulti);\n        const filteredConfiguredTasksItems = this.getItems(filteredConfiguredTasks, 'configured tasks', token, isMulti, {\n            label: `$(plus) ${CONFIGURE_A_TASK}`,\n            execute: () => this.configure()\n        });\n        const providedTypeItems = this.createProvidedTypeItems(providedTypes);\n\n        this.items.push(\n            ...filteredRecentTasksItems,\n            ...filteredConfiguredTasksItems,\n            ...providedTypeItems\n        );\n\n        if (!this.items.length) {\n            this.items.push(({\n                label: NO_TASK_TO_RUN,\n                execute: () => this.configure()\n            }));\n        }\n    }\n\n    protected createProvidedTypeItems(providedTypes: TaskDefinition[]): TaskEntry[] {\n        const result: TaskEntry[] = [];\n        result.push({ type: 'separator', label: nls.localizeByDefault('contributed') });\n\n        providedTypes.sort((t1, t2) =>\n            t1.taskType.localeCompare(t2.taskType)\n        );\n\n        for (const definition of providedTypes) {\n            const type = definition.taskType;\n            result.push(this.toProvidedTaskTypeEntry(type, `$(folder) ${type}`));\n        }\n\n        result.push(this.toProvidedTaskTypeEntry(SHOW_ALL, SHOW_ALL));\n        return result;\n    }\n\n    protected toProvidedTaskTypeEntry(type: string, label: string): TaskEntry {\n        return {\n            label,\n            value: type,\n            /**\n             * This function is used in the context of a QuickAccessProvider (triggered from the command palette: '?task').\n             * It triggers a call to QuickOpenTask#getPicks,\n             * the 'execute' function below is called when the user selects an entry for a task type which triggers the display of\n             * the second level quick pick.\n             *\n             * Due to the asynchronous resolution of second-level tasks, there may be a delay in showing the quick input widget.\n             *\n             * NOTE: The widget is not delayed in other contexts e.g. by commands (Run Tasks), see the implementation at QuickOpenTask#open\n             *\n             * To improve the performance, we may consider using a `PickerQuickAccessProvider` instead of a `QuickAccessProvider`,\n             * and support providing 'FastAndSlowPicks'.\n             *\n             * TODO: Consider the introduction and exposure of monaco `PickerQuickAccessProvider` and the corresponding refactoring for this and other\n             * users of QuickAccessProvider.\n             */\n            execute: () => {\n                this.doSecondLevel(type);\n            }\n        };\n    }\n\n    protected onDidTriggerGearIcon(item: QuickPickItem): void {\n        if (item instanceof TaskRunQuickOpenItem) {\n            this.taskService.configure(item.token, item.task);\n            this.quickInputService.hide();\n        }\n    }\n\n    async open(): Promise<void> {\n        this.showMultiLevelQuickPick();\n    }\n\n    async showMultiLevelQuickPick(skipInit?: boolean): Promise<void> {\n        if (!skipInit) {\n            await this.init();\n        }\n        const picker: QuickPick<TaskEntry> = this.quickInputService.createQuickPick();\n        picker.placeholder = CHOOSE_TASK;\n        picker.matchOnDescription = true;\n        picker.ignoreFocusOut = false;\n        picker.items = this.items;\n\n        const firstLevelTask = await this.doPickerFirstLevel(picker);\n\n        if (!!firstLevelTask && TaskEntry.isQuickPickValue(firstLevelTask)) {\n            // A taskType was selected\n            picker.busy = true;\n            await this.doSecondLevel(firstLevelTask.value);\n        } else if (!!firstLevelTask && 'execute' in firstLevelTask && typeof firstLevelTask.execute === 'function') {\n            firstLevelTask.execute();\n        }\n        picker.dispose();\n    }\n\n    protected async doPickerFirstLevel(picker: QuickPick<TaskEntry>): Promise<TaskEntry | undefined> {\n        picker.show();\n        const firstLevelPickerResult = await new Promise<TaskEntry | undefined | null>(resolve => {\n            picker.onDidAccept(async () => {\n                resolve(picker.selectedItems ? picker.selectedItems[0] : undefined);\n            });\n        });\n        return firstLevelPickerResult ?? undefined;\n    }\n\n    protected async doSecondLevel(taskType: string): Promise<void> {\n        // Resolve Second level tasks based on selected TaskType\n        const isMulti = this.workspaceService.isMultiRootWorkspaceOpened;\n        const token = this.taskService.startUserAction();\n\n        const providedTasks = taskType === SHOW_ALL ?\n            await this.taskService.getProvidedTasks(token, ALL_TASK_TYPES) :\n            await this.taskService.getProvidedTasks(token, taskType);\n\n        const providedTasksItems = this.getItems(providedTasks, taskType + ' tasks', token, isMulti);\n\n        const label = providedTasksItems.length ?\n            nls.localizeByDefault('Go back ↩') :\n            nls.localizeByDefault('No {0} tasks found. Go back ↩', taskType);\n\n        providedTasksItems.push(({\n            label,\n            execute: () => this.showMultiLevelQuickPick(true)\n        }));\n\n        this.quickInputService?.showQuickPick(providedTasksItems, { placeholder: CHOOSE_TASK });\n    }\n\n    attach(): void {\n        this.items = [];\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        this.taskService.getRunningTasks().then(tasks => {\n            if (!tasks.length) {\n                this.items.push({\n                    label: 'No tasks found',\n                });\n            } else {\n                tasks.forEach((task: TaskInfo) => {\n                    // can only attach to terminal processes, so only list those\n                    if (task.terminalId) {\n                        this.items.push(new RunningTaskQuickOpenItem(\n                            task,\n                            this.taskService,\n                            this.taskNameResolver,\n                            this.taskSourceResolver,\n                            this.taskDefinitionRegistry,\n                            this.labelProvider,\n                            isMulti,\n                            () => this.taskService.attach(task.terminalId!, task)\n                        ));\n                    }\n                });\n            }\n            if (this.items.length === 0) {\n                this.items.push(({\n                    label: 'No tasks found'\n                }));\n            }\n            this.quickInputService?.showQuickPick(this.items, { placeholder: CHOOSE_TASK });\n        });\n    }\n\n    async configure(): Promise<void> {\n        this.quickInputService?.pick(this.resolveItemsToConfigure(), { placeHolder: nls.localizeByDefault('Select a task to configure') }).\n            then(async item => {\n                if (item && 'execute' in item && typeof item.execute === 'function') {\n                    item.execute();\n                }\n            });\n    }\n\n    protected async resolveItemsToConfigure(): Promise<QuickPickInput<QuickPickItemOrSeparator>[]> {\n        const items: Array<QuickPickInput<QuickPickItemOrSeparator>> = [];\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        const token: number = this.taskService.startUserAction();\n\n        const configuredTasks = await this.taskService.getConfiguredTasks(token);\n        const providedTasks = await this.taskService.getProvidedTasks(token, ALL_TASK_TYPES);\n\n        // check if tasks.json exists. If not, display \"Create tasks.json file from template\"\n        // If tasks.json exists and empty, display 'Open tasks.json file'\n        const { filteredConfiguredTasks, filteredProvidedTasks } = this.getFilteredTasks([], configuredTasks, providedTasks);\n        const groupedTasks = this.getGroupedTasksByWorkspaceFolder([...filteredConfiguredTasks, ...filteredProvidedTasks]);\n        if (groupedTasks.has(TaskScope.Global.toString())) {\n            const configs = groupedTasks.get(TaskScope.Global.toString())!;\n            this.addConfigurationItems(items, configs, token, isMulti);\n        }\n        if (groupedTasks.has(TaskScope.Workspace.toString())) {\n            const configs = groupedTasks.get(TaskScope.Workspace.toString())!;\n            this.addConfigurationItems(items, configs, token, isMulti);\n        }\n\n        const rootUris = (await this.workspaceService.roots).map(rootStat => rootStat.resource.toString());\n        for (const rootFolder of rootUris) {\n            const folderName = new URI(rootFolder).displayName;\n            if (groupedTasks.has(rootFolder)) {\n                const configs = groupedTasks.get(rootFolder.toString())!;\n                this.addConfigurationItems(items, configs, token, isMulti);\n            } else {\n                const { configUri } = this.preferences.resolve('tasks', [], rootFolder);\n                const existTaskConfigFile = !!configUri;\n                items.push(({\n                    label: existTaskConfigFile ? 'Open tasks.json file' : 'Create tasks.json file from template',\n                    execute: () => {\n                        setTimeout(() => this.taskConfigurationManager.openConfiguration(rootFolder));\n                    }\n                }));\n            }\n            if (items.length > 0) {\n                items.unshift({\n                    type: 'separator',\n                    label: isMulti ? folderName : ''\n                });\n            }\n        }\n\n        if (items.length === 0) {\n            items.push(({\n                label: 'No tasks found'\n            }));\n        }\n\n        return items;\n    }\n\n    private addConfigurationItems(items: QuickPickInput<QuickPickItemOrSeparator>[], configs: TaskConfiguration[], token: number, isMulti: boolean): void {\n        items.push(\n            ...configs.map(taskConfig => {\n                const item = new TaskConfigureQuickOpenItem(\n                    token,\n                    taskConfig,\n                    this.taskService,\n                    this.taskNameResolver,\n                    this.workspaceService,\n                    isMulti\n                );\n                item['taskDefinitionRegistry'] = this.taskDefinitionRegistry;\n                return item;\n            }).sort((t1, t2) =>\n                t1.label.localeCompare(t2.label)\n            )\n        );\n    }\n\n    protected getTaskItems(): QuickPickItem[] {\n        return this.items.filter((item): item is QuickPickItem => item.type !== 'separator' && (item as TaskRunQuickOpenItem).task !== undefined);\n    }\n\n    async runBuildOrTestTask(buildOrTestType: 'build' | 'test'): Promise<void> {\n        const shouldRunBuildTask = buildOrTestType === 'build';\n        const token: number = this.taskService.startUserAction();\n\n        await this.doInit(token);\n\n        const taskItems = this.getTaskItems();\n\n        if (taskItems.length > 0) { // the item in `this.items` is not 'No tasks found'\n            const buildOrTestTasks = taskItems.filter((t: TaskRunQuickOpenItem) =>\n                shouldRunBuildTask ? TaskCustomization.isBuildTask(t.task) : TaskCustomization.isTestTask(t.task)\n            );\n            if (buildOrTestTasks.length > 0) { // build / test tasks are defined in the workspace\n                const defaultBuildOrTestTasks = buildOrTestTasks.filter((t: TaskRunQuickOpenItem) =>\n                    shouldRunBuildTask ? TaskCustomization.isDefaultBuildTask(t.task) : TaskCustomization.isDefaultTestTask(t.task)\n                );\n                if (defaultBuildOrTestTasks.length === 1) { // run the default build / test task\n                    const defaultBuildOrTestTask = defaultBuildOrTestTasks[0];\n                    const taskToRun = (defaultBuildOrTestTask as TaskRunQuickOpenItem).task;\n                    const scope = taskToRun._scope;\n\n                    if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(taskToRun)) {\n                        this.taskService.run(token, taskToRun.source, taskToRun.label, scope);\n                    } else {\n                        this.taskService.run(token, taskToRun._source, taskToRun.label, scope);\n                    }\n                    return;\n                }\n                // if default build / test task is not found, or there are more than one default,\n                // display the list of build /test tasks to let the user decide which to run\n                this.items = buildOrTestTasks;\n            } else { // no build / test tasks, display an action item to configure the build / test task\n                this.items = [({\n                    label: `No ${buildOrTestType} task to run found. Configure ${buildOrTestType.charAt(0).toUpperCase() + buildOrTestType.slice(1)} Task...`,\n                    execute: () => {\n                        this.doInit(token).then(() => {\n                            // update the `tasks.json` file, instead of running the task itself\n                            this.items = this.getTaskItems().map((item: TaskRunQuickOpenItem) => new ConfigureBuildOrTestTaskQuickOpenItem(\n                                token,\n                                item.task,\n                                this.taskService,\n                                this.workspaceService.isMultiRootWorkspaceOpened,\n                                this.taskNameResolver,\n                                shouldRunBuildTask,\n                                this.taskConfigurationManager,\n                                this.taskDefinitionRegistry,\n                                this.taskSourceResolver\n                            ));\n                            this.quickInputService?.showQuickPick(this.items, { placeholder: `Select the task to be used as the default ${buildOrTestType} task` });\n                        });\n                    }\n                })];\n            }\n        } else { // no tasks are currently present, prompt users if they'd like to configure a task.\n            this.items = [{\n                label: `No ${buildOrTestType} task to run found. Configure ${buildOrTestType.charAt(0).toUpperCase() + buildOrTestType.slice(1)} Task...`,\n                execute: () => this.configure()\n            }];\n        }\n\n        this.quickInputService?.showQuickPick(this.items, {\n            placeholder: `Select the ${buildOrTestType} task to run`,\n            onDidTriggerItemButton: ({ item }) => this.onDidTriggerGearIcon(item)\n        });\n    }\n\n    async getPicks(filter: string, token: CancellationToken): Promise<QuickPicks> {\n        await this.init();\n        return filterItems(this.items, filter);\n    }\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider({\n            getInstance: () => this,\n            prefix: QuickOpenTask.PREFIX,\n            placeholder: 'Select the task to run',\n            helpEntries: [{ description: 'Run Task', needsEditor: false }]\n        });\n    }\n\n    protected getRunningTaskLabel(task: TaskInfo): string {\n        return `Task id: ${task.taskId}, label: ${task.config.label}`;\n    }\n\n    private getItems(tasks: TaskConfiguration[], groupLabel: string, token: number, isMulti: boolean, defaultTask?: TaskEntry):\n        TaskEntry[] {\n        const items: TaskEntry[] = tasks.map(task =>\n            new TaskRunQuickOpenItem(token, task, this.taskService, isMulti, this.taskDefinitionRegistry, this.taskNameResolver,\n                this.taskSourceResolver, this.taskConfigurationManager, [{\n                    iconClass: 'codicon-gear',\n                    tooltip: 'Configure Task',\n                }])\n        ).sort((t1, t2) => {\n            let result = (t1.description ?? '').localeCompare(t2.description ?? '');\n            if (result === 0) {\n                result = t1.label.localeCompare(t2.label);\n            }\n            return result;\n        });\n\n        if (items.length === 0 && defaultTask) {\n            items.push(defaultTask);\n        }\n\n        if (items.length > 0) {\n            items.unshift({ type: 'separator', label: groupLabel });\n        }\n        return items;\n    }\n\n    private getFilteredTasks(recentTasks: TaskConfiguration[], configuredTasks: TaskConfiguration[], providedTasks: TaskConfiguration[]): {\n        filteredRecentTasks: TaskConfiguration[], filteredConfiguredTasks: TaskConfiguration[], filteredProvidedTasks: TaskConfiguration[]\n    } {\n\n        const filteredRecentTasks: TaskConfiguration[] = [];\n        recentTasks.forEach(recent => {\n            const originalTaskConfig = [...configuredTasks, ...providedTasks].find(t => this.taskDefinitionRegistry.compareTasks(recent, t));\n            if (originalTaskConfig) {\n                filteredRecentTasks.push(originalTaskConfig);\n            }\n        });\n\n        const filteredProvidedTasks: TaskConfiguration[] = [];\n        providedTasks.forEach(provided => {\n            const exist = [...filteredRecentTasks, ...configuredTasks].some(t => this.taskDefinitionRegistry.compareTasks(provided, t));\n            if (!exist) {\n                filteredProvidedTasks.push(provided);\n            }\n        });\n\n        const filteredConfiguredTasks: TaskConfiguration[] = [];\n        configuredTasks.forEach(configured => {\n            const exist = filteredRecentTasks.some(t => this.taskDefinitionRegistry.compareTasks(configured, t));\n            if (!exist) {\n                filteredConfiguredTasks.push(configured);\n            }\n        });\n\n        return {\n            filteredRecentTasks, filteredConfiguredTasks, filteredProvidedTasks\n        };\n    }\n\n    private getGroupedTasksByWorkspaceFolder(tasks: TaskConfiguration[]): Map<string, TaskConfiguration[]> {\n        const grouped = new Map<string, TaskConfiguration[]>();\n        for (const task of tasks) {\n            const scope = task._scope;\n            if (grouped.has(scope.toString())) {\n                grouped.get(scope.toString())!.push(task);\n            } else {\n                grouped.set(scope.toString(), [task]);\n            }\n        }\n        for (const taskConfigs of grouped.values()) {\n            taskConfigs.sort((t1, t2) => t1.label.localeCompare(t2.label));\n        }\n        return grouped;\n    }\n}\n\nexport class TaskRunQuickOpenItem implements QuickPickItem {\n    constructor(\n        readonly token: number,\n        readonly task: TaskConfiguration,\n        protected taskService: TaskService,\n        protected isMulti: boolean,\n        protected readonly taskDefinitionRegistry: TaskDefinitionRegistry,\n        protected readonly taskNameResolver: TaskNameResolver,\n        protected readonly taskSourceResolver: TaskSourceResolver,\n        protected taskConfigurationManager: TaskConfigurationManager,\n        readonly buttons?: Array<QuickInputButton>\n    ) { }\n\n    get label(): string {\n        return this.taskNameResolver.resolve(this.task);\n    }\n\n    get description(): string {\n        return renderScope(this.task._scope, this.isMulti);\n    }\n\n    get detail(): string | undefined {\n        return this.task.detail;\n    }\n\n    execute(): void {\n        const scope = this.task._scope;\n        if (this.taskDefinitionRegistry && !!this.taskDefinitionRegistry.getDefinition(this.task)) {\n            this.taskService.run(this.token, this.task.source || this.task._source, this.task.label, scope);\n        } else {\n            this.taskService.run(this.token, this.task._source, this.task.label, scope);\n        }\n    }\n\n    trigger(): TriggerAction {\n        this.taskService.configure(this.token, this.task);\n        return TriggerAction.CLOSE_PICKER;\n    }\n}\n\nexport class ConfigureBuildOrTestTaskQuickOpenItem extends TaskRunQuickOpenItem {\n    constructor(\n        token: number,\n        task: TaskConfiguration,\n        taskService: TaskService,\n        isMulti: boolean,\n        taskNameResolver: TaskNameResolver,\n        protected readonly isBuildTask: boolean,\n        taskConfigurationManager: TaskConfigurationManager,\n        taskDefinitionRegistry: TaskDefinitionRegistry,\n        taskSourceResolver: TaskSourceResolver\n    ) {\n        super(token, task, taskService, isMulti, taskDefinitionRegistry, taskNameResolver, taskSourceResolver, taskConfigurationManager);\n    }\n\n    override execute(): void {\n        this.taskService.updateTaskConfiguration(this.token, this.task, { group: { kind: this.isBuildTask ? 'build' : 'test', isDefault: true } })\n            .then(() => {\n                if (this.task._scope) {\n                    this.taskConfigurationManager.openConfiguration(this.task._scope);\n                }\n            });\n    }\n}\n\nfunction renderScope(scope: TaskConfigurationScope, isMulti: boolean): string {\n    if (typeof scope === 'string') {\n        if (isMulti) {\n            return new URI(scope).displayName;\n        } else {\n            return '';\n        }\n    } else {\n        return TaskScope[scope];\n    }\n}\n\nexport class TaskConfigureQuickOpenItem implements QuickPickItem {\n\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    constructor(\n        protected readonly token: number,\n        protected readonly task: TaskConfiguration,\n        protected readonly taskService: TaskService,\n        protected readonly taskNameResolver: TaskNameResolver,\n        protected readonly workspaceService: WorkspaceService,\n        protected readonly isMulti: boolean\n    ) {\n        const stat = this.workspaceService.workspace;\n        this.isMulti = stat ? !stat.isDirectory : false;\n    }\n\n    get label(): string {\n        return this.taskNameResolver.resolve(this.task);\n    }\n\n    get description(): string {\n        return renderScope(this.task._scope, this.isMulti);\n    }\n\n    accept(): void {\n        this.execute();\n    }\n\n    execute(): void {\n        this.taskService.configure(this.token, this.task);\n    }\n}\n\n@injectable()\nexport class TaskTerminateQuickOpen {\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    async getItems(): Promise<Array<QuickPickItem>> {\n        const items: Array<QuickPickItem> = [];\n        const runningTasks: TaskInfo[] = await this.taskService.getRunningTasks();\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        if (runningTasks.length <= 0) {\n            items.push(({\n                label: 'No task is currently running',\n            }));\n        } else {\n            runningTasks.forEach((task: TaskInfo) => {\n                items.push(new RunningTaskQuickOpenItem(\n                    task,\n                    this.taskService,\n                    this.taskNameResolver,\n                    this.taskSourceResolver,\n                    this.taskDefinitionRegistry,\n                    this.labelProvider,\n                    isMulti,\n                    () => this.taskService.kill(task.taskId)\n                ));\n            });\n            if (runningTasks.length > 1) {\n                items.push(({\n                    label: 'All running tasks',\n                    execute: () => {\n                        runningTasks.forEach((t: TaskInfo) => {\n                            this.taskService.kill(t.taskId);\n                        });\n                    }\n                }));\n            }\n        }\n        return items;\n    }\n\n    async open(): Promise<void> {\n        const items = await this.getItems();\n        this.quickInputService?.showQuickPick(items, { placeholder: 'Select task to terminate' });\n    }\n}\n\n@injectable()\nexport class TaskRunningQuickOpen {\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    async getItems(): Promise<Array<QuickPickItem>> {\n        const items: Array<QuickPickItem> = [];\n        const runningTasks: TaskInfo[] = await this.taskService.getRunningTasks();\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        if (runningTasks.length <= 0) {\n            items.push(({\n                label: 'No task is currently running',\n            }));\n        } else {\n            runningTasks.forEach((task: TaskInfo) => {\n                items.push(new RunningTaskQuickOpenItem(\n                    task,\n                    this.taskService,\n                    this.taskNameResolver,\n                    this.taskSourceResolver,\n                    this.taskDefinitionRegistry,\n                    this.labelProvider,\n                    isMulti,\n                    () => {\n                        if (task.terminalId) {\n                            const terminal = this.terminalService.getByTerminalId(task.terminalId);\n                            if (terminal) {\n                                this.terminalService.open(terminal);\n                            }\n                        }\n                    }\n                ));\n            });\n        }\n        return items;\n    }\n\n    async open(): Promise<void> {\n        const items = await this.getItems();\n        this.quickInputService?.showQuickPick(items, { placeholder: 'Select the task to show its output' });\n    }\n}\n\nexport class RunningTaskQuickOpenItem implements QuickPickItem {\n    constructor(\n        protected readonly taskInfo: TaskInfo,\n        protected readonly taskService: TaskService,\n        protected readonly taskNameResolver: TaskNameResolver,\n        protected readonly taskSourceResolver: TaskSourceResolver,\n        protected readonly taskDefinitionRegistry: TaskDefinitionRegistry,\n        protected readonly labelProvider: LabelProvider,\n        protected readonly isMulti: boolean,\n        public readonly execute: () => void,\n    ) { }\n\n    get label(): string {\n        return this.taskNameResolver.resolve(this.taskInfo.config);\n    }\n\n    get description(): string {\n        return renderScope(this.taskInfo.config._scope, this.isMulti);\n    }\n\n    get detail(): string | undefined {\n        return this.taskInfo.config.detail;\n    }\n}\n\n@injectable()\nexport class TaskRestartRunningQuickOpen {\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    async getItems(): Promise<Array<QuickPickItem>> {\n        const items: Array<QuickPickItem> = [];\n        const runningTasks: TaskInfo[] = await this.taskService.getRunningTasks();\n        const isMulti: boolean = this.workspaceService.isMultiRootWorkspaceOpened;\n        if (runningTasks.length <= 0) {\n            items.push({\n                label: 'No task to restart'\n            });\n        } else {\n            runningTasks.forEach((task: TaskInfo) => {\n                items.push(new RunningTaskQuickOpenItem(\n                    task,\n                    this.taskService,\n                    this.taskNameResolver,\n                    this.taskSourceResolver,\n                    this.taskDefinitionRegistry,\n                    this.labelProvider,\n                    isMulti,\n                    () => this.taskService.restartTask(task)\n                ));\n            });\n        }\n        return items;\n    }\n\n    async open(): Promise<void> {\n        const items = await this.getItems();\n        this.quickInputService?.showQuickPick(items, { placeholder: 'Select task to restart' });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as jsoncparser from 'jsonc-parser';\nimport debounce = require('p-debounce');\nimport { inject, injectable, postConstruct, named } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { EditorManager, EditorWidget } from '@theia/editor/lib/browser';\nimport { PreferenceScope, PreferenceProvider, PreferenceService } from '@theia/core/lib/browser';\nimport { QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport { TaskConfigurationModel } from './task-configuration-model';\nimport { TaskTemplateSelector } from './task-templates';\nimport { TaskCustomization, TaskConfiguration, TaskConfigurationScope, TaskScope } from '../common/task-protocol';\nimport { WorkspaceVariableContribution } from '@theia/workspace/lib/browser/workspace-variable-contribution';\nimport { FileChangeType } from '@theia/filesystem/lib/common/filesystem-watcher-protocol';\nimport { PreferenceConfigurations } from '@theia/core/lib/browser/preferences/preference-configurations';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { DisposableCollection } from '@theia/core/lib/common';\nimport { TaskSchemaUpdater } from './task-schema-updater';\n\nexport interface TasksChange {\n    scope: TaskConfigurationScope;\n    type: FileChangeType;\n}\n/**\n * This class connects the the \"tasks\" preferences sections to task system: it collects tasks preference values and\n * provides them to the task system as raw, parsed JSON.\n */\n@injectable()\nexport class TaskConfigurationManager {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(QuickPickService)\n    protected readonly quickPickService: QuickPickService;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly taskSchemaProvider: TaskSchemaUpdater;\n\n    @inject(PreferenceProvider) @named(PreferenceScope.Folder)\n    protected readonly folderPreferences: PreferenceProvider;\n\n    @inject(PreferenceProvider) @named(PreferenceScope.User)\n    protected readonly userPreferences: PreferenceProvider;\n\n    @inject(PreferenceProvider) @named(PreferenceScope.Workspace)\n    protected readonly workspacePreferences: PreferenceProvider;\n\n    @inject(PreferenceConfigurations)\n    protected readonly preferenceConfigurations: PreferenceConfigurations;\n\n    @inject(WorkspaceVariableContribution)\n    protected readonly workspaceVariables: WorkspaceVariableContribution;\n\n    @inject(TaskTemplateSelector)\n    protected readonly taskTemplateSelector: TaskTemplateSelector;\n\n    protected readonly onDidChangeTaskConfigEmitter = new Emitter<TasksChange>();\n    readonly onDidChangeTaskConfig: Event<TasksChange> = this.onDidChangeTaskConfigEmitter.event;\n\n    protected readonly models = new Map<TaskConfigurationScope, TaskConfigurationModel>();\n    protected workspaceDelegate: PreferenceProvider;\n\n    @postConstruct()\n    protected init(): void {\n        this.createModels();\n        this.folderPreferences.onDidPreferencesChanged(e => {\n            if (e['tasks']) {\n                this.updateModels();\n            }\n        });\n        this.workspaceService.onWorkspaceChanged(() => {\n            this.updateModels();\n        });\n        this.workspaceService.onWorkspaceLocationChanged(() => {\n            this.updateModels();\n        });\n    }\n\n    protected createModels(): void {\n        const userModel = new TaskConfigurationModel(TaskScope.Global, this.userPreferences);\n        userModel.onDidChange(() => this.onDidChangeTaskConfigEmitter.fire({ scope: TaskScope.Global, type: FileChangeType.UPDATED }));\n        this.models.set(TaskScope.Global, userModel);\n\n        this.updateModels();\n    }\n\n    protected updateModels = debounce(async () => {\n        const roots = await this.workspaceService.roots;\n        const toDelete = new Set(\n            [...this.models.keys()]\n                .filter(key => key !== TaskScope.Global && key !== TaskScope.Workspace)\n        );\n        this.updateWorkspaceModel();\n        for (const rootStat of roots) {\n            const key = rootStat.resource.toString();\n            toDelete.delete(key);\n            if (!this.models.has(key)) {\n                const model = new TaskConfigurationModel(key, this.folderPreferences);\n                model.onDidChange(() => this.onDidChangeTaskConfigEmitter.fire({ scope: key, type: FileChangeType.UPDATED }));\n                model.onDispose(() => this.models.delete(key));\n                this.models.set(key, model);\n                this.onDidChangeTaskConfigEmitter.fire({ scope: key, type: FileChangeType.UPDATED });\n            }\n        }\n        for (const uri of toDelete) {\n            const model = this.models.get(uri);\n            if (model) {\n                model.dispose();\n            }\n            this.onDidChangeTaskConfigEmitter.fire({ scope: uri, type: FileChangeType.DELETED });\n        }\n    }, 500);\n\n    getTasks(scope: TaskConfigurationScope): (TaskCustomization | TaskConfiguration)[] {\n        return this.getModel(scope)?.configurations ?? [];\n    }\n\n    getTask(name: string, scope: TaskConfigurationScope): TaskCustomization | TaskConfiguration | undefined {\n        return this.getTasks(scope).find((configuration: TaskCustomization | TaskConfiguration) => configuration.name === name);\n    }\n\n    async openConfiguration(scope: TaskConfigurationScope): Promise<void> {\n        const taskPrefModel = this.getModel(scope);\n        const maybeURI = typeof scope === 'string' ? scope : undefined;\n        const configURI = this.preferenceService.getConfigUri(this.getMatchingPreferenceScope(scope), maybeURI, 'tasks');\n        if (taskPrefModel && configURI) {\n            await this.doOpen(taskPrefModel, configURI);\n        }\n    }\n\n    async addTaskConfiguration(scope: TaskConfigurationScope, taskConfig: TaskCustomization): Promise<boolean> {\n        const taskPrefModel = this.getModel(scope);\n        if (taskPrefModel) {\n            const configurations = taskPrefModel.configurations;\n            return this.setTaskConfigurations(scope, [...configurations, taskConfig]);\n        }\n        return false;\n    }\n\n    async setTaskConfigurations(scope: TaskConfigurationScope, taskConfigs: (TaskCustomization | TaskConfiguration)[]): Promise<boolean> {\n        const taskPrefModel = this.getModel(scope);\n        if (taskPrefModel) {\n            return taskPrefModel.setConfigurations(taskConfigs);\n        }\n        return false;\n    }\n\n    protected getModel(scope: TaskConfigurationScope): TaskConfigurationModel | undefined {\n        return this.models.get(scope);\n    }\n\n    protected async doOpen(model: TaskConfigurationModel, configURI: URI): Promise<EditorWidget | undefined> {\n        if (!model.uri) {\n            // The file has not yet been created.\n            await this.doCreate(model, configURI);\n        }\n        return this.editorManager.open(configURI, {\n            mode: 'activate'\n        });\n    }\n\n    protected async doCreate(model: TaskConfigurationModel, configURI: URI): Promise<void> {\n        const content = await this.getInitialConfigurationContent();\n        if (content) {\n            // All scopes but workspace.\n            if (this.preferenceConfigurations.getName(configURI) === 'tasks') {\n                await this.fileService.write(configURI, content);\n            } else {\n                let taskContent: object;\n                try {\n                    taskContent = jsoncparser.parse(content);\n                } catch {\n                    taskContent = this.taskSchemaProvider.getTaskSchema().default ?? {};\n                }\n                await model.preferences.setPreference('tasks', taskContent);\n            }\n        }\n    }\n\n    protected getMatchingPreferenceScope(scope: TaskConfigurationScope): PreferenceScope {\n        switch (scope) {\n            case TaskScope.Global:\n                return PreferenceScope.User;\n            case TaskScope.Workspace:\n                return PreferenceScope.Workspace;\n            default:\n                return PreferenceScope.Folder;\n        }\n    }\n\n    protected async getInitialConfigurationContent(): Promise<string | undefined> {\n        const selected = await this.quickPickService.show(this.taskTemplateSelector.selectTemplates(), {\n            placeholder: 'Select a Task Template'\n        });\n        if (selected) {\n            return selected.value?.content;\n        }\n    }\n\n    protected readonly toDisposeOnDelegateChange = new DisposableCollection();\n    protected updateWorkspaceModel(): void {\n        const isFolderWorkspace = this.workspaceService.opened && !this.workspaceService.saved;\n        const newDelegate = isFolderWorkspace ? this.folderPreferences : this.workspacePreferences;\n        const effectiveScope = isFolderWorkspace ? this.workspaceService.tryGetRoots()[0]?.resource.toString() : TaskScope.Workspace;\n        if (newDelegate !== this.workspaceDelegate) {\n            this.workspaceDelegate = newDelegate;\n            this.toDisposeOnDelegateChange.dispose();\n\n            const workspaceModel = new TaskConfigurationModel(effectiveScope, newDelegate);\n            this.toDisposeOnDelegateChange.push(workspaceModel);\n            // If the delegate is the folder preference provider, its events will be relayed via the folder scope models.\n            if (newDelegate === this.workspacePreferences) {\n                this.toDisposeOnDelegateChange.push(workspaceModel.onDidChange(() => {\n                    this.onDidChangeTaskConfigEmitter.fire({ scope: TaskScope.Workspace, type: FileChangeType.UPDATED });\n                }));\n            }\n            this.models.set(TaskScope.Workspace, workspaceModel);\n            this.onDidChangeTaskConfigEmitter.fire({ scope: effectiveScope, type: FileChangeType.UPDATED });\n        }\n    }\n}\n\nexport namespace TaskConfigurationManager {\n    export interface Data {\n        current?: {\n            name: string\n            workspaceFolderUri?: string\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { TaskCustomization, TaskConfiguration, TaskConfigurationScope } from '../common/task-protocol';\nimport { PreferenceProvider, PreferenceProviderDataChanges, PreferenceProviderDataChange } from '@theia/core/lib/browser';\nimport { isObject } from '@theia/core/lib/common';\n\n/**\n * Holds the task configurations associated with a particular file. Uses an editor model to facilitate\n * non-destructive editing and coordination with editing the file by hand.\n */\nexport class TaskConfigurationModel implements Disposable {\n\n    protected json: TaskConfigurationModel.JsonContent;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidChangeEmitter\n    );\n\n    constructor(\n        protected readonly scope: TaskConfigurationScope,\n        readonly preferences: PreferenceProvider\n    ) {\n        this.reconcile();\n        this.toDispose.push(this.preferences.onDidPreferencesChanged((e: PreferenceProviderDataChanges) => {\n            const change = e['tasks'];\n            if (change && PreferenceProviderDataChange.affects(change, this.getWorkspaceFolder())) {\n                this.reconcile();\n            }\n        }));\n    }\n\n    get uri(): URI | undefined {\n        return this.json.uri;\n    }\n\n    getWorkspaceFolder(): string | undefined {\n        return typeof this.scope === 'string' ? this.scope : undefined;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n    get configurations(): (TaskCustomization | TaskConfiguration)[] {\n        return this.json.configurations;\n    }\n\n    protected reconcile(): void {\n        this.json = this.parseConfigurations();\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    setConfigurations(value: object): Promise<boolean> {\n        return this.preferences.setPreference('tasks.tasks', value, this.getWorkspaceFolder());\n    }\n\n    protected parseConfigurations(): TaskConfigurationModel.JsonContent {\n        const configurations: (TaskCustomization | TaskConfiguration)[] = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const { configUri, value } = this.preferences.resolve<any>('tasks', this.getWorkspaceFolder());\n        if (isObject(value) && Array.isArray(value.tasks)) {\n            for (const taskConfig of value.tasks) {\n                configurations.push(taskConfig);\n            }\n        }\n        return {\n            uri: configUri,\n            configurations\n        };\n    }\n\n}\nexport namespace TaskConfigurationModel {\n    export interface JsonContent {\n        uri?: URI;\n        configurations: (TaskCustomization | TaskConfiguration)[];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017-2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport {\n    TaskConfiguration,\n    TaskCustomization,\n    TaskDefinition,\n    TaskOutputPresentation,\n    TaskConfigurationScope,\n    TaskScope,\n    asVariableName\n} from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { ProvidedTaskConfigurations } from './provided-task-configurations';\nimport { TaskConfigurationManager, TasksChange } from './task-configuration-manager';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common';\nimport { FileChangeType } from '@theia/filesystem/lib/common/filesystem-watcher-protocol';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\n\nexport interface TaskConfigurationClient {\n    /**\n     * The task configuration file has changed, so a client might want to refresh its configurations\n     * @returns an array of strings, each one being a task label\n     */\n    taskConfigurationChanged: (event: string[]) => void;\n}\n\n/**\n * Watches a tasks.json configuration file and provides a parsed version of the contained task configurations\n */\n@injectable()\nexport class TaskConfigurations implements Disposable {\n    protected readonly toDispose = new DisposableCollection();\n    /**\n     * Map of source (path of root folder that the task configs come from) and task config map.\n     * For the inner map (i.e., task config map), the key is task label and value TaskConfiguration\n     */\n    protected tasksMap = new Map<string, Map<string, TaskConfiguration>>();\n    /**\n     * Map of source (path of root folder that the task configs come from) and task customizations map.\n     */\n    protected taskCustomizationMap = new Map<string, TaskCustomization[]>();\n\n    protected client: TaskConfigurationClient | undefined = undefined;\n\n    /**\n     * Map of source (path of root folder that the task configs come from) and raw task configurations / customizations.\n     * This map is used to store the data from `tasks.json` files in workspace.\n     */\n    private rawTaskConfigurations = new Map<string, TaskCustomization[]>();\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProvidedTaskConfigurations)\n    protected readonly providedTaskConfigurations: ProvidedTaskConfigurations;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly taskSchemaUpdater: TaskSchemaUpdater;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    constructor() {\n        this.toDispose.push(Disposable.create(() => {\n            this.tasksMap.clear();\n            this.taskCustomizationMap.clear();\n            this.rawTaskConfigurations.clear();\n            this.client = undefined;\n        }));\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(\n            this.taskConfigurationManager.onDidChangeTaskConfig(async change => {\n                try {\n                    await this.onDidTaskFileChange([change]);\n                    if (this.client) {\n                        this.client.taskConfigurationChanged(this.getTaskLabels());\n                    }\n                } catch (err) {\n                    console.error(err);\n                }\n            })\n        );\n        this.reorganizeTasks();\n        this.toDispose.push(this.taskSchemaUpdater.onDidChangeTaskSchema(() => this.reorganizeTasks()));\n    }\n\n    setClient(client: TaskConfigurationClient): void {\n        this.client = client;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    /** returns the list of known task labels */\n    getTaskLabels(): string[] {\n        return Array.from(this.tasksMap.values()).reduce((acc, labelConfigMap) => acc.concat(Array.from(labelConfigMap.keys())), [] as string[]);\n    }\n\n    /**\n     * returns a collection of known tasks, which includes:\n     * - all the configured tasks in `tasks.json`, and\n     * - the customized detected tasks.\n     *\n     * The invalid task configs are not returned.\n     */\n    async getTasks(token: number): Promise<TaskConfiguration[]> {\n        const configuredTasks = Array.from(this.tasksMap.values()).reduce((acc, labelConfigMap) => acc.concat(Array.from(labelConfigMap.values())), [] as TaskConfiguration[]);\n        const detectedTasksAsConfigured: TaskConfiguration[] = [];\n        for (const [rootFolder, customizations] of Array.from(this.taskCustomizationMap.entries())) {\n            for (const customization of customizations) {\n                // TODO: getTasksToCustomize() will ask all task providers to contribute tasks. Doing this in a loop is bad.\n                const detected = await this.providedTaskConfigurations.getTaskToCustomize(token, customization, rootFolder);\n                if (detected) {\n                    // there might be a provided task that has a different scope from the task we're inspecting\n                    detectedTasksAsConfigured.push({ ...detected, ...customization });\n                }\n            }\n        }\n        return [...configuredTasks, ...detectedTasksAsConfigured];\n    }\n\n    getRawTaskConfigurations(scope?: TaskConfigurationScope): (TaskCustomization | TaskConfiguration)[] {\n        if (scope === undefined) {\n            const tasks: (TaskCustomization | TaskConfiguration)[] = [];\n            for (const configs of this.rawTaskConfigurations.values()) {\n                tasks.push(...configs);\n            }\n            return tasks;\n        }\n\n        const scopeKey = this.getKeyFromScope(scope);\n        if (this.rawTaskConfigurations.has(scopeKey)) {\n            return Array.from(this.rawTaskConfigurations.get(scopeKey)!.values());\n        }\n        return [];\n    }\n\n    /**\n     * returns a collection of invalid task configs as per the task schema defined in Theia.\n     */\n    getInvalidTaskConfigurations(): (TaskCustomization | TaskConfiguration)[] {\n        const invalidTaskConfigs: (TaskCustomization | TaskConfiguration)[] = [];\n        for (const taskConfigs of this.rawTaskConfigurations.values()) {\n            for (const taskConfig of taskConfigs) {\n                const isValid = this.isTaskConfigValid(taskConfig);\n                if (!isValid) {\n                    invalidTaskConfigs.push(taskConfig);\n                }\n            }\n        }\n        return invalidTaskConfigs;\n    }\n\n    /** returns the task configuration for a given label or undefined if none */\n    getTask(scope: TaskConfigurationScope, taskLabel: string): TaskConfiguration | undefined {\n        const labelConfigMap = this.tasksMap.get(this.getKeyFromScope(scope));\n        if (labelConfigMap) {\n            return labelConfigMap.get(taskLabel);\n        }\n    }\n\n    /** returns the customized task for a given label or undefined if none */\n    async getCustomizedTask(token: number, scope: TaskConfigurationScope, taskLabel: string): Promise<TaskConfiguration | undefined> {\n        const customizations = this.taskCustomizationMap.get(this.getKeyFromScope(scope));\n        if (customizations) {\n            const customization = customizations.find(cus => cus.label === taskLabel);\n            if (customization) {\n                const detected = await this.providedTaskConfigurations.getTaskToCustomize(token, customization, scope);\n                if (detected) {\n                    return {\n                        ...detected,\n                        ...customization,\n                        type: detected.type\n                    };\n                }\n            }\n        }\n    }\n\n    /** removes tasks configured in the given task config file */\n    private removeTasks(scope: TaskConfigurationScope): void {\n        const source = this.getKeyFromScope(scope);\n        this.tasksMap.delete(source);\n        this.taskCustomizationMap.delete(source);\n    }\n\n    /**\n     * Removes task customization objects found in the given task config file from the memory.\n     * Please note: this function does not modify the task config file.\n     */\n    private removeTaskCustomizations(scope: TaskConfigurationScope): void {\n        const source = this.getKeyFromScope(scope);\n        this.taskCustomizationMap.delete(source);\n    }\n\n    /**\n     * Returns the task customizations by type from a given root folder in the workspace.\n     * @param type the type of task customizations\n     * @param rootFolder the root folder to find task customizations from. If `undefined`, this function returns an empty array.\n     */\n    private getTaskCustomizations(type: string, scope: TaskConfigurationScope): TaskCustomization[] {\n        const customizationInRootFolder = this.taskCustomizationMap.get(this.getKeyFromScope(scope));\n        if (customizationInRootFolder) {\n            return customizationInRootFolder.filter(c => c.type === type);\n        } else {\n            return [];\n        }\n    }\n\n    /**\n     * Returns the customization object in `tasks.json` for the given task. Please note, this function\n     * returns `undefined` if the given task is not a detected task, because configured tasks don't need\n     * customization objects - users can modify its config directly in `tasks.json`.\n     * @param taskConfig The task config, which could either be a configured task or a detected task.\n     */\n    getCustomizationForTask(taskConfig: TaskConfiguration): TaskCustomization | undefined {\n        if (!this.isDetectedTask(taskConfig)) {\n            return undefined;\n        }\n\n        const customizationByType = this.getTaskCustomizations(taskConfig.type, taskConfig._scope) || [];\n        const hasCustomization = customizationByType.length > 0;\n        if (hasCustomization) {\n            const taskDefinition = this.taskDefinitionRegistry.getDefinition(taskConfig);\n            if (taskDefinition) {\n                const required = taskDefinition.properties.required || [];\n                // Only support having one customization per task.\n                return customizationByType.find(customization => required.every(property => customization[property] === taskConfig[property]));\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Called when a change, to a config file we watch, is detected.\n     */\n    protected async onDidTaskFileChange(fileChanges: TasksChange[]): Promise<void> {\n        for (const change of fileChanges) {\n            if (change.type === FileChangeType.DELETED) {\n                this.removeTasks(change.scope);\n            } else {\n                // re-parse the config file\n                await this.refreshTasks(change.scope);\n            }\n        }\n    }\n\n    /**\n     * Read the task configs from the task configuration manager, and updates the list of available tasks.\n     */\n    protected async refreshTasks(scope: TaskConfigurationScope): Promise<void> {\n        await this.readTasks(scope);\n\n        this.removeTasks(scope);\n        this.removeTaskCustomizations(scope);\n\n        this.reorganizeTasks();\n    }\n\n    /** parses a config file and extracts the tasks launch configurations */\n    protected async readTasks(scope: TaskConfigurationScope): Promise<(TaskCustomization | TaskConfiguration)[] | undefined> {\n        const rawConfigArray = this.taskConfigurationManager.getTasks(scope);\n        const key = this.getKeyFromScope(scope);\n        if (this.rawTaskConfigurations.has(key)) {\n            this.rawTaskConfigurations.delete(key);\n        }\n        this.rawTaskConfigurations.set(key, rawConfigArray);\n        return rawConfigArray;\n    }\n\n    async openUserTasks(): Promise<void> {\n        await this.taskConfigurationManager.openConfiguration(TaskScope.Global);\n    }\n\n    /** Adds given task to a config file and opens the file to provide ability to edit task configuration. */\n    async configure(token: number, task: TaskConfiguration): Promise<void> {\n        const scope = task._scope;\n        if (scope === TaskScope.Global) {\n            return this.openUserTasks();\n        }\n\n        const workspace = this.workspaceService.workspace;\n        if (!workspace) {\n            return;\n        }\n\n        const configuredAndCustomizedTasks = await this.getTasks(token);\n        if (!configuredAndCustomizedTasks.some(t => this.taskDefinitionRegistry.compareTasks(t, task))) {\n            await this.saveTask(scope, task);\n        }\n\n        try {\n            await this.taskConfigurationManager.openConfiguration(scope);\n        } catch (e) {\n            console.error(`Error occurred while opening 'tasks.json' in ${this.taskSourceResolver.resolve(task)}.`, e);\n        }\n    }\n\n    private getTaskCustomizationTemplate(task: TaskConfiguration): TaskCustomization | undefined {\n        const definition = this.getTaskDefinition(task);\n        if (!definition) {\n            console.error('Detected / Contributed tasks should have a task definition.');\n            return;\n        }\n        const customization: TaskCustomization = { type: task.type, runOptions: task.runOptions };\n        definition.properties.all.forEach(p => {\n            if (task[p] !== undefined) {\n                customization[p] = task[p];\n            }\n        });\n        if ('problemMatcher' in task) {\n            const problemMatcher: string[] = [];\n            if (Array.isArray(task.problemMatcher)) {\n                problemMatcher.push(...task.problemMatcher.map(t => {\n                    if (typeof t === 'string') {\n                        return t;\n                    } else {\n                        return t.name!;\n                    }\n                }));\n            } else if (typeof task.problemMatcher === 'string') {\n                problemMatcher.push(task.problemMatcher);\n            } else if (task.problemMatcher) {\n                problemMatcher.push(task.problemMatcher.name!);\n            }\n            customization.problemMatcher = problemMatcher.map(asVariableName);\n        }\n        if (task.group) {\n            customization.group = task.group;\n        }\n\n        customization.label = task.label;\n\n        return { ...customization };\n    }\n\n    /** Writes the task to a config file. Creates a config file if this one does not exist */\n    saveTask(scope: TaskConfigurationScope, task: TaskConfiguration): Promise<boolean> {\n        const { _source, $ident, ...preparedTask } = task;\n        const customizedTaskTemplate = this.getTaskCustomizationTemplate(task) || preparedTask;\n        return this.taskConfigurationManager.addTaskConfiguration(scope, customizedTaskTemplate);\n    }\n\n    /**\n     * This function is called after a change in TaskDefinitionRegistry happens.\n     * It checks all tasks that have been loaded, and re-organized them in `tasksMap` and `taskCustomizationMap`.\n     */\n    protected reorganizeTasks(): void {\n        const newTaskMap = new Map<string, Map<string, TaskConfiguration>>();\n        const newTaskCustomizationMap = new Map<string, TaskCustomization[]>();\n        const addCustomization = (rootFolder: string, customization: TaskCustomization) => {\n            if (newTaskCustomizationMap.has(rootFolder)) {\n                newTaskCustomizationMap.get(rootFolder)!.push(customization);\n            } else {\n                newTaskCustomizationMap.set(rootFolder, [customization]);\n            }\n        };\n        const addConfiguredTask = (rootFolder: string, label: string, configuredTask: TaskCustomization) => {\n            if (newTaskMap.has(rootFolder)) {\n                newTaskMap.get(rootFolder)!.set(label, configuredTask as TaskConfiguration);\n            } else {\n                const newConfigMap = new Map();\n                newConfigMap.set(label, configuredTask);\n                newTaskMap.set(rootFolder, newConfigMap);\n            }\n        };\n\n        for (const [scopeKey, taskConfigs] of this.rawTaskConfigurations.entries()) {\n            for (const taskConfig of taskConfigs) {\n                const scope = this.getScopeFromKey(scopeKey);\n                const isValid = this.isTaskConfigValid(taskConfig);\n                if (!isValid) {\n                    continue;\n                }\n                const transformedTask = this.getTransformedRawTask(taskConfig, scope);\n                if (this.isDetectedTask(transformedTask)) {\n                    addCustomization(scopeKey, transformedTask);\n                } else {\n                    addConfiguredTask(scopeKey, transformedTask['label'] as string, transformedTask);\n                }\n            }\n        }\n\n        this.taskCustomizationMap = newTaskCustomizationMap;\n        this.tasksMap = newTaskMap;\n    }\n\n    private getTransformedRawTask(rawTask: TaskCustomization | TaskConfiguration, scope: TaskConfigurationScope): TaskCustomization | TaskConfiguration {\n        let taskConfig: TaskCustomization | TaskConfiguration;\n        if (this.isDetectedTask(rawTask)) {\n            const def = this.getTaskDefinition(rawTask);\n            taskConfig = {\n                ...rawTask,\n                _source: def!.source,\n                _scope: scope\n            };\n        } else {\n            taskConfig = {\n                ...rawTask,\n                _source: scope,\n                _scope: scope\n            };\n        }\n        return {\n            ...taskConfig,\n            presentation: TaskOutputPresentation.fromJson(rawTask)\n        };\n    }\n\n    /**\n     * Returns `true` if the given task configuration is valid as per the task schema defined in Theia\n     * or contributed by Theia extensions and plugins, `false` otherwise.\n     */\n    private isTaskConfigValid(task: TaskCustomization): boolean {\n        return this.taskSchemaUpdater.validate({ tasks: [task] });\n    }\n\n    /**\n     * Updates the task config in the `tasks.json`.\n     * The task config, together with updates, will be written into the `tasks.json` if it is not found in the file.\n     *\n     * @param task task that the updates will be applied to\n     * @param update the updates to be applied\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async updateTaskConfig(token: number, task: TaskConfiguration, update: { [name: string]: any }): Promise<void> {\n        const scope = task._scope;\n        const configuredAndCustomizedTasks = await this.getTasks(token);\n        if (configuredAndCustomizedTasks.some(t => this.taskDefinitionRegistry.compareTasks(t, task))) { // task is already in `tasks.json`\n            const jsonTasks = this.taskConfigurationManager.getTasks(scope);\n            if (jsonTasks) {\n                const ind = jsonTasks.findIndex((t: TaskCustomization | TaskConfiguration) => {\n                    if (t.type !== (task.type)) {\n                        return false;\n                    }\n                    const def = this.taskDefinitionRegistry.getDefinition(t);\n                    if (def) {\n                        return def.properties.all.every(p => t[p] === task[p]);\n                    }\n                    return t.label === task.label;\n                });\n                jsonTasks[ind] = {\n                    ...jsonTasks[ind],\n                    ...update\n                };\n            }\n            this.taskConfigurationManager.setTaskConfigurations(scope, jsonTasks);\n        } else { // task is not in `tasks.json`\n            Object.keys(update).forEach(taskProperty => {\n                task[taskProperty] = update[taskProperty];\n            });\n            this.saveTask(scope, task);\n        }\n    }\n\n    private getKeyFromScope(scope: TaskConfigurationScope): string {\n        // Converting the enums to string will not yield a valid URI, so the keys will be distinct from any URI.\n        return scope.toString();\n    }\n\n    private getScopeFromKey(key: string): TaskConfigurationScope {\n        if (TaskScope.Global.toString() === key) {\n            return TaskScope.Global;\n        } else if (TaskScope.Workspace.toString() === key) {\n            return TaskScope.Workspace;\n        } else {\n            return key;\n        }\n    }\n\n    /** checks if the config is a detected / contributed task */\n    private isDetectedTask(task: TaskConfiguration | TaskCustomization): boolean {\n        const taskDefinition = this.getTaskDefinition(task);\n        // it is considered as a customization if the task definition registry finds a def for the task configuration\n        return !!taskDefinition;\n    }\n\n    private getTaskDefinition(task: TaskCustomization): TaskDefinition | undefined {\n        return this.taskDefinitionRegistry.getDefinition(task);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { TaskConfiguration } from '../common/task-protocol';\nimport { WaitUntilEvent, Emitter } from '@theia/core/lib/common/event';\n\nexport const TaskContribution = Symbol('TaskContribution');\n\n/**\n * A {@link TaskContribution} allows to contribute custom {@link TaskResolver}s and/or {@link TaskProvider}s.\n *\n *  ### Example usage\n * ```typescript\n * @injectable()\n * export class ProcessTaskContribution implements TaskContribution {\n *\n *     @inject(ProcessTaskResolver)\n *     protected readonly processTaskResolver: ProcessTaskResolver;\n *\n *     registerResolvers(resolvers: TaskResolverRegistry): void {\n *         resolvers.register('process', this.processTaskResolver);\n *         resolvers.register('shell', this.processTaskResolver);\n *     }\n * }\n * ```\n */\nexport interface TaskContribution {\n    /**\n     * Register task resolvers using the given `TaskResolverRegistry`.\n     * @param resolvers the task resolver registry.\n     */\n    registerResolvers?(resolvers: TaskResolverRegistry): void;\n    /**\n     * Register task providers using the given `TaskProviderRegistry`.\n     * @param resolvers the task provider registry.\n     */\n    registerProviders?(providers: TaskProviderRegistry): void;\n}\n\n/**\n * A {@link TaskResolver} is used to preprocess/resolve a task before sending\n * it to the Task Server. For instance, the resolver can be used to add missing information to the configuration\n * (e.g default values for optional parameters).\n */\nexport interface TaskResolver {\n    /**\n     * Resolves a `TaskConfiguration` before sending it for execution to the `TaskServer` (Backend).\n     * @param taskConfig the configuration that should be resolved.\n     *\n     * @returns a promise of the resolved `TaskConfiguration`.\n     */\n\n    resolveTask(taskConfig: TaskConfiguration): Promise<TaskConfiguration>;\n}\n\n/**\n * A {@link TaskProvider} can be used to define the set of tasks that should\n * be provided to the system. i.e. that are available for the user to run.\n */\nexport interface TaskProvider {\n    /**\n     * Retrieves the task configurations which are provided programmatically to the system.\n     *\n     * @returns a promise of the provided tasks configurations.\n     */\n    provideTasks(): Promise<TaskConfiguration[]>;\n}\n\nexport interface WillResolveTaskProvider extends WaitUntilEvent {\n    taskType?: string\n}\n\n/**\n * The {@link TaskResolverRegistry} is the common component for registration and provision of\n * {@link TaskResolver}s. Theia will collect all {@link TaskContribution}s and invoke {@link TaskContribution#registerResolvers}\n * for each contribution.\n */\n@injectable()\nexport class TaskResolverRegistry {\n\n    protected readonly onWillProvideTaskResolverEmitter = new Emitter<WillResolveTaskProvider>();\n    /**\n     * Emit when the registry provides a registered resolver. i.e. when the {@link TaskResolverRegistry#getResolver}\n     * function is called.\n     */\n    readonly onWillProvideTaskResolver = this.onWillProvideTaskResolverEmitter.event;\n\n    protected taskResolvers: Map<string, TaskResolver> = new Map();\n    protected executionResolvers: Map<string, TaskResolver> = new Map();\n\n    /**\n     * Registers the given {@link TaskResolver} to resolve the `TaskConfiguration` of the specified type.\n     * If there is already a `TaskResolver` registered for the specified type the registration will\n     * be overwritten with the new value.\n     *\n     * @deprecated since 1.12.0 use `registerTaskResolver` instead.\n     *\n     * @param type the task configuration type for which the given resolver should be registered.\n     * @param resolver the task resolver that should be registered.\n     *\n     * @returns a `Disposable` that can be invoked to unregister the given resolver\n     */\n    register(type: string, resolver: TaskResolver): Disposable {\n        return this.registerTaskResolver(type, resolver);\n    }\n\n    /**\n     * Registers the given {@link TaskResolver} to resolve the `TaskConfiguration` of the specified type.\n     * If there is already a `TaskResolver` registered for the specified type the registration will\n     * be overwritten with the new value.\n     *\n     * @param type the task configuration type for which the given resolver should be registered.\n     * @param resolver the task resolver that should be registered.\n     *\n     * @returns a `Disposable` that can be invoked to unregister the given resolver\n     */\n\n    registerTaskResolver(type: string, resolver: TaskResolver): Disposable {\n        if (this.taskResolvers.has(type)) {\n            console.warn(`Overriding task resolver for ${type}`);\n        }\n        this.taskResolvers.set(type, resolver);\n        return {\n            dispose: () => this.taskResolvers.delete(type)\n        };\n    }\n\n    /**\n     * Retrieves the {@link TaskResolver} registered for the given type task configuration type.\n     *\n     * @deprecated since 1.12.0 use `getTaskResolver()` instead.\n     *\n     * @param type the task configuration type\n     *\n     * @returns a promise of the registered `TaskResolver` or `undefined` if no resolver is registered for the given type.\n     */\n    async getResolver(type: string): Promise<TaskResolver | undefined> {\n        return this.getTaskResolver(type);\n    }\n\n    /**\n     * Retrieves the {@link TaskResolver} registered for the given type task configuration type.\n     * @param type the task configuration type\n     *\n     * @returns a promise of the registered `TaskResolver` or `undefined` if no resolver is registered for the given type.\n     */\n    async getTaskResolver(type: string): Promise<TaskResolver | undefined> {\n        await WaitUntilEvent.fire(this.onWillProvideTaskResolverEmitter, { taskType: type });\n        return this.taskResolvers.get(type);\n    }\n\n    /**\n     * Registers the given {@link TaskResolver} to resolve the `TaskConfiguration` for the\n     * specified type of execution ('shell', 'process' or 'customExecution').\n     * If there is already a `TaskResolver` registered for the specified type the registration will\n     * be overwritten with the new value.\n     *\n     * @param type the task execution type for which the given resolver should be registered.\n     * @param resolver the task resolver that should be registered.\n     *\n     * @returns a `Disposable` that can be invoked to unregister the given resolver\n     */\n    registerExecutionResolver(type: string, resolver: TaskResolver): Disposable {\n        if (this.executionResolvers.has(type)) {\n            console.warn(`Overriding execution resolver for ${type}`);\n        }\n        this.executionResolvers.set(type, resolver);\n        return {\n            dispose: () => this.executionResolvers.delete(type)\n        };\n    }\n\n    /**\n     * Retrieves the {@link TaskResolver} registered for the given type of execution ('shell', 'process' or 'customExecution')..\n     * @param type the task configuration type\n     *\n     * @returns a promise of the registered `TaskResolver` or `undefined` if no resolver is registered for the given type.\n     */\n    getExecutionResolver(executionType: string): TaskResolver | undefined {\n        return this.executionResolvers.get(executionType);\n    }\n}\n\n/**\n * The {@link TaskProviderRegistry} is the common component for registration and provision of\n * {@link TaskProvider}s. Theia will collect all {@link TaskContribution}s and invoke {@link TaskContribution#registerProviders}\n * for each contribution.\n */\n@injectable()\nexport class TaskProviderRegistry {\n\n    protected readonly onWillProvideTaskProviderEmitter = new Emitter<WillResolveTaskProvider>();\n    /**\n     * Emit when the registry provides a registered task provider. i.e. when the {@link TaskProviderRegistry#getProvider}\n     * function is called.\n     */\n    readonly onWillProvideTaskProvider = this.onWillProvideTaskProviderEmitter.event;\n\n    protected providers: Map<string, TaskProvider>;\n\n    @postConstruct()\n    protected init(): void {\n        this.providers = new Map();\n    }\n\n    /**\n     * Registers the given {@link TaskProvider} for task configurations of the specified type\n     * @param type the task configuration type for which the given provider should be registered.\n     * @param provider the `TaskProvider` that should be registered.\n     *\n     * @returns a `Disposable` that can be invoked to unregister the given resolver.\n     */\n    register(type: string, provider: TaskProvider, handle?: number): Disposable {\n        const key = handle === undefined ? type : `${type}::${handle}`;\n        this.providers.set(key, provider);\n        return {\n            dispose: () => this.providers.delete(key)\n        };\n    }\n\n    /**\n     * Initiates activation of a TaskProvider with the given type\n     * @param type the task configuration type, '*' indicates, all providers.\n     */\n    async activateProvider(type: string): Promise<void> {\n        await WaitUntilEvent.fire(this.onWillProvideTaskProviderEmitter, { taskType: type });\n    }\n\n    /**\n     * Retrieves the {@link TaskProvider} registered for the given type task configuration type.\n     * If there is already a `TaskProvider` registered for the specified type the registration will\n     * be overwritten with the new value.\n     * @param type the task configuration type.\n     *\n     * @returns a promise of the registered `TaskProvider`` or `undefined` if no provider is registered for the given type.\n     */\n    async getProvider(type: string): Promise<TaskProvider | undefined> {\n        await this.activateProvider(type);\n        return this.providers.get(type);\n    }\n\n    /**\n     * Retrieve all registered {@link TaskProvider}s.\n     *\n     * Use {@link activateProvider} to control registration of providers as needed.\n     * @returns a promise of all registered {@link TaskProvider}s.\n     */\n    async getProviders(): Promise<TaskProvider[]> {\n        return [...this.providers.values()];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { JSONExt } from '@theia/core/shared/@phosphor/coreutils';\nimport { Event, Emitter } from '@theia/core/lib/common';\nimport { TaskConfiguration, TaskDefinition, TaskCustomization } from '../common';\nimport { Disposable } from '@theia/core/lib/common/disposable';\n\n@injectable()\nexport class TaskDefinitionRegistry {\n\n    // task type - array of task definitions\n    private definitions: Map<string, TaskDefinition[]> = new Map();\n\n    protected readonly onDidRegisterTaskDefinitionEmitter = new Emitter<void>();\n    get onDidRegisterTaskDefinition(): Event<void> {\n        return this.onDidRegisterTaskDefinitionEmitter.event;\n    }\n\n    protected readonly onDidUnregisterTaskDefinitionEmitter = new Emitter<void>();\n    get onDidUnregisterTaskDefinition(): Event<void> {\n        return this.onDidUnregisterTaskDefinitionEmitter.event;\n    }\n\n    /**\n     * Returns all task definitions that are registered\n     * @return the task definitions that are registered\n     */\n    getAll(): TaskDefinition[] {\n        const all: TaskDefinition[] = [];\n        for (const definitions of this.definitions.values()) {\n            all.push(...definitions);\n        }\n        return all;\n    }\n\n    /**\n     * Finds the task definition(s) from the registry with the given `taskType`.\n     *\n     * @param taskType the type of the task\n     * @return an array of the task definitions. If no task definitions are found, an empty array is returned.\n     */\n    getDefinitions(taskType: string): TaskDefinition[] {\n        return this.definitions.get(taskType) || [];\n    }\n\n    /**\n     * Finds the task definition from the registry for the task configuration.\n     * The task configuration is considered as a \"match\" to the task definition if it has all the `required` properties.\n     * In case that more than one task definition is found, return the one that has the biggest number of matched properties.\n     *\n     * @param taskConfiguration the task configuration\n     * @return the task definition for the task configuration. If the task definition is not found, `undefined` is returned.\n     */\n    getDefinition(taskConfiguration: TaskConfiguration | TaskCustomization): TaskDefinition | undefined {\n        const definitions = this.getDefinitions(taskConfiguration.type);\n        let matchedDefinition: TaskDefinition | undefined;\n        let highest = -1;\n        for (const def of definitions) {\n            const required = def.properties.required || [];\n            if (!required.every(requiredProp => taskConfiguration[requiredProp] !== undefined)) {\n                continue;\n            }\n            let score = required.length; // number of required properties\n            const requiredProps = new Set(required);\n            // number of optional properties\n            score += def.properties.all.filter(p => !requiredProps.has(p) && taskConfiguration[p] !== undefined).length;\n            if (score > highest) {\n                highest = score;\n                matchedDefinition = def;\n            }\n        }\n        return matchedDefinition;\n    }\n\n    /**\n     * Add a task definition to the registry.\n     *\n     * @param definition the task definition to be added.\n     */\n    register(definition: TaskDefinition): Disposable {\n        const taskType = definition.taskType;\n        const definitions = this.definitions.get(taskType) || [];\n        definitions.push(definition);\n        this.definitions.set(taskType, definitions);\n        this.onDidRegisterTaskDefinitionEmitter.fire(undefined);\n        return Disposable.create(() => {\n            const index = definitions.indexOf(definition);\n            if (index !== -1) {\n                definitions.splice(index, 1);\n            }\n            this.onDidUnregisterTaskDefinitionEmitter.fire(undefined);\n        });\n    }\n\n    compareTasks(one: TaskConfiguration | TaskCustomization, other: TaskConfiguration | TaskCustomization): boolean {\n        const oneType = one.type;\n        const otherType = other.type;\n        if (oneType !== otherType) {\n            return false;\n        }\n        if (one['taskType'] !== other['taskType']) {\n            return false;\n        }\n        const def = this.getDefinition(one);\n        if (def) {\n            // scope is either a string or an enum value. Anyway...they must exactly match\n            // \"_scope\" may hold the Uri to the associated workspace whereas\n            // \"scope\" reflects the original TaskConfigurationScope as provided by plugins,\n            // Matching \"_scope\" or \"scope\" are both accepted in order to correlate provided task\n            // configurations (e.g. TaskScope.Workspace) against already configured tasks.\n            return def.properties.all.every(p => p === 'type' || JSONExt.deepEqual(one[p], other[p]))\n                && (one._scope === other._scope || one.scope === other.scope);\n        }\n        return one.label === other.label && one._source === other._source;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { TaskConfiguration } from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskConfigurations } from './task-configurations';\n\n@injectable()\nexport class TaskNameResolver {\n    @inject(TaskDefinitionRegistry)\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskConfigurations)\n    protected readonly taskConfigurations: TaskConfigurations;\n\n    /**\n     * Returns task name to display.\n     * It is aligned with VS Code.\n     */\n    resolve(task: TaskConfiguration): string {\n        if (this.isDetectedTask(task)) {\n            const scope = task._scope;\n            const rawConfigs = this.taskConfigurations.getRawTaskConfigurations(scope);\n            const jsonConfig = rawConfigs.find(rawConfig => this.taskDefinitionRegistry.compareTasks({\n                ...rawConfig, _scope: scope\n            }, task));\n            // detected task that has a `label` defined in `tasks.json`\n            if (jsonConfig && jsonConfig.label) {\n                return jsonConfig.label;\n            }\n            return `${task.source || task._source}: ${task.label}`;\n        }\n\n        // it is a hack, when task is customized but extension is absent\n        return task.label || `${task.type}: ${task.task}`;\n    }\n\n    private isDetectedTask(task: TaskConfiguration): boolean {\n        return !!this.taskDefinitionRegistry.getDefinition(task);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { TaskConfiguration } from '../common';\n\nexport class TaskNode {\n\n    taskId: TaskConfiguration;\n    childTasks: TaskNode[];\n    parentsID: TaskConfiguration[];\n\n    constructor(taskId: TaskConfiguration, childTasks: TaskNode[], parentsID: TaskConfiguration[]) {\n        this.taskId = taskId;\n        this.childTasks = childTasks;\n        this.parentsID = parentsID;\n    }\n\n    addChildDependency(node: TaskNode): void {\n        this.childTasks.push(node);\n    }\n\n    addParentDependency(parentId: TaskConfiguration): void {\n        this.parentsID.push(parentId);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { Event, Emitter } from '@theia/core/lib/common';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport {\n    ApplyToKind, FileLocationKind, NamedProblemMatcher,\n    ProblemPattern, ProblemMatcher, ProblemMatcherContribution, WatchingMatcher,\n    fromVariableName\n} from '../common';\nimport { ProblemPatternRegistry } from './task-problem-pattern-registry';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\n\n@injectable()\nexport class ProblemMatcherRegistry {\n\n    private readonly matchers = new Map<string, NamedProblemMatcher>();\n    private readyPromise = new Deferred<void>();\n\n    @inject(ProblemPatternRegistry)\n    protected readonly problemPatternRegistry: ProblemPatternRegistry;\n\n    protected readonly onDidChangeProblemMatcherEmitter = new Emitter<void>();\n    get onDidChangeProblemMatcher(): Event<void> {\n        return this.onDidChangeProblemMatcherEmitter.event;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.problemPatternRegistry.onReady().then(() => {\n            this.fillDefaults();\n            this.readyPromise.resolve();\n            this.onDidChangeProblemMatcherEmitter.fire(undefined);\n        });\n    }\n\n    onReady(): Promise<void> {\n        return this.readyPromise.promise;\n    }\n\n    /**\n     * Add a problem matcher to the registry.\n     *\n     * @param definition the problem matcher to be added.\n     */\n    register(matcher: ProblemMatcherContribution): Disposable {\n        if (!matcher.name) {\n            console.error('Only named Problem Matchers can be registered.');\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection(Disposable.create(() => {\n            /* mark as not disposed */\n            this.onDidChangeProblemMatcherEmitter.fire(undefined);\n        }));\n        this.doRegister(matcher, toDispose).then(() => this.onDidChangeProblemMatcherEmitter.fire(undefined));\n        return toDispose;\n    }\n\n    protected async doRegister(matcher: ProblemMatcherContribution, toDispose: DisposableCollection): Promise<void> {\n        const problemMatcher = await this.getProblemMatcherFromContribution(matcher);\n        if (toDispose.disposed) {\n            return;\n        }\n        toDispose.push(this.add(problemMatcher as NamedProblemMatcher));\n    }\n\n    /**\n     * Finds the problem matcher from the registry by its name.\n     *\n     * @param name the name of the problem matcher\n     * @return the problem matcher. If the task definition is not found, `undefined` is returned.\n     */\n    get(name: string): NamedProblemMatcher | undefined {\n        return this.matchers.get(fromVariableName(name));\n    }\n\n    /**\n     * Returns all registered problem matchers in the registry.\n     */\n    getAll(): NamedProblemMatcher[] {\n        const all: NamedProblemMatcher[] = [];\n        for (const matcherName of this.matchers.keys()) {\n            all.push(this.get(matcherName)!);\n        }\n        all.sort((one, other) => one.name.localeCompare(other.name));\n        return all;\n    }\n\n    /**\n     * Transforms the `ProblemMatcherContribution` to a `ProblemMatcher`\n     *\n     * @return the problem matcher\n     */\n    async getProblemMatcherFromContribution(matcher: ProblemMatcherContribution): Promise<ProblemMatcher> {\n        let baseMatcher: NamedProblemMatcher | undefined;\n        if (matcher.base) {\n            baseMatcher = this.get(matcher.base);\n        }\n\n        let fileLocation: FileLocationKind | undefined;\n        let filePrefix: string | undefined;\n        if (matcher.fileLocation === undefined) {\n            fileLocation = baseMatcher ? baseMatcher.fileLocation : FileLocationKind.Relative;\n            filePrefix = baseMatcher ? baseMatcher.filePrefix : '${workspaceFolder}';\n        } else {\n            const locationAndPrefix = this.getFileLocationKindAndPrefix(matcher);\n            fileLocation = locationAndPrefix.fileLocation;\n            filePrefix = locationAndPrefix.filePrefix;\n        }\n\n        const patterns: ProblemPattern[] = [];\n        if (matcher.pattern) {\n            if (typeof matcher.pattern === 'string') {\n                await this.problemPatternRegistry.onReady();\n                const registeredPattern = this.problemPatternRegistry.get(fromVariableName(matcher.pattern));\n                if (Array.isArray(registeredPattern)) {\n                    patterns.push(...registeredPattern);\n                } else if (!!registeredPattern) {\n                    patterns.push(registeredPattern);\n                }\n            } else if (Array.isArray(matcher.pattern)) {\n                patterns.push(...matcher.pattern.map(p => ProblemPattern.fromProblemPatternContribution(p)));\n            } else {\n                patterns.push(ProblemPattern.fromProblemPatternContribution(matcher.pattern));\n            }\n        } else if (baseMatcher) {\n            if (Array.isArray(baseMatcher.pattern)) {\n                patterns.push(...baseMatcher.pattern);\n            } else {\n                patterns.push(baseMatcher.pattern);\n            }\n        }\n\n        let deprecated: boolean | undefined = matcher.deprecated;\n        if (deprecated === undefined && baseMatcher) {\n            deprecated = baseMatcher.deprecated;\n        }\n\n        let applyTo: ApplyToKind | undefined;\n        if (matcher.applyTo === undefined) {\n            applyTo = baseMatcher ? baseMatcher.applyTo : ApplyToKind.allDocuments;\n        } else {\n            applyTo = ApplyToKind.fromString(matcher.applyTo) || ApplyToKind.allDocuments;\n        }\n\n        let severity: Severity = Severity.fromValue(matcher.severity);\n        if (matcher.severity === undefined && baseMatcher && baseMatcher.severity !== undefined) {\n            severity = baseMatcher.severity;\n        }\n        let watching: WatchingMatcher | undefined = WatchingMatcher.fromWatchingMatcherContribution(matcher.background || matcher.watching);\n        if (watching === undefined && baseMatcher) {\n            watching = baseMatcher.watching;\n        }\n        const problemMatcher = {\n            name: matcher.name || (baseMatcher ? baseMatcher.name : undefined),\n            label: matcher.label || baseMatcher?.label || '',\n            deprecated,\n            owner: matcher.owner || (baseMatcher ? baseMatcher.owner : ''),\n            source: matcher.source || (baseMatcher ? baseMatcher.source : undefined),\n            applyTo,\n            fileLocation,\n            filePrefix,\n            pattern: patterns,\n            severity,\n            watching\n        };\n        return problemMatcher;\n    }\n\n    private add(matcher: NamedProblemMatcher): Disposable {\n        this.matchers.set(matcher.name, matcher);\n        return Disposable.create(() => this.matchers.delete(matcher.name));\n    }\n\n    private getFileLocationKindAndPrefix(matcher: ProblemMatcherContribution): { fileLocation: FileLocationKind, filePrefix: string } {\n        let fileLocation = FileLocationKind.Relative;\n        let filePrefix = '${workspaceFolder}';\n        if (matcher.fileLocation !== undefined) {\n            if (Array.isArray(matcher.fileLocation)) {\n                if (matcher.fileLocation.length > 0) {\n                    const locationKind = FileLocationKind.fromString(matcher.fileLocation[0]);\n                    if (matcher.fileLocation.length === 1 && locationKind === FileLocationKind.Absolute) {\n                        fileLocation = locationKind;\n                    } else if (matcher.fileLocation.length === 2 && locationKind === FileLocationKind.Relative && matcher.fileLocation[1]) {\n                        fileLocation = locationKind;\n                        filePrefix = matcher.fileLocation[1];\n                    }\n                }\n            } else {\n                const locationKind = FileLocationKind.fromString(matcher.fileLocation);\n                if (locationKind) {\n                    fileLocation = locationKind;\n                    if (locationKind === FileLocationKind.Relative) {\n                        filePrefix = '${workspaceFolder}';\n                    }\n                }\n            }\n        }\n        return { fileLocation, filePrefix };\n    }\n\n    // copied from https://github.com/Microsoft/vscode/blob/1.33.1/src/vs/workbench/contrib/tasks/common/problemMatcher.ts\n    private fillDefaults(): void {\n        this.add({\n            name: 'msCompile',\n            label: 'Microsoft compiler problems',\n            owner: 'msCompile',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            pattern: (this.problemPatternRegistry.get('msCompile'))!\n        });\n\n        this.add({\n            name: 'lessCompile',\n            label: 'Less problems',\n            deprecated: true,\n            owner: 'lessCompile',\n            source: 'less',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            pattern: (this.problemPatternRegistry.get('lessCompile'))!,\n            severity: Severity.Error\n        });\n\n        this.add({\n            name: 'gulp-tsc',\n            label: 'Gulp TSC Problems',\n            owner: 'typescript',\n            source: 'ts',\n            applyTo: ApplyToKind.closedDocuments,\n            fileLocation: FileLocationKind.Relative,\n            filePrefix: '${workspaceFolder}',\n            pattern: (this.problemPatternRegistry.get('gulp-tsc'))!\n        });\n\n        this.add({\n            name: 'jshint',\n            label: 'JSHint problems',\n            owner: 'jshint',\n            source: 'jshint',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            pattern: (this.problemPatternRegistry.get('jshint'))!\n        });\n\n        this.add({\n            name: 'jshint-stylish',\n            label: 'JSHint stylish problems',\n            owner: 'jshint',\n            source: 'jshint',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            pattern: (this.problemPatternRegistry.get('jshint-stylish'))!\n        });\n\n        this.add({\n            name: 'eslint-compact',\n            label: 'ESLint compact problems',\n            owner: 'eslint',\n            source: 'eslint',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            filePrefix: '${workspaceFolder}',\n            pattern: (this.problemPatternRegistry.get('eslint-compact'))!\n        });\n\n        this.add({\n            name: 'eslint-stylish',\n            label: 'ESLint stylish problems',\n            owner: 'eslint',\n            source: 'eslint',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Absolute,\n            pattern: (this.problemPatternRegistry.get('eslint-stylish'))!\n        });\n\n        this.add({\n            name: 'go',\n            label: 'Go problems',\n            owner: 'go',\n            source: 'go',\n            applyTo: ApplyToKind.allDocuments,\n            fileLocation: FileLocationKind.Relative,\n            filePrefix: '${workspaceFolder}',\n            pattern: (this.problemPatternRegistry.get('go'))!\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { NamedProblemPattern, ProblemLocationKind, ProblemPattern, ProblemPatternContribution } from '../common';\n\n@injectable()\nexport class ProblemPatternRegistry {\n    private readonly patterns = new Map<string, NamedProblemPattern | NamedProblemPattern[]>();\n    private readyPromise = new Deferred<void>();\n\n    @postConstruct()\n    protected init(): void {\n        this.fillDefaults();\n        this.readyPromise.resolve();\n    }\n\n    onReady(): Promise<void> {\n        return this.readyPromise.promise;\n    }\n\n    /**\n     * Add a problem pattern to the registry.\n     *\n     * @param definition the problem pattern to be added.\n     */\n    register(value: ProblemPatternContribution | ProblemPatternContribution[]): Disposable {\n        if (Array.isArray(value)) {\n            const toDispose = new DisposableCollection();\n            value.forEach(problemPatternContribution => toDispose.push(this.register(problemPatternContribution)));\n            return toDispose;\n        }\n        if (!value.name) {\n            console.error('Only named Problem Patterns can be registered.');\n            return Disposable.NULL;\n        }\n        const problemPattern = ProblemPattern.fromProblemPatternContribution(value);\n        return this.add(problemPattern.name!, problemPattern);\n    }\n\n    /**\n     * Finds the problem pattern(s) from the registry with the given name.\n     *\n     * @param key the name of the problem patterns\n     * @return a problem pattern or an array of the problem patterns associated with the name. If no problem patterns are found, `undefined` is returned.\n     */\n    get(key: string): undefined | NamedProblemPattern | NamedProblemPattern[] {\n        return this.patterns.get(key);\n    }\n\n    private add(key: string, value: ProblemPattern | ProblemPattern[]): Disposable {\n        let toAdd: NamedProblemPattern | NamedProblemPattern[];\n        if (Array.isArray(value)) {\n            toAdd = value.map(v => Object.assign(v, { name: key }));\n        } else {\n            toAdd = Object.assign(value, { name: key });\n        }\n        this.patterns.set(key, toAdd);\n        return Disposable.create(() => this.patterns.delete(key));\n    }\n\n    // copied from https://github.com/Microsoft/vscode/blob/1.33.1/src/vs/workbench/contrib/tasks/common/problemMatcher.ts\n    private fillDefaults(): void {\n        this.add('msCompile', {\n            regexp: /^(?:\\s+\\d+\\>)?([^\\s].*)\\((\\d+|\\d+,\\d+|\\d+,\\d+,\\d+,\\d+)\\)\\s*:\\s+(error|warning|info)\\s+(\\w{1,2}\\d+)\\s*:\\s*(.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            location: 2,\n            severity: 3,\n            code: 4,\n            message: 5\n        });\n        this.add('gulp-tsc', {\n            regexp: /^([^\\s].*)\\((\\d+|\\d+,\\d+|\\d+,\\d+,\\d+,\\d+)\\):\\s+(\\d+)\\s+(.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            location: 2,\n            code: 3,\n            message: 4\n        });\n        this.add('cpp', {\n            regexp: /^([^\\s].*)\\((\\d+|\\d+,\\d+|\\d+,\\d+,\\d+,\\d+)\\):\\s+(error|warning|info)\\s+(C\\d+)\\s*:\\s*(.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            location: 2,\n            severity: 3,\n            code: 4,\n            message: 5\n        });\n        this.add('csc', {\n            regexp: /^([^\\s].*)\\((\\d+|\\d+,\\d+|\\d+,\\d+,\\d+,\\d+)\\):\\s+(error|warning|info)\\s+(CS\\d+)\\s*:\\s*(.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            location: 2,\n            severity: 3,\n            code: 4,\n            message: 5\n        });\n        this.add('vb', {\n            regexp: /^([^\\s].*)\\((\\d+|\\d+,\\d+|\\d+,\\d+,\\d+,\\d+)\\):\\s+(error|warning|info)\\s+(BC\\d+)\\s*:\\s*(.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            location: 2,\n            severity: 3,\n            code: 4,\n            message: 5\n        });\n        this.add('lessCompile', {\n            regexp: /^\\s*(.*) in file (.*) line no. (\\d+)$/.source,\n            kind: ProblemLocationKind.Location,\n            message: 1,\n            file: 2,\n            line: 3\n        });\n        this.add('jshint', {\n            regexp: /^(.*):\\s+line\\s+(\\d+),\\s+col\\s+(\\d+),\\s(.+?)(?:\\s+\\((\\w)(\\d+)\\))?$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 1,\n            line: 2,\n            character: 3,\n            message: 4,\n            severity: 5,\n            code: 6\n        });\n        this.add('jshint-stylish', [\n            {\n                regexp: /^(.+)$/.source,\n                kind: ProblemLocationKind.Location,\n                file: 1\n            },\n            {\n                regexp: /^\\s+line\\s+(\\d+)\\s+col\\s+(\\d+)\\s+(.+?)(?:\\s+\\((\\w)(\\d+)\\))?$/.source,\n                line: 1,\n                character: 2,\n                message: 3,\n                severity: 4,\n                code: 5,\n                loop: true\n            }\n        ]);\n        this.add('eslint-compact', {\n            regexp: /^(.+):\\sline\\s(\\d+),\\scol\\s(\\d+),\\s(Error|Warning|Info)\\s-\\s(.+)\\s\\((.+)\\)$/.source,\n            file: 1,\n            kind: ProblemLocationKind.Location,\n            line: 2,\n            character: 3,\n            severity: 4,\n            message: 5,\n            code: 6\n        });\n        this.add('eslint-stylish', [\n            {\n                regexp: /^([^\\s].*)$/.source,\n                kind: ProblemLocationKind.Location,\n                file: 1\n            },\n            {\n                regexp: /^\\s+(\\d+):(\\d+)\\s+(error|warning|info)\\s+(.+?)(?:\\s\\s+(.*))?$/.source,\n                line: 1,\n                character: 2,\n                severity: 3,\n                message: 4,\n                code: 5,\n                loop: true\n            }\n        ]);\n        this.add('go', {\n            regexp: /^([^:]*: )?((.:)?[^:]*):(\\d+)(:(\\d+))?: (.*)$/.source,\n            kind: ProblemLocationKind.Location,\n            file: 2,\n            line: 4,\n            character: 6,\n            message: 7\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n// This file is inspired by VSCode and partially copied from https://github.com/Microsoft/vscode/blob/1.33.1/src/vs/workbench/contrib/tasks/common/problemMatcher.ts\n// 'problemMatcher.ts' copyright:\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as Ajv from '@theia/core/shared/ajv';\nimport debounce = require('p-debounce');\nimport { postConstruct, injectable, inject } from '@theia/core/shared/inversify';\nimport { JsonSchemaContribution, JsonSchemaRegisterContext } from '@theia/core/lib/browser/json-schema-store';\nimport { InMemoryResources, deepClone, Emitter } from '@theia/core/lib/common';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport { inputsSchema } from '@theia/variable-resolver/lib/browser/variable-input-schema';\nimport URI from '@theia/core/lib/common/uri';\nimport { ProblemMatcherRegistry } from './task-problem-matcher-registry';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskServer, asVariableName } from '../common';\nimport { UserStorageUri } from '@theia/userstorage/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { JSONObject } from '@theia/core/shared/@phosphor/coreutils';\n\nexport const taskSchemaId = 'vscode://schemas/tasks';\n\n@injectable()\nexport class TaskSchemaUpdater implements JsonSchemaContribution {\n\n    @inject(InMemoryResources)\n    protected readonly inmemoryResources: InMemoryResources;\n\n    @inject(ProblemMatcherRegistry)\n    protected readonly problemMatcherRegistry: ProblemMatcherRegistry;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TaskServer)\n    protected readonly taskServer: TaskServer;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    protected readonly onDidChangeTaskSchemaEmitter = new Emitter<void>();\n    readonly onDidChangeTaskSchema = this.onDidChangeTaskSchemaEmitter.event;\n\n    protected readonly uri = new URI(taskSchemaId);\n\n    @postConstruct()\n    protected init(): void {\n        const resource = this.inmemoryResources.add(this.uri, '');\n        if (resource.onDidChangeContents) {\n            resource.onDidChangeContents(() => {\n                this.onDidChangeTaskSchemaEmitter.fire(undefined);\n            });\n        }\n        this.updateProblemMatcherNames();\n        this.updateSupportedTaskTypes();\n        // update problem matcher names in the task schema every time a problem matcher is added or disposed\n        this.problemMatcherRegistry.onDidChangeProblemMatcher(() => this.updateProblemMatcherNames());\n        // update supported task types in the task schema every time a task definition is registered or removed\n        this.taskDefinitionRegistry.onDidRegisterTaskDefinition(() => this.updateSupportedTaskTypes());\n        this.taskDefinitionRegistry.onDidUnregisterTaskDefinition(() => this.updateSupportedTaskTypes());\n    }\n\n    registerSchemas(context: JsonSchemaRegisterContext): void {\n        context.registerSchema({\n            fileMatch: ['tasks.json', UserStorageUri.resolve('tasks.json').toString()],\n            url: this.uri.toString()\n        });\n        this.workspaceService.updateSchema('tasks', { $ref: this.uri.toString() });\n    }\n\n    readonly update = debounce(() => this.doUpdate(), 0);\n    protected doUpdate(): void {\n        taskConfigurationSchema.anyOf = [processTaskConfigurationSchema, ...customizedDetectedTasks, ...customSchemas];\n\n        const schema = this.getTaskSchema();\n        this.doValidate = new Ajv().compile(schema);\n        const schemaContent = JSON.stringify(schema);\n        this.inmemoryResources.update(this.uri, schemaContent);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    validate(data: any): boolean {\n        return !!this.doValidate && !!this.doValidate(data);\n    }\n    protected doValidate: Ajv.ValidateFunction | undefined;\n\n    /**\n     * Adds given task schema to `taskConfigurationSchema` as `oneOf` subschema.\n     * Replaces existed subschema by given schema if the corresponding `$id` properties are equal.\n     *\n     * Note: please provide `$id` property for subschema to have ability remove/replace it.\n     * @param schema subschema for adding to `taskConfigurationSchema`\n     */\n    addSubschema(schema: IJSONSchema): void {\n        const schemaId = schema.$id;\n        if (schemaId) {\n            this.doRemoveSubschema(schemaId);\n        }\n\n        customSchemas.push(schema);\n        this.update();\n    }\n\n    /**\n     * Removes task subschema from `taskConfigurationSchema`.\n     *\n     * @param arg `$id` property of subschema\n     */\n    removeSubschema(arg: string): void {\n        const isRemoved = this.doRemoveSubschema(arg);\n        if (isRemoved) {\n            this.update();\n        }\n    }\n\n    /**\n     * Removes task subschema from `customSchemas`, use `update()` to apply the changes for `taskConfigurationSchema`.\n     *\n     * @param arg `$id` property of subschema\n     * @returns `true` if subschema was removed, `false` otherwise\n     */\n    protected doRemoveSubschema(arg: string): boolean {\n        const index = customSchemas.findIndex(existed => !!existed.$id && existed.$id === arg);\n        if (index > -1) {\n            customSchemas.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n\n    /** Returns an array of task types that are registered, including the default types */\n    async getRegisteredTaskTypes(): Promise<string[]> {\n        const serverSupportedTypes = await this.taskServer.getRegisteredTaskTypes();\n        const browserSupportedTypes = this.taskDefinitionRegistry.getAll().map(def => def.taskType);\n        const allTypes = new Set([...serverSupportedTypes, ...browserSupportedTypes]);\n        return Array.from(allTypes.values()).sort();\n    }\n\n    private updateSchemasForRegisteredTasks(): void {\n        customizedDetectedTasks.length = 0;\n        const definitions = this.taskDefinitionRegistry.getAll();\n        definitions.forEach(def => {\n            const customizedDetectedTask: IJSONSchema = {\n                type: 'object',\n                required: ['type'],\n                properties: {}\n            };\n            const taskType = {\n                ...defaultTaskType,\n                enum: [def.taskType],\n                default: def.taskType,\n                description: 'The task type to customize'\n            };\n            customizedDetectedTask.properties!.type = taskType;\n            const required = def.properties.required || [];\n            def.properties.all.forEach(taskProp => {\n                if (required.find(requiredProp => requiredProp === taskProp)) { // property is mandatory\n                    customizedDetectedTask.required!.push(taskProp);\n                }\n                customizedDetectedTask.properties![taskProp] = { ...def.properties.schema.properties![taskProp] };\n            });\n            customizedDetectedTask.properties!.label = taskLabel;\n            customizedDetectedTask.properties!.problemMatcher = problemMatcher;\n            customizedDetectedTask.properties!.presentation = presentation;\n            customizedDetectedTask.properties!.options = commandOptionsSchema;\n            customizedDetectedTask.properties!.group = group;\n            customizedDetectedTask.properties!.detail = detail;\n            customizedDetectedTask.additionalProperties = true;\n            customizedDetectedTasks.push(customizedDetectedTask);\n        });\n    }\n\n    /** Returns the task's JSON schema */\n    getTaskSchema(): IJSONSchema & { default: JSONObject } {\n        return {\n            type: 'object',\n            default: { version: '2.0.0', tasks: [] },\n            properties: {\n                version: {\n                    type: 'string',\n                    default: '2.0.0'\n                },\n                tasks: {\n                    type: 'array',\n                    items: {\n                        ...deepClone(taskConfigurationSchema)\n                    }\n                },\n                inputs: inputsSchema.definitions!.inputs\n            },\n            additionalProperties: false,\n            allowComments: true,\n            allowTrailingCommas: true,\n        };\n    }\n\n    /** Gets the most up-to-date names of problem matchers from the registry and update the task schema */\n    private updateProblemMatcherNames(): void {\n        const matcherNames = this.problemMatcherRegistry.getAll().map(m => asVariableName(m.name));\n        problemMatcherNames.length = 0;\n        problemMatcherNames.push(...matcherNames);\n        this.update();\n    }\n\n    private async updateSupportedTaskTypes(): Promise<void> {\n        this.updateSchemasForRegisteredTasks();\n        this.update();\n    }\n}\n\nconst commandSchema: IJSONSchema = {\n    type: 'string',\n    description: 'The actual command or script to execute'\n};\n\nconst commandArgSchema: IJSONSchema = {\n    type: 'array',\n    description: 'A list of strings, each one being one argument to pass to the command',\n    items: {\n        type: 'string'\n    }\n};\n\nconst commandOptionsSchema: IJSONSchema = {\n    type: 'object',\n    description: 'The command options used when the command is executed',\n    properties: {\n        cwd: {\n            type: 'string',\n            description: 'The directory in which the command will be executed',\n            default: '${workspaceFolder}'\n        },\n        env: {\n            type: 'object',\n            description: 'The environment of the executed program or shell. If omitted the parent process\\' environment is used'\n        },\n        shell: {\n            type: 'object',\n            description: 'Configuration of the shell when task type is `shell`',\n            properties: {\n                executable: {\n                    type: 'string',\n                    description: 'The shell to use'\n                },\n                args: {\n                    type: 'array',\n                    description: `The arguments to be passed to the shell executable to run in command mode\n                        (e.g ['-c'] for bash or ['/S', '/C'] for cmd.exe)`,\n                    items: {\n                        type: 'string'\n                    }\n                }\n            }\n        }\n    }\n};\n\nconst problemMatcherNames: string[] = [];\nconst defaultTaskTypes = ['shell', 'process'];\nconst supportedTaskTypes = [...defaultTaskTypes];\nconst taskLabel: IJSONSchema = {\n    type: 'string',\n    description: 'A unique string that identifies the task that is also used as task\\'s user interface label'\n};\nconst defaultTaskType: IJSONSchema = {\n    type: 'string',\n    enum: supportedTaskTypes,\n    default: defaultTaskTypes[0],\n    description: 'Determines what type of process will be used to execute the task. Only shell types will have output shown on the user interface'\n} as const;\nconst commandAndArgs = {\n    command: commandSchema,\n    args: commandArgSchema,\n    options: commandOptionsSchema\n};\n\nconst group: IJSONSchema = {\n    oneOf: [\n        {\n            type: 'string'\n        },\n        {\n            type: 'object',\n            properties: {\n                kind: {\n                    type: 'string',\n                    default: 'none',\n                    description: 'The task\\'s execution group.'\n                },\n                isDefault: {\n                    type: 'boolean',\n                    default: false,\n                    description: 'Defines if this task is the default task in the group.'\n                }\n            }\n        }\n    ],\n    enum: [\n        { kind: 'build', isDefault: true },\n        { kind: 'test', isDefault: true },\n        'build',\n        'test',\n        'none'\n    ],\n    enumDescriptions: [\n        'Marks the task as the default build task.',\n        'Marks the task as the default test task.',\n        'Marks the task as a build task accessible through the \\'Run Build Task\\' command.',\n        'Marks the task as a test task accessible through the \\'Run Test Task\\' command.',\n        'Assigns the task to no group'\n    ],\n    // eslint-disable-next-line max-len\n    description: 'Defines to which execution group this task belongs to. It supports \"build\" to add it to the build group and \"test\" to add it to the test group.'\n};\n\nconst problemPattern: IJSONSchema = {\n    default: {\n        regexp: '^([^\\\\\\\\s].*)\\\\\\\\((\\\\\\\\d+,\\\\\\\\d+)\\\\\\\\):\\\\\\\\s*(.*)$',\n        file: 1,\n        location: 2,\n        message: 3\n    },\n    type: 'object',\n    properties: {\n        regexp: {\n            type: 'string',\n            description: 'The regular expression to find an error, warning or info in the output.'\n        },\n        kind: {\n            type: 'string',\n            description: 'whether the pattern matches a location (file and line) or only a file.'\n        },\n        file: {\n            type: 'integer',\n            description: 'The match group index of the filename. If omitted 1 is used.'\n        },\n        location: {\n            type: 'integer',\n            // eslint-disable-next-line max-len\n            description: 'The match group index of the problem\\'s location. Valid location patterns are: (line), (line,column) and (startLine,startColumn,endLine,endColumn). If omitted (line,column) is assumed.'\n        },\n        line: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s line. Defaults to 2'\n        },\n        column: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s line character. Defaults to 3'\n        },\n        endLine: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s end line. Defaults to undefined'\n        },\n        endColumn: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s end line character. Defaults to undefined'\n        },\n        severity: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s severity. Defaults to undefined'\n        },\n        code: {\n            type: 'integer',\n            description: 'The match group index of the problem\\'s code. Defaults to undefined'\n        },\n        message: {\n            type: 'integer',\n            description: 'The match group index of the message. If omitted it defaults to 4 if location is specified. Otherwise it defaults to 5.'\n        },\n        loop: {\n            type: 'boolean',\n            // eslint-disable-next-line max-len\n            description: 'In a multi line matcher loop indicated whether this pattern is executed in a loop as long as it matches. Can only specified on a last pattern in a multi line pattern.'\n        }\n    }\n};\n\nconst multiLineProblemPattern: IJSONSchema = {\n    type: 'array',\n    items: problemPattern\n};\n\nconst watchingPattern: IJSONSchema = {\n    type: 'object',\n    additionalProperties: false,\n    properties: {\n        regexp: {\n            type: 'string',\n            description: 'The regular expression to detect the begin or end of a background task.'\n        },\n        file: {\n            type: 'integer',\n            description: 'The match group index of the filename. Can be omitted.'\n        },\n    }\n};\n\nconst patternType: IJSONSchema = {\n    anyOf: [\n        {\n            type: 'string',\n            description: 'The name of a contributed or predefined pattern'\n        },\n        problemPattern,\n        multiLineProblemPattern\n    ],\n    description: 'A problem pattern or the name of a contributed or predefined problem pattern. Can be omitted if base is specified.'\n};\n\nconst problemMatcherObject: IJSONSchema = {\n    type: 'object',\n    properties: {\n        base: {\n            type: 'string',\n            enum: problemMatcherNames,\n            description: 'The name of a base problem matcher to use.'\n        },\n        owner: {\n            type: 'string',\n            description: 'The owner of the problem inside Code. Can be omitted if base is specified. Defaults to \\'external\\' if omitted and base is not specified.'\n        },\n        source: {\n            type: 'string',\n            description: 'A human-readable string describing the source of this diagnostic, e.g. \\'typescript\\' or \\'super lint\\'.'\n        },\n        severity: {\n            type: 'string',\n            enum: ['error', 'warning', 'info'],\n            description: 'The default severity for captures problems. Is used if the pattern doesn\\'t define a match group for severity.'\n        },\n        applyTo: {\n            type: 'string',\n            enum: ['allDocuments', 'openDocuments', 'closedDocuments'],\n            description: 'Controls if a problem reported on a text document is applied only to open, closed or all documents.'\n        },\n        pattern: patternType,\n        fileLocation: {\n            oneOf: [\n                {\n                    type: 'string',\n                    enum: ['absolute', 'relative', 'autoDetect']\n                },\n                {\n                    type: 'array',\n                    items: {\n                        type: 'string'\n                    }\n                }\n            ],\n            description: 'Defines how file names reported in a problem pattern should be interpreted.'\n        },\n        background: {\n            type: 'object',\n            additionalProperties: false,\n            description: 'Patterns to track the begin and end of a matcher active on a background task.',\n            properties: {\n                activeOnStart: {\n                    type: 'boolean',\n                    description: 'If set to true the background monitor is in active mode when the task starts. This is equals of issuing a line that matches the beginsPattern'\n                },\n                beginsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the start of a background task is signaled.'\n                },\n                endsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the end of a background task is signaled.'\n                }\n            }\n        },\n        watching: {\n            type: 'object',\n            additionalProperties: false,\n            deprecationMessage: 'The watching property is deprecated. Use background instead.',\n            description: 'Patterns to track the begin and end of a watching matcher.',\n            properties: {\n                activeOnStart: {\n                    type: 'boolean',\n                    description: 'If set to true the watcher is in active mode when the task starts. This is equals of issuing a line that matches the beginPattern'\n                },\n                beginsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the start of a watching task is signaled.'\n                },\n                endsPattern: {\n                    oneOf: [\n                        {\n                            type: 'string'\n                        },\n                        watchingPattern\n                    ],\n                    description: 'If matched in the output the end of a watching task is signaled.'\n                }\n            }\n        }\n    }\n};\n\nconst problemMatcher: IJSONSchema = {\n    anyOf: [\n        {\n            type: 'string',\n            description: 'Name of the problem matcher to parse the output of the task',\n            enum: problemMatcherNames\n        },\n        {\n            type: 'array',\n            description: 'Name(s) of the problem matcher(s) to parse the output of the task',\n            items: {\n                type: 'string',\n                enum: problemMatcherNames\n            }\n        },\n        problemMatcherObject,\n        {\n            type: 'array',\n            description: 'User defined problem matcher(s) to parse the output of the task',\n            items: problemMatcherObject\n        }\n    ]\n};\n\nconst presentation: IJSONSchema = {\n    type: 'object',\n    default: {\n        echo: true,\n        reveal: 'always',\n        focus: false,\n        panel: 'shared',\n        showReuseMessage: true,\n        clear: false\n    },\n    description: 'Configures the panel that is used to present the task\\'s output and reads its input.',\n    additionalProperties: true,\n    properties: {\n        echo: {\n            type: 'boolean',\n            default: true,\n            description: 'Controls whether the executed command is echoed to the panel. Default is true.'\n        },\n        focus: {\n            type: 'boolean',\n            default: false,\n            description: 'Controls whether the panel takes focus. Default is false. If set to true the panel is revealed as well.'\n        },\n        reveal: {\n            type: 'string',\n            enum: ['always', 'silent', 'never'],\n            enumDescriptions: [\n                'Always reveals the terminal when this task is executed.',\n                'Only reveals the terminal if the task exits with an error or the problem matcher finds an error.',\n                'Never reveals the terminal when this task is executed.'\n            ],\n            default: 'always',\n            description: 'Controls whether the terminal running the task is revealed or not. May be overridden by option \\\"revealProblems\\\". Default is \\\"always\\\".'\n        },\n        panel: {\n            type: 'string',\n            enum: ['shared', 'dedicated', 'new'],\n            enumDescriptions: [\n                'The terminal is shared and the output of other task runs are added to the same terminal.',\n                // eslint-disable-next-line max-len\n                'The terminal is dedicated to a specific task. If that task is executed again, the terminal is reused. However, the output of a different task is presented in a different terminal.',\n                'Every execution of that task is using a new clean terminal.'\n            ],\n            default: 'shared',\n            description: 'Controls if the panel is shared between tasks, dedicated to this task or a new one is created on every run.'\n        },\n        showReuseMessage: {\n            type: 'boolean',\n            default: true,\n            description: 'Controls whether to show the \"Terminal will be reused by tasks\" message.'\n        },\n        clear: {\n            type: 'boolean',\n            default: false,\n            description: 'Controls whether the terminal is cleared before this task is run.'\n        }\n    }\n};\n\nconst detail: IJSONSchema = {\n    type: 'string',\n    description: 'An optional description of a task that shows in the Run Task quick pick as a detail.'\n};\n\nconst taskIdentifier: IJSONSchema = {\n    type: 'object',\n    additionalProperties: true,\n    properties: {\n        type: {\n            type: 'string',\n            description: 'The task identifier.'\n        }\n    }\n};\n\nconst processTaskConfigurationSchema: IJSONSchema = {\n    type: 'object',\n    required: ['type', 'label', 'command'],\n    properties: {\n        label: taskLabel,\n        type: defaultTaskType,\n        ...commandAndArgs,\n        isBackground: {\n            type: 'boolean',\n            default: false,\n            description: 'Whether the executed task is kept alive and is running in the background.'\n        },\n        dependsOn: {\n            anyOf: [\n                {\n                    type: 'string',\n                    description: 'Another task this task depends on.'\n                },\n                taskIdentifier,\n                {\n                    type: 'array',\n                    description: 'The other tasks this task depends on.',\n                    items: {\n                        anyOf: [\n                            {\n                                type: 'string'\n                            },\n                            taskIdentifier\n                        ]\n                    }\n                }\n            ],\n            description: 'Either a string representing another task or an array of other tasks that this task depends on.'\n        },\n        dependsOrder: {\n            type: 'string',\n            enum: ['parallel', 'sequence'],\n            enumDescriptions: [\n                'Run all dependsOn tasks in parallel.',\n                'Run all dependsOn tasks in sequence.'\n            ],\n            default: 'parallel',\n            description: 'Determines the order of the dependsOn tasks for this task. Note that this property is not recursive.'\n        },\n        windows: {\n            type: 'object',\n            description: 'Windows specific command configuration that overrides the command, args, and options',\n            properties: commandAndArgs\n        },\n        osx: {\n            type: 'object',\n            description: 'MacOS specific command configuration that overrides the command, args, and options',\n            properties: commandAndArgs\n        },\n        linux: {\n            type: 'object',\n            description: 'Linux specific command configuration that overrides the default command, args, and options',\n            properties: commandAndArgs\n        },\n        group,\n        problemMatcher,\n        presentation,\n        detail,\n    },\n    additionalProperties: true\n};\n\nconst customizedDetectedTasks: IJSONSchema[] = [];\nconst customSchemas: IJSONSchema[] = [];\n\nconst taskConfigurationSchema: IJSONSchema = {\n    $id: taskSchemaId,\n    anyOf: [processTaskConfigurationSchema, ...customizedDetectedTasks, ...customSchemas]\n};\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ApplicationShell, FrontendApplication, QuickPickValue, WidgetManager, WidgetOpenMode } from '@theia/core/lib/browser';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { CommandService, ILogger } from '@theia/core/lib/common';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { QuickPickItemOrSeparator, QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { ProblemManager } from '@theia/markers/lib/browser/problem/problem-manager';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalWidgetFactoryOptions } from '@theia/terminal/lib/browser/terminal-widget-impl';\nimport { VariableResolverService } from '@theia/variable-resolver/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport { inject, injectable, named, postConstruct } from '@theia/core/shared/inversify';\nimport { DiagnosticSeverity, Range } from '@theia/core/shared/vscode-languageserver-protocol';\nimport {\n    ApplyToKind,\n    BackgroundTaskEndedEvent,\n    DependsOrder,\n    NamedProblemMatcher,\n    ProblemMatchData,\n    ProblemMatcher,\n    RevealKind,\n    RunTaskOption,\n    TaskConfiguration,\n    TaskConfigurationScope,\n    TaskCustomization,\n    TaskExitedEvent,\n    TaskIdentifier,\n    TaskInfo,\n    TaskOutputPresentation,\n    TaskOutputProcessedEvent,\n    TaskServer,\n    asVariableName\n} from '../common';\nimport { TaskWatcher } from '../common/task-watcher';\nimport { ProvidedTaskConfigurations } from './provided-task-configurations';\nimport { TaskConfigurationClient, TaskConfigurations } from './task-configurations';\nimport { TaskResolverRegistry } from './task-contribution';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { TaskNameResolver } from './task-name-resolver';\nimport { TaskSourceResolver } from './task-source-resolver';\nimport { ProblemMatcherRegistry } from './task-problem-matcher-registry';\nimport { TaskSchemaUpdater } from './task-schema-updater';\nimport { TaskConfigurationManager } from './task-configuration-manager';\nimport { PROBLEMS_WIDGET_ID, ProblemWidget } from '@theia/markers/lib/browser/problem/problem-widget';\nimport { TaskNode } from './task-node';\nimport { MonacoWorkspace } from '@theia/monaco/lib/browser/monaco-workspace';\nimport { TaskTerminalWidgetManager } from './task-terminal-widget-manager';\nimport { ShellTerminalServerProxy } from '@theia/terminal/lib/common/shell-terminal-protocol';\nimport { Mutex } from 'async-mutex';\n\nexport interface QuickPickProblemMatcherItem {\n    problemMatchers: NamedProblemMatcher[] | undefined;\n    learnMore?: boolean;\n}\n\ninterface TaskGraphNode {\n    taskConfiguration: TaskConfiguration;\n    node: TaskNode;\n}\n\nexport enum TaskEndedTypes {\n    TaskExited,\n    BackgroundTaskEnded\n}\n\nexport interface TaskEndedInfo {\n    taskEndedType: TaskEndedTypes,\n    value: number | boolean | undefined\n}\n\nexport interface LastRunTaskInfo {\n    resolvedTask?: TaskConfiguration;\n    option?: RunTaskOption\n}\n\n@injectable()\nexport class TaskService implements TaskConfigurationClient {\n\n    /**\n     * The last executed task.\n     */\n    protected lastTask: LastRunTaskInfo = { resolvedTask: undefined, option: undefined };\n    protected cachedRecentTasks: TaskConfiguration[] = [];\n    protected runningTasks = new Map<number, {\n        exitCode: Deferred<number | undefined>,\n        terminateSignal: Deferred<string | undefined>,\n        isBackgroundTaskEnded: Deferred<boolean | undefined>\n    }>();\n\n    protected taskStartingLock: Mutex = new Mutex();\n\n    @inject(FrontendApplication)\n    protected readonly app: FrontendApplication;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(TaskServer)\n    protected readonly taskServer: TaskServer;\n\n    @inject(ILogger) @named('task')\n    protected readonly logger: ILogger;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(TaskWatcher)\n    protected readonly taskWatcher: TaskWatcher;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(TaskConfigurations)\n    protected readonly taskConfigurations: TaskConfigurations;\n\n    @inject(ProvidedTaskConfigurations)\n    protected readonly providedTaskConfigurations: ProvidedTaskConfigurations;\n\n    @inject(VariableResolverService)\n    protected readonly variableResolverService: VariableResolverService;\n\n    @inject(TaskResolverRegistry)\n    protected readonly taskResolverRegistry: TaskResolverRegistry;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(ProblemManager)\n    protected readonly problemManager: ProblemManager;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(ProblemMatcherRegistry)\n    protected readonly problemMatcherRegistry: ProblemMatcherRegistry;\n\n    @inject(QuickPickService)\n    protected readonly quickPickService: QuickPickService;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(ShellTerminalServerProxy)\n    protected readonly shellTerminalServer: ShellTerminalServerProxy;\n\n    @inject(TaskNameResolver)\n    protected readonly taskNameResolver: TaskNameResolver;\n\n    @inject(TaskSourceResolver)\n    protected readonly taskSourceResolver: TaskSourceResolver;\n\n    @inject(TaskSchemaUpdater)\n    protected readonly taskSchemaUpdater: TaskSchemaUpdater;\n\n    @inject(TaskConfigurationManager)\n    protected readonly taskConfigurationManager: TaskConfigurationManager;\n\n    @inject(CommandService)\n    protected readonly commands: CommandService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(MonacoWorkspace)\n    protected monacoWorkspace: MonacoWorkspace;\n\n    @inject(TaskTerminalWidgetManager)\n    protected readonly taskTerminalWidgetManager: TaskTerminalWidgetManager;\n\n    @postConstruct()\n    protected init(): void {\n        this.getRunningTasks().then(tasks =>\n            tasks.forEach(task => {\n                if (!this.runningTasks.has(task.taskId)) {\n                    this.runningTasks.set(task.taskId, {\n                        exitCode: new Deferred<number | undefined>(), terminateSignal: new Deferred<string | undefined>(),\n                        isBackgroundTaskEnded: new Deferred<boolean | undefined>()\n                    });\n                }\n            }));\n\n        // notify user that task has started\n        this.taskWatcher.onTaskCreated((event: TaskInfo) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            this.runningTasks.set(event.taskId, {\n                exitCode: new Deferred<number | undefined>(),\n                terminateSignal: new Deferred<string | undefined>(),\n                isBackgroundTaskEnded: new Deferred<boolean | undefined>()\n            });\n        });\n\n        this.taskWatcher.onOutputProcessed(async (event: TaskOutputProcessedEvent) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            if (event.problems) {\n                const runningTasksInfo: TaskInfo[] = await this.getRunningTasks();\n                // check if the task is active\n                const matchedRunningTaskInfo = runningTasksInfo.find(taskInfo => {\n                    const taskConfig = taskInfo.config;\n                    return this.taskDefinitionRegistry.compareTasks(taskConfig, event.config);\n                });\n                const isTaskActiveAndOutputSilent = matchedRunningTaskInfo &&\n                    matchedRunningTaskInfo.config.presentation && matchedRunningTaskInfo.config.presentation.reveal === RevealKind.Silent;\n                event.problems.forEach(problem => {\n                    const existingMarkers = this.problemManager.findMarkers({ owner: problem.description.owner });\n                    const uris = new Set<string>();\n                    existingMarkers.forEach(marker => uris.add(marker.uri));\n                    if (ProblemMatchData.is(problem) && problem.resource) {\n                        // When task.presentation.reveal === RevealKind.Silent, put focus on the terminal only if it is an error\n                        if (isTaskActiveAndOutputSilent && problem.marker.severity === DiagnosticSeverity.Error) {\n                            const terminalId = matchedRunningTaskInfo!.terminalId;\n                            if (terminalId) {\n                                const terminal = this.terminalService.getByTerminalId(terminalId);\n                                if (terminal) {\n                                    const focus = !!matchedRunningTaskInfo!.config.presentation!.focus;\n                                    if (focus) { // assign focus to the terminal if presentation.focus is true\n                                        this.terminalService.open(terminal, { mode: 'activate' });\n                                    } else { // show the terminal but not assign focus\n                                        this.terminalService.open(terminal, { mode: 'reveal' });\n                                    }\n                                }\n                            }\n                        }\n                        const uri = problem.resource.withScheme(problem.resource.scheme);\n                        const document = this.monacoWorkspace.getTextDocument(uri.toString());\n                        if (problem.description.applyTo === ApplyToKind.openDocuments && !!document ||\n                            problem.description.applyTo === ApplyToKind.closedDocuments && !document ||\n                            problem.description.applyTo === ApplyToKind.allDocuments\n                        ) {\n                            if (uris.has(uri.toString())) {\n                                const newData = [\n                                    ...existingMarkers\n                                        .filter(marker => marker.uri === uri.toString())\n                                        .map(markerData => markerData.data),\n                                    problem.marker\n                                ];\n                                this.problemManager.setMarkers(uri, problem.description.owner, newData);\n                            } else {\n                                this.problemManager.setMarkers(uri, problem.description.owner, [problem.marker]);\n                            }\n                        }\n                    } else { // should have received an event for finding the \"background task begins\" pattern\n                        uris.forEach(uriString => this.problemManager.setMarkers(new URI(uriString), problem.description.owner, []));\n                    }\n                });\n            }\n        });\n\n        this.taskWatcher.onBackgroundTaskEnded((event: BackgroundTaskEndedEvent) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n\n            if (!this.runningTasks.has(event.taskId)) {\n                this.runningTasks.set(event.taskId, {\n                    exitCode: new Deferred<number | undefined>(),\n                    terminateSignal: new Deferred<string | undefined>(),\n                    isBackgroundTaskEnded: new Deferred<boolean | undefined>()\n                });\n            }\n            this.runningTasks.get(event.taskId)!.isBackgroundTaskEnded.resolve(true);\n        });\n\n        // notify user that task has finished\n        this.taskWatcher.onTaskExit((event: TaskExitedEvent) => {\n            if (!this.isEventForThisClient(event.ctx)) {\n                return;\n            }\n            if (!this.runningTasks.has(event.taskId)) {\n                this.runningTasks.set(event.taskId, {\n                    exitCode: new Deferred<number | undefined>(),\n                    terminateSignal: new Deferred<string | undefined>(),\n                    isBackgroundTaskEnded: new Deferred<boolean | undefined>()\n                });\n            }\n            this.runningTasks.get(event.taskId)!.exitCode.resolve(event.code);\n            this.runningTasks.get(event.taskId)!.terminateSignal.resolve(event.signal);\n            setTimeout(() => this.runningTasks.delete(event.taskId), 60 * 1000);\n\n            const taskConfig = event.config;\n            const taskIdentifier = taskConfig ? this.getTaskIdentifier(taskConfig) : event.taskId.toString();\n            if (event.code !== undefined) {\n                if (event.code !== 0) {\n                    const eventTaskConfig = event.config;\n                    if (eventTaskConfig && eventTaskConfig.presentation && eventTaskConfig.presentation.reveal === RevealKind.Silent && event.terminalId) {\n                        const terminal = this.terminalService.getByTerminalId(event.terminalId);\n                        const focus = !!eventTaskConfig.presentation.focus;\n                        if (terminal) {\n                            if (focus) { // assign focus to the terminal if presentation.focus is true\n                                this.terminalService.open(terminal, { mode: 'activate' });\n                            } else { // show the terminal but not assign focus\n                                this.terminalService.open(terminal, { mode: 'reveal' });\n                            }\n                        }\n                    }\n                    this.messageService.error(`Task '${taskIdentifier}' has exited with code ${event.code}.`);\n                }\n            } else if (event.signal !== undefined) {\n                this.messageService.info(`Task '${taskIdentifier}' was terminated by signal ${event.signal}.`);\n            } else {\n                console.error('Invalid TaskExitedEvent received, neither code nor signal is set.');\n            }\n        });\n    }\n\n    protected getTaskIdentifier(taskConfig: TaskConfiguration): string {\n        const taskName = this.taskNameResolver.resolve(taskConfig);\n        const sourceStrUri = this.taskSourceResolver.resolve(taskConfig);\n        return `${taskName} (${this.labelProvider.getName(new URI(sourceStrUri))})`;\n    }\n\n    /**\n     * Client should call this method to indicate that a new user-level action related to tasks has been started,\n     * like invoking \"Run Task...\"\n     * This method returns a token that can be used with various methods in this service.\n     * As long as a client uses the same token, task providers will only asked once to contribute\n     * tasks and the set of tasks will be cached. Each time the a new token is used, the cache of\n     * contributed tasks is cleared.\n     * @returns a token to be used for task-related actions\n     */\n    startUserAction(): number {\n        return this.providedTaskConfigurations.startUserAction();\n    }\n\n    /**\n     * Returns an array of the task configurations configured in tasks.json and provided by the extensions.\n     * @param token  The cache token for the user interaction in progress\n     */\n    async getTasks(token: number): Promise<TaskConfiguration[]> {\n        const configuredTasks = await this.getConfiguredTasks(token);\n        const providedTasks = await this.getProvidedTasks(token);\n        const notCustomizedProvidedTasks = providedTasks.filter(provided =>\n            !configuredTasks.some(configured => this.taskDefinitionRegistry.compareTasks(configured, provided))\n        );\n        return [...configuredTasks, ...notCustomizedProvidedTasks];\n    }\n\n    /**\n     * Returns an array of the valid task configurations which are configured in tasks.json files\n     * @param token  The cache token for the user interaction in progress\n     *\n     */\n    async getConfiguredTasks(token: number): Promise<TaskConfiguration[]> {\n        const invalidTaskConfig = this.taskConfigurations.getInvalidTaskConfigurations()[0];\n        if (invalidTaskConfig) {\n            const widget = <ProblemWidget>await this.widgetManager.getOrCreateWidget(PROBLEMS_WIDGET_ID);\n            const isProblemsWidgetVisible = widget && widget.isVisible;\n            const currentEditorUri = this.editorManager.currentEditor && this.editorManager.currentEditor.editor.getResourceUri();\n            let isInvalidTaskConfigFileOpen = false;\n            if (currentEditorUri) {\n                const folderUri = this.workspaceService.getWorkspaceRootUri(currentEditorUri);\n                if (folderUri && folderUri.toString() === invalidTaskConfig._scope) {\n                    isInvalidTaskConfigFileOpen = true;\n                }\n            }\n            const warningMessage = 'Invalid task configurations are found. Open tasks.json and find details in the Problems view.';\n            if (!isProblemsWidgetVisible || !isInvalidTaskConfigFileOpen) {\n                this.messageService.warn(warningMessage, 'Open').then(actionOpen => {\n                    if (actionOpen) {\n                        if (invalidTaskConfig && invalidTaskConfig._scope) {\n                            this.taskConfigurationManager.openConfiguration(invalidTaskConfig._scope);\n                        }\n                        if (!isProblemsWidgetVisible) {\n                            this.commands.executeCommand('problemsView:toggle');\n                        }\n                    }\n                });\n            } else {\n                this.messageService.warn(warningMessage);\n            }\n        }\n\n        const validTaskConfigs = await this.taskConfigurations.getTasks(token);\n        return validTaskConfigs;\n    }\n\n    /**\n     * Returns an array that contains the task configurations provided by the task providers for the specified task type.\n     * @param token  The cache token for the user interaction in progress\n     * @param type The task type (filter) associated to the returning TaskConfigurations\n     *\n     * '*' indicates all tasks regardless of the type\n     */\n    getProvidedTasks(token: number, type?: string): Promise<TaskConfiguration[]> {\n        return this.providedTaskConfigurations.getTasks(token, type);\n    }\n\n    addRecentTasks(tasks: TaskConfiguration | TaskConfiguration[]): void {\n        if (Array.isArray(tasks)) {\n            tasks.forEach(task => this.addRecentTasks(task));\n        } else {\n            const ind = this.cachedRecentTasks.findIndex(recent => this.taskDefinitionRegistry.compareTasks(recent, tasks));\n            if (ind >= 0) {\n                this.cachedRecentTasks.splice(ind, 1);\n            }\n            this.cachedRecentTasks.unshift(tasks);\n        }\n    }\n\n    get recentTasks(): TaskConfiguration[] {\n        return this.cachedRecentTasks;\n    }\n\n    set recentTasks(recent: TaskConfiguration[]) {\n        this.cachedRecentTasks = recent;\n    }\n\n    /**\n     * Clears the list of recently used tasks.\n     */\n    clearRecentTasks(): void {\n        this.cachedRecentTasks = [];\n    }\n\n    /**\n     * Open user ser\n     */\n    openUserTasks(): Promise<void> {\n        return this.taskConfigurations.openUserTasks();\n    }\n\n    /**\n     * Returns a task configuration provided by an extension by task source, scope and label.\n     * If there are no task configuration, returns undefined.\n     * @param token  The cache token for the user interaction in progress\n     * @param source The source for configured tasks\n     * @param label  The label of the task to find\n     * @param scope  The task scope to look in\n     */\n    async getProvidedTask(token: number, source: string, label: string, scope: TaskConfigurationScope): Promise<TaskConfiguration | undefined> {\n        return this.providedTaskConfigurations.getTask(token, source, label, scope);\n    }\n\n    /** Returns an array of running tasks 'TaskInfo' objects */\n    getRunningTasks(): Promise<TaskInfo[]> {\n        return this.taskServer.getTasks(this.getContext());\n    }\n\n    async customExecutionComplete(id: number, exitCode: number | undefined): Promise<void> {\n        return this.taskServer.customExecutionComplete(id, exitCode);\n    }\n\n    /** Returns an array of task types that are registered, including the default types */\n    getRegisteredTaskTypes(): Promise<string[]> {\n        return this.taskSchemaUpdater.getRegisteredTaskTypes();\n    }\n\n    /**\n     * Get the last executed task.\n     *\n     * @returns the last executed task or `undefined`.\n     */\n    getLastTask(): LastRunTaskInfo {\n        return this.lastTask;\n    }\n\n    /**\n     * Runs a task, by task configuration label.\n     * Note, it looks for a task configured in tasks.json only.\n     * @param token  The cache token for the user interaction in progress\n     * @param scope The scope where to look for tasks\n     * @param taskLabel the label to look for\n     */\n    async runConfiguredTask(token: number, scope: TaskConfigurationScope, taskLabel: string): Promise<void> {\n        const task = this.taskConfigurations.getTask(scope, taskLabel);\n        if (!task) {\n            this.logger.error(`Can't get task launch configuration for label: ${taskLabel}`);\n            return;\n        }\n\n        this.run(token, task._source, taskLabel, scope);\n    }\n\n    /**\n     * Run the last executed task.\n     * @param token  The cache token for the user interaction in progress\n     */\n    async runLastTask(token: number): Promise<TaskInfo | undefined> {\n        if (!this.lastTask?.resolvedTask) {\n            return;\n        }\n        if (!this.lastTask.resolvedTask.runOptions?.reevaluateOnRerun) {\n            return this.runResolvedTask(this.lastTask.resolvedTask, this.lastTask.option);\n        }\n        const { _source, label, _scope } = this.lastTask.resolvedTask;\n        return this.run(token, _source, label, _scope);\n    }\n\n    /**\n     * Runs a task, by the source and label of the task configuration.\n     * It looks for configured and detected tasks.\n     * @param token  The cache token for the user interaction in progress\n     * @param source The source for configured tasks\n     * @param taskLabel The label to look for\n     * @param scope  The scope where to look for tasks\n     */\n    async run(token: number, source: string, taskLabel: string, scope: TaskConfigurationScope): Promise<TaskInfo | undefined> {\n        let task: TaskConfiguration | undefined;\n        task = this.taskConfigurations.getTask(scope, taskLabel);\n        if (!task) { // if a configured task cannot be found, search from detected tasks\n            task = await this.getProvidedTask(token, source, taskLabel, scope);\n            if (!task) { // find from the customized detected tasks\n                task = await this.taskConfigurations.getCustomizedTask(token, scope, taskLabel);\n            }\n            if (!task) {\n                this.logger.error(`Can't get task launch configuration for label: ${taskLabel}`);\n                return;\n            }\n        }\n        const customizationObject = await this.getTaskCustomization(task);\n\n        if (!customizationObject.problemMatcher) {\n            // ask the user what s/he wants to use to parse the task output\n            const items = this.getCustomizeProblemMatcherItems();\n            const selected = await this.quickPickService.show(items, {\n                placeholder: 'Select for which kind of errors and warnings to scan the task output'\n            });\n            if (selected && ('value' in selected)) {\n                if (selected.value?.problemMatchers) {\n                    let matcherNames: string[] = [];\n                    if (selected.value.problemMatchers && selected.value.problemMatchers.length === 0) { // never parse output for this task\n                        matcherNames = [];\n                    } else if (selected.value.problemMatchers && selected.value.problemMatchers.length > 0) { // continue with user-selected parser\n                        matcherNames = selected.value.problemMatchers.map(matcher => matcher.name);\n                    }\n                    customizationObject.problemMatcher = matcherNames;\n\n                    // write the selected matcher (or the decision of \"never parse\") into the `tasks.json`\n                    this.updateTaskConfiguration(token, task, { problemMatcher: matcherNames });\n                } else if (selected.value?.learnMore) { // user wants to learn more about parsing task output\n                    open(this.openerService, new URI('https://code.visualstudio.com/docs/editor/tasks#_processing-task-output-with-problem-matchers'));\n                }\n                // else, continue the task with no parser\n            } else { // do not start the task in case that the user did not select any item from the list\n                return;\n            }\n        }\n\n        const resolvedMatchers = await this.resolveProblemMatchers(task, customizationObject);\n        const runTaskOption: RunTaskOption = {\n            customization: { ...customizationObject, ...{ problemMatcher: resolvedMatchers } }\n        };\n\n        if (task.dependsOn) {\n            return this.runCompoundTask(token, task, runTaskOption);\n        } else {\n            return this.runTask(task, runTaskOption).catch(error => {\n                console.error('Error at launching task', error);\n                return undefined;\n            });\n        }\n    }\n\n    /**\n     * Runs a compound task\n     * @param token  The cache token for the user interaction in progress\n     * @param task The task to be executed\n     * @param option options for executing the task\n     */\n    async runCompoundTask(token: number, task: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        const tasks = await this.getWorkspaceTasks(token, task._scope);\n        try {\n            const rootNode = new TaskNode(task, [], []);\n            this.detectDirectedAcyclicGraph(task, rootNode, tasks);\n        } catch (error) {\n            console.error(`Error at launching task '${task.label}'`, error);\n            this.messageService.error(error.message);\n            return undefined;\n        }\n        return this.runTasksGraph(task, tasks, option).catch(error => {\n            console.error(`Error at launching task '${task.label}'`, error);\n            return undefined;\n        });\n    }\n\n    /**\n     * A recursive function that runs a task and all its sub tasks that it depends on.\n     * A task can be executed only when all of its dependencies have been executed, or when it doesn’t have any dependencies at all.\n     */\n    async runTasksGraph(task: TaskConfiguration, tasks: TaskConfiguration[], option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        if (task && task.dependsOn) {\n            // In case it is an array of task dependencies\n            if (Array.isArray(task.dependsOn) && task.dependsOn.length > 0) {\n                const dependentTasks: { 'task': TaskConfiguration; 'taskCustomization': TaskCustomization; 'resolvedMatchers': ProblemMatcher[] | undefined }[] = [];\n                for (let i = 0; i < task.dependsOn.length; i++) {\n                    // It may be a string (a task label) or a JSON object which represents a TaskIdentifier (e.g. {\"type\":\"npm\", \"script\":\"script1\"})\n                    const taskIdentifier = task.dependsOn[i];\n                    const dependentTask = this.getDependentTask(taskIdentifier, tasks);\n                    const taskCustomization = await this.getTaskCustomization(dependentTask);\n                    const resolvedMatchers = await this.resolveProblemMatchers(dependentTask, taskCustomization);\n                    dependentTasks.push({ 'task': dependentTask, 'taskCustomization': taskCustomization, 'resolvedMatchers': resolvedMatchers });\n                    // In case the 'dependsOrder' is 'sequence'\n                    if (task.dependsOrder && task.dependsOrder === DependsOrder.Sequence) {\n                        await this.runTasksGraph(dependentTask, tasks, {\n                            customization: { ...taskCustomization, ...{ problemMatcher: resolvedMatchers } }\n                        });\n                    }\n                }\n                // In case the 'dependsOrder' is 'parallel'\n                if (((!task.dependsOrder) || (task.dependsOrder && task.dependsOrder === DependsOrder.Parallel))) {\n                    const promises = dependentTasks.map(item =>\n                        this.runTasksGraph(item.task, tasks, {\n                            customization: { ...item.taskCustomization, ...{ problemMatcher: item.resolvedMatchers } }\n                        })\n                    );\n                    await Promise.all(promises);\n                }\n            } else if (!Array.isArray(task.dependsOn)) {\n                // In case it is a string (a task label) or a JSON object which represents a TaskIdentifier (e.g. {\"type\":\"npm\", \"script\":\"script1\"})\n                const taskIdentifier = task.dependsOn;\n                const dependentTask = this.getDependentTask(taskIdentifier, tasks);\n                const taskCustomization = await this.getTaskCustomization(dependentTask);\n                const resolvedMatchers = await this.resolveProblemMatchers(dependentTask, taskCustomization);\n                await this.runTasksGraph(dependentTask, tasks, {\n                    customization: { ...taskCustomization, ...{ problemMatcher: resolvedMatchers } }\n                });\n            }\n        }\n\n        const taskInfo = await this.runTask(task, option);\n        if (taskInfo) {\n            const getExitCodePromise: Promise<TaskEndedInfo> = this.getExitCode(taskInfo.taskId).then(result => ({ taskEndedType: TaskEndedTypes.TaskExited, value: result }));\n            const isBackgroundTaskEndedPromise: Promise<TaskEndedInfo> = this.isBackgroundTaskEnded(taskInfo.taskId).then(result =>\n                ({ taskEndedType: TaskEndedTypes.BackgroundTaskEnded, value: result }));\n\n            // After start running the task, we wait for the task process to exit and if it is a background task, we also wait for a feedback\n            // that a background task is active, as soon as one of the promises fulfills, we can continue and analyze the results.\n            const taskEndedInfo: TaskEndedInfo = await Promise.race([getExitCodePromise, isBackgroundTaskEndedPromise]);\n\n            if ((taskEndedInfo.taskEndedType === TaskEndedTypes.TaskExited && taskEndedInfo.value !== 0) ||\n                (taskEndedInfo.taskEndedType === TaskEndedTypes.BackgroundTaskEnded && !taskEndedInfo.value)) {\n                throw new Error('The task: ' + task.label + ' terminated with exit code ' + taskEndedInfo.value + '.');\n            }\n        }\n        return taskInfo;\n    }\n\n    /**\n     * Creates a graph of dependencies tasks from the root task and verify there is no DAG (Directed Acyclic Graph).\n     * In case of detection of a circular dependency, an error is thrown with a message which describes the detected circular reference.\n     */\n    detectDirectedAcyclicGraph(task: TaskConfiguration, taskNode: TaskNode, tasks: TaskConfiguration[]): void {\n        if (task && task.dependsOn) {\n            // In case the 'dependsOn' is an array\n            if (Array.isArray(task.dependsOn) && task.dependsOn.length > 0) {\n                for (let i = 0; i < task.dependsOn.length; i++) {\n                    const childNode = this.createChildTaskNode(task, taskNode, task.dependsOn[i], tasks);\n                    this.detectDirectedAcyclicGraph(childNode.taskConfiguration, childNode.node, tasks);\n                }\n            } else if (!Array.isArray(task.dependsOn)) {\n                const childNode = this.createChildTaskNode(task, taskNode, task.dependsOn, tasks);\n                this.detectDirectedAcyclicGraph(childNode.taskConfiguration, childNode.node, tasks);\n            }\n        }\n    }\n\n    // 'childTaskIdentifier' may be a string (a task label) or a JSON object which represents a TaskIdentifier (e.g. {\"type\":\"npm\", \"script\":\"script1\"})\n    createChildTaskNode(task: TaskConfiguration, taskNode: TaskNode, childTaskIdentifier: string | TaskIdentifier, tasks: TaskConfiguration[]): TaskGraphNode {\n        const childTaskConfiguration = this.getDependentTask(childTaskIdentifier, tasks);\n\n        // If current task and child task are identical or if\n        // one of the child tasks is identical to one of the current task ancestors, then raise an error\n        if (this.taskDefinitionRegistry.compareTasks(task, childTaskConfiguration) ||\n            taskNode.parentsID.filter(t => this.taskDefinitionRegistry.compareTasks(childTaskConfiguration, t)).length > 0) {\n            const fromNode = task.label;\n            const toNode = childTaskConfiguration.label;\n            throw new Error('Circular reference detected: ' + fromNode + ' -->  ' + toNode);\n        }\n        const childNode = new TaskNode(childTaskConfiguration, [], Object.assign([], taskNode.parentsID));\n        childNode.addParentDependency(taskNode.taskId);\n        taskNode.addChildDependency(childNode);\n        return { 'taskConfiguration': childTaskConfiguration, 'node': childNode };\n    }\n\n    /**\n     * Gets task configuration by task label or by a JSON object which represents a task identifier\n     *\n     * @param taskIdentifier The task label (string) or a JSON object which represents a TaskIdentifier (e.g. {\"type\":\"npm\", \"script\":\"script1\"})\n     * @param tasks an array of the task configurations\n     * @returns the correct TaskConfiguration object which matches the taskIdentifier\n     */\n    getDependentTask(taskIdentifier: string | TaskIdentifier, tasks: TaskConfiguration[]): TaskConfiguration {\n        const notEnoughDataError = 'The information provided in the \"dependsOn\" is not enough for matching the correct task !';\n        let currentTaskChildConfiguration: TaskConfiguration;\n        if (typeof (taskIdentifier) !== 'string') {\n            // TaskIdentifier object does not support tasks of type 'shell' (The same behavior as in VS Code).\n            // So if we want the 'dependsOn' property to include tasks of type 'shell',\n            // then we must mention their labels (in the 'dependsOn' property) and not to create a task identifier object for them.\n            currentTaskChildConfiguration = this.getTaskByTaskIdentifier(taskIdentifier, tasks);\n            if (!currentTaskChildConfiguration.type) {\n                this.messageService.error(notEnoughDataError);\n                throw new Error(notEnoughDataError);\n            }\n            return currentTaskChildConfiguration;\n        } else {\n            currentTaskChildConfiguration = tasks.filter(t => taskIdentifier === this.taskNameResolver.resolve(t))[0];\n            return currentTaskChildConfiguration;\n        }\n    }\n\n    /**\n     * Gets the matched task from an array of task configurations by TaskIdentifier.\n     * In case that more than one task configuration matches, we returns the first one.\n     *\n     * @param taskIdentifier The task label (string) or a JSON object which represents a TaskIdentifier (e.g. {\"type\":\"npm\", \"script\":\"script1\"})\n     * @param tasks An array of task configurations.\n     * @returns The correct TaskConfiguration object which matches the taskIdentifier.\n     */\n    getTaskByTaskIdentifier(taskIdentifier: TaskIdentifier, tasks: TaskConfiguration[]): TaskConfiguration {\n        const requiredProperties = Object.keys(taskIdentifier);\n        const taskWithAllProperties = tasks.find(task => requiredProperties.every(property => task.hasOwnProperty(property) && task[property] === taskIdentifier[property]));\n        return taskWithAllProperties ?? { label: '', _scope: '', type: '' }; // Fall back to empty TaskConfiguration\n    }\n\n    async runTask(task: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        console.debug('entering runTask');\n        const releaseLock = await this.taskStartingLock.acquire();\n        console.debug('got lock');\n\n        try {\n            // resolve problemMatchers\n            if (!option && task.problemMatcher) {\n                const customizationObject: TaskCustomization = { type: task.taskType, problemMatcher: task.problemMatcher, runOptions: task.runOptions };\n                const resolvedMatchers = await this.resolveProblemMatchers(task, customizationObject);\n                option = {\n                    customization: { ...customizationObject, ...{ problemMatcher: resolvedMatchers } }\n                };\n            }\n\n            const runningTasksInfo: TaskInfo[] = await this.getRunningTasks();\n            // check if the task is active\n            const matchedRunningTaskInfo = runningTasksInfo.find(taskInfo => {\n                const taskConfig = taskInfo.config;\n                return this.taskDefinitionRegistry.compareTasks(taskConfig, task);\n            });\n            console.debug(`running task ${JSON.stringify(task)}, already running = ${!!matchedRunningTaskInfo}`);\n\n            if (matchedRunningTaskInfo) { // the task is active\n                releaseLock();\n                console.debug('released lock');\n                const taskName = this.taskNameResolver.resolve(task);\n                const terminalId = matchedRunningTaskInfo.terminalId;\n                if (terminalId) {\n                    const terminal = this.terminalService.getByTerminalId(terminalId);\n                    if (terminal) {\n                        if (TaskOutputPresentation.shouldSetFocusToTerminal(task)) { // assign focus to the terminal if presentation.focus is true\n                            this.terminalService.open(terminal, { mode: 'activate' });\n                        } else if (TaskOutputPresentation.shouldAlwaysRevealTerminal(task)) { // show the terminal but not assign focus\n                            this.terminalService.open(terminal, { mode: 'reveal' });\n                        }\n                    }\n                }\n                const selectedAction = await this.messageService.info(`The task '${taskName}' is already active`, 'Terminate Task', 'Restart Task');\n                if (selectedAction === 'Terminate Task') {\n                    await this.terminateTask(matchedRunningTaskInfo);\n                } else if (selectedAction === 'Restart Task') {\n                    return this.restartTask(matchedRunningTaskInfo, option);\n                }\n            } else { // run task as the task is not active\n                console.debug('task about to start');\n                const taskInfo = await this.doRunTask(task, option);\n                releaseLock();\n                console.debug('release lock 2');\n                return taskInfo;\n            }\n        } catch (e) {\n            releaseLock();\n            throw e;\n        }\n    }\n\n    /**\n     * Terminates a task that is actively running.\n     * @param activeTaskInfo the TaskInfo of the task that is actively running\n     */\n    async terminateTask(activeTaskInfo: TaskInfo): Promise<void> {\n        const taskId = activeTaskInfo.taskId;\n        return this.kill(taskId);\n    }\n\n    /**\n     * Terminates a task that is actively running, and restarts it.\n     * @param activeTaskInfo the TaskInfo of the task that is actively running\n     */\n    async restartTask(activeTaskInfo: TaskInfo, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        await this.terminateTask(activeTaskInfo);\n        return this.doRunTask(activeTaskInfo.config, option);\n    }\n\n    protected async doRunTask(task: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        let overridePropertiesFunction: (task: TaskConfiguration) => void = () => { };\n        if (option && option.customization) {\n            const taskDefinition = this.taskDefinitionRegistry.getDefinition(task);\n            if (taskDefinition) { // use the customization object to override the task config\n                overridePropertiesFunction = tsk => {\n                    Object.keys(option.customization!).forEach(customizedProperty => {\n                        // properties used to define the task cannot be customized\n                        if (customizedProperty !== 'type' && !taskDefinition.properties.all.some(pDefinition => pDefinition === customizedProperty)) {\n                            tsk[customizedProperty] = option.customization![customizedProperty];\n                        }\n                    });\n                };\n            }\n        }\n        overridePropertiesFunction(task);\n        this.addRecentTasks(task);\n        try {\n            const resolver = await this.taskResolverRegistry.getTaskResolver(task.type);\n            const resolvedTask = resolver ? await resolver.resolveTask(task) : task;\n            const executionResolver = this.taskResolverRegistry.getExecutionResolver(resolvedTask.taskType || resolvedTask.type);\n            overridePropertiesFunction(resolvedTask);\n            const taskToRun = executionResolver ? await executionResolver.resolveTask(resolvedTask) : resolvedTask;\n\n            await this.removeProblemMarkers(option);\n            return this.runResolvedTask(taskToRun, option);\n        } catch (error) {\n            const errMessage = `Error resolving task '${task.label}': ${error}`;\n            this.logger.error(errMessage);\n        }\n        return undefined;\n    }\n\n    /**\n     * Runs the first task with the given label.\n     *\n     * @param token  The cache token for the user interaction in progress\n     * @param taskLabel The label of the task to be executed\n     */\n    async runTaskByLabel(token: number, taskLabel: string): Promise<TaskInfo | undefined> {\n        const tasks: TaskConfiguration[] = await this.getTasks(token);\n        for (const task of tasks) {\n            if (task.label === taskLabel) {\n                return this.runTask(task);\n            }\n        }\n        return;\n    }\n\n    /**\n     * Runs a task identified by the given identifier, but only if found in the given workspace folder\n     *\n     * @param token  The cache token for the user interaction in progress\n     * @param workspaceFolderUri  The folder to restrict the search to\n     * @param taskIdentifier The identifier to look for\n     */\n    async runWorkspaceTask(token: number, workspaceFolderUri: string | undefined, taskIdentifier: string | TaskIdentifier): Promise<TaskInfo | undefined> {\n        const tasks = await this.getWorkspaceTasks(token, workspaceFolderUri);\n        const task = this.getDependentTask(taskIdentifier, tasks);\n        if (!task) {\n            return undefined;\n        }\n\n        const taskCustomization = await this.getTaskCustomization(task);\n        const resolvedMatchers = await this.resolveProblemMatchers(task, taskCustomization);\n        try {\n            const rootNode = new TaskNode(task, [], []);\n            this.detectDirectedAcyclicGraph(task, rootNode, tasks);\n        } catch (error) {\n            this.logger.error(error.message);\n            this.messageService.error(error.message);\n            return undefined;\n        }\n        return this.runTasksGraph(task, tasks, {\n            customization: { ...taskCustomization, ...{ problemMatcher: resolvedMatchers } }\n        }).catch(error => {\n            console.log(error.message);\n            return undefined;\n        });\n    }\n\n    /**\n     * Updates the task configuration in the `tasks.json`.\n     * The task config, together with updates, will be written into the `tasks.json` if it is not found in the file.\n     *\n     * @param token  The cache token for the user interaction in progress\n     * @param task task that the updates will be applied to\n     * @param update the updates to be applied\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async updateTaskConfiguration(token: number, task: TaskConfiguration, update: { [name: string]: any }): Promise<void> {\n        if (update.problemMatcher) {\n            if (Array.isArray(update.problemMatcher)) {\n                update.problemMatcher.forEach((_name, index) => update.problemMatcher[index] = asVariableName(update.problemMatcher[index]));\n            } else {\n                update.problemMatcher = asVariableName(update.problemMatcher);\n            }\n        }\n        this.taskConfigurations.updateTaskConfig(token, task, update);\n    }\n\n    protected async getWorkspaceTasks(token: number, restrictToFolder: TaskConfigurationScope | undefined): Promise<TaskConfiguration[]> {\n        const tasks = await this.getTasks(token);\n        // if we pass undefined, return everything, otherwise only tasks with the same uri or workspace/global scope tasks\n        return tasks.filter(t => typeof t._scope !== 'string' || t._scope === restrictToFolder);\n    }\n\n    protected async resolveProblemMatchers(task: TaskConfiguration, customizationObject: TaskCustomization): Promise<ProblemMatcher[] | undefined> {\n        const notResolvedMatchers = customizationObject.problemMatcher ?\n            (Array.isArray(customizationObject.problemMatcher) ? customizationObject.problemMatcher : [customizationObject.problemMatcher]) : undefined;\n        let resolvedMatchers: ProblemMatcher[] | undefined = [];\n        if (notResolvedMatchers) {\n            // resolve matchers before passing them to the server\n            for (const matcher of notResolvedMatchers) {\n                let resolvedMatcher: ProblemMatcher | undefined;\n                await this.problemMatcherRegistry.onReady();\n                if (typeof matcher === 'string') {\n                    resolvedMatcher = this.problemMatcherRegistry.get(matcher);\n                } else {\n                    resolvedMatcher = await this.problemMatcherRegistry.getProblemMatcherFromContribution(matcher);\n                }\n                if (resolvedMatcher) {\n                    const scope = task._scope || task._source;\n                    if (resolvedMatcher.filePrefix && scope) {\n                        const options = {\n                            context: new URI(scope).withScheme('file'),\n                            configurationSection: 'tasks'\n                        };\n                        const resolvedPrefix = await this.variableResolverService.resolve(resolvedMatcher.filePrefix, options);\n                        Object.assign(resolvedMatcher, { filePrefix: resolvedPrefix });\n                    }\n                    resolvedMatchers.push(resolvedMatcher);\n                }\n            }\n        } else {\n            resolvedMatchers = undefined;\n        }\n        return resolvedMatchers;\n    }\n\n    protected async getTaskCustomization(task: TaskConfiguration): Promise<TaskCustomization> {\n        const customizationObject: TaskCustomization = { type: '', _scope: task._scope, runOptions: task.runOptions };\n        const customizationFound = this.taskConfigurations.getCustomizationForTask(task);\n        if (customizationFound) {\n            Object.assign(customizationObject, customizationFound);\n        } else {\n            Object.assign(customizationObject, {\n                type: task.type,\n                problemMatcher: task.problemMatcher\n            });\n        }\n        return customizationObject;\n    }\n\n    protected async removeProblemMarkers(option?: RunTaskOption): Promise<void> {\n        if (option && option.customization) {\n            const matchersFromOption = option.customization.problemMatcher || [];\n            for (const matcher of matchersFromOption) {\n                if (matcher && matcher.owner) {\n                    const existingMarkers = this.problemManager.findMarkers({ owner: matcher.owner });\n                    const uris = new Set<string>();\n                    existingMarkers.forEach(marker => uris.add(marker.uri));\n                    uris.forEach(uriString => this.problemManager.setMarkers(new URI(uriString), matcher.owner, []));\n                }\n            }\n        }\n    }\n\n    /**\n     * Runs the resolved task and opens terminal widget if the task is based on a terminal process\n     * @param resolvedTask the resolved task\n     * @param option options to run the resolved task\n     */\n    protected async runResolvedTask(resolvedTask: TaskConfiguration, option?: RunTaskOption): Promise<TaskInfo | undefined> {\n        const taskLabel = resolvedTask.label;\n        let taskInfo: TaskInfo | undefined;\n        try {\n            taskInfo = await this.taskServer.run(resolvedTask, this.getContext(), option);\n            this.lastTask = { resolvedTask, option };\n            this.logger.debug(`Task created. Task id: ${taskInfo.taskId}`);\n\n            /**\n             * open terminal widget if the task is based on a terminal process (type: 'shell' or 'process')\n             *\n             * @todo Use a different mechanism to determine if the task should be attached?\n             *       Reason: Maybe a new task type wants to also be displayed in a terminal.\n             */\n            if (typeof taskInfo.terminalId === 'number') {\n                await this.attach(taskInfo.terminalId, taskInfo);\n            }\n            return taskInfo;\n        } catch (error) {\n            const errorStr = `Error launching task '${taskLabel}': ${error.message}`;\n            this.logger.error(errorStr);\n            this.messageService.error(errorStr);\n            if (taskInfo && typeof taskInfo.terminalId === 'number') {\n                this.shellTerminalServer.onAttachAttempted(taskInfo.terminalId);\n            }\n        }\n    }\n\n    protected getCustomizeProblemMatcherItems(): Array<QuickPickValue<QuickPickProblemMatcherItem> | QuickPickItemOrSeparator> {\n        const items: Array<QuickPickValue<QuickPickProblemMatcherItem> | QuickPickItemOrSeparator> = [];\n        items.push({\n            label: 'Continue without scanning the task output',\n            value: { problemMatchers: undefined }\n        });\n        items.push({\n            label: 'Never scan the task output',\n            value: { problemMatchers: [] }\n        });\n        items.push({\n            label: 'Learn more about scanning the task output',\n            value: { problemMatchers: undefined, learnMore: true }\n        });\n        items.push({ type: 'separator', label: 'registered parsers' });\n\n        const registeredProblemMatchers = this.problemMatcherRegistry.getAll();\n        items.push(...registeredProblemMatchers.map(matcher =>\n        ({\n            label: matcher.label,\n            value: { problemMatchers: [matcher] },\n            description: asVariableName(matcher.name)\n        })\n        ));\n        return items;\n    }\n\n    /**\n     * Run selected text in the last active terminal.\n     */\n    async runSelectedText(): Promise<void> {\n        if (!this.editorManager.currentEditor) { return; }\n        const startLine = this.editorManager.currentEditor.editor.selection.start.line;\n        const startCharacter = this.editorManager.currentEditor.editor.selection.start.character;\n        const endLine = this.editorManager.currentEditor.editor.selection.end.line;\n        const endCharacter = this.editorManager.currentEditor.editor.selection.end.character;\n        let selectedRange: Range = Range.create(startLine, startCharacter, endLine, endCharacter);\n        // if no text is selected, default to selecting entire line\n        if (startLine === endLine && startCharacter === endCharacter) {\n            selectedRange = Range.create(startLine, 0, endLine + 1, 0);\n        }\n        const selectedText: string = this.editorManager.currentEditor.editor.document.getText(selectedRange).trimRight() + '\\n';\n        let terminal = this.terminalService.lastUsedTerminal;\n        if (!terminal || terminal.kind !== 'user' || (await terminal.hasChildProcesses())) {\n            terminal = <TerminalWidget>await this.terminalService.newTerminal(<TerminalWidgetFactoryOptions>{ created: new Date().toString() });\n            await terminal.start();\n            this.terminalService.open(terminal);\n        }\n        terminal.sendText(selectedText);\n    }\n\n    async attach(terminalId: number, taskInfo: TaskInfo): Promise<number | void> {\n        let widgetOpenMode: WidgetOpenMode = 'open';\n        if (taskInfo) {\n            const terminalWidget = this.terminalService.getByTerminalId(terminalId);\n            if (terminalWidget) {\n                this.messageService.error('Task is already running in terminal');\n                return this.terminalService.open(terminalWidget, { mode: 'activate' });\n            }\n            if (TaskOutputPresentation.shouldAlwaysRevealTerminal(taskInfo.config)) {\n                if (TaskOutputPresentation.shouldSetFocusToTerminal(taskInfo.config)) { // assign focus to the terminal if presentation.focus is true\n                    widgetOpenMode = 'activate';\n                } else { // show the terminal but not assign focus\n                    widgetOpenMode = 'reveal';\n                }\n            }\n        }\n        const { taskId } = taskInfo;\n        // Create / find a terminal widget to display an execution output of a task that was launched as a command inside a shell.\n        const widget = await this.taskTerminalWidgetManager.open({\n            created: new Date().toString(),\n            id: this.getTerminalWidgetId(terminalId),\n            title: taskInfo\n                ? `Task: ${taskInfo.config.label}`\n                : `Task: #${taskId}`,\n            destroyTermOnClose: true\n        }, {\n            widgetOptions: { area: 'bottom' },\n            mode: widgetOpenMode,\n            taskInfo\n        });\n        return widget.start(terminalId);\n    }\n\n    protected getTerminalWidgetId(terminalId: number): string | undefined {\n        const terminalWidget = this.terminalService.getByTerminalId(terminalId);\n        if (terminalWidget) {\n            return terminalWidget.id;\n        }\n    }\n\n    /**\n     * Opens an editor to configure the given task.\n     *\n     * @param token  The cache token for the user interaction in progress\n     * @param task The task to configure\n     */\n    async configure(token: number, task: TaskConfiguration): Promise<void> {\n        Object.assign(task, { label: this.taskNameResolver.resolve(task) });\n        await this.taskConfigurations.configure(token, task);\n    }\n\n    protected isEventForThisClient(context: string | undefined): boolean {\n        if (context === this.getContext()) {\n            return true;\n        }\n        return false;\n    }\n\n    taskConfigurationChanged(event: string[]): void {\n        // do nothing for now\n    }\n\n    protected getContext(): string | undefined {\n        return this.workspaceService.workspace?.resource.toString();\n    }\n\n    /** Kill task for a given id if task is found */\n    async kill(id: number): Promise<void> {\n        try {\n            await this.taskServer.kill(id);\n        } catch (error) {\n            this.logger.error(`Error killing task '${id}': ${error}`);\n            this.messageService.error(`Error killing task '${id}': ${error}`);\n            return;\n        }\n        this.logger.debug(`Task killed. Task id: ${id}`);\n    }\n\n    async isBackgroundTaskEnded(id: number): Promise<boolean | undefined> {\n        const completedTask = this.runningTasks.get(id);\n        return completedTask && completedTask.isBackgroundTaskEnded!.promise;\n    }\n\n    async getExitCode(id: number): Promise<number | undefined> {\n        const completedTask = this.runningTasks.get(id);\n        return completedTask && completedTask.exitCode.promise;\n    }\n\n    async getTerminateSignal(id: number): Promise<string | undefined> {\n        const completedTask = this.runningTasks.get(id);\n        return completedTask && completedTask.terminateSignal.promise;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { TaskConfiguration, TaskScope } from '../common';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\n\n@injectable()\nexport class TaskSourceResolver {\n    @inject(TaskDefinitionRegistry)\n    protected taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    /**\n     * Returns task source to display.\n     */\n    resolve(task: TaskConfiguration): string {\n        if (typeof task._scope === 'string') {\n            return task._scope;\n        } else {\n            return TaskScope[task._scope];\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { QuickPickValue } from '@theia/core/lib/browser';\n\n/** The representation of a task template used in the auto-generation of `tasks.json` */\nexport interface TaskTemplateEntry {\n    id: string;\n    label: string;\n    description: string;\n    sort?: string; // string used in the sorting. If `undefined` the label is used in sorting.\n    autoDetect: boolean; // not supported in Theia\n    content: string;\n}\n\nconst dotnetBuild: TaskTemplateEntry = {\n    id: 'dotnetCore',\n    label: '.NET Core',\n    sort: 'NET Core',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes .NET Core build command',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"build\",',\n        '\\t\\t\\t\"command\": \"dotnet\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"args\": [',\n        '\\t\\t\\t\\t\"build\",',\n        '\\t\\t\\t\\t// Ask dotnet build to generate full paths for file names.',\n        '\\t\\t\\t\\t\"/property:GenerateFullPaths=true\",',\n        '\\t\\t\\t\\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel',\n        '\\t\\t\\t\\t\"/consoleloggerparameters:NoSummary\"',\n        '\\t\\t\\t],',\n        '\\t\\t\\t\"group\": \"build\",',\n        '\\t\\t\\t\"presentation\": {',\n        '\\t\\t\\t\\t\"reveal\": \"silent\"',\n        '\\t\\t\\t},',\n        '\\t\\t\\t\"problemMatcher\": \"$msCompile\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst msbuild: TaskTemplateEntry = {\n    id: 'msbuild',\n    label: 'MSBuild',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes the build target',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"build\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"msbuild\",',\n        '\\t\\t\\t\"args\": [',\n        '\\t\\t\\t\\t// Ask msbuild to generate full paths for file names.',\n        '\\t\\t\\t\\t\"/property:GenerateFullPaths=true\",',\n        '\\t\\t\\t\\t\"/t:build\",',\n        '\\t\\t\\t\\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel',\n        '\\t\\t\\t\\t\"/consoleloggerparameters:NoSummary\"',\n        '\\t\\t\\t],',\n        '\\t\\t\\t\"group\": \"build\",',\n        '\\t\\t\\t\"presentation\": {',\n        '\\t\\t\\t\\t// Reveal the output only if unrecognized errors occur.',\n        '\\t\\t\\t\\t\"reveal\": \"silent\"',\n        '\\t\\t\\t},',\n        '\\t\\t\\t// Use the standard MS compiler pattern to detect errors, warnings and infos',\n        '\\t\\t\\t\"problemMatcher\": \"$msCompile\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst maven: TaskTemplateEntry = {\n    id: 'maven',\n    label: 'maven',\n    sort: 'MVN',\n    autoDetect: false, // not supported in Theia\n    description: 'Executes common maven commands',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"verify\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"mvn -B verify\",',\n        '\\t\\t\\t\"group\": \"build\"',\n        '\\t\\t},',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"test\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"mvn -B test\",',\n        '\\t\\t\\t\"group\": \"test\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\nconst command: TaskTemplateEntry = {\n    id: 'externalCommand',\n    label: 'Others',\n    autoDetect: false, // not supported in Theia\n    description: 'Example to run an arbitrary external command',\n    content: [\n        '{',\n        '\\t// See https://go.microsoft.com/fwlink/?LinkId=733558',\n        '\\t// for the documentation about the tasks.json format',\n        '\\t\"version\": \"2.0.0\",',\n        '\\t\"tasks\": [',\n        '\\t\\t{',\n        '\\t\\t\\t\"label\": \"echo\",',\n        '\\t\\t\\t\"type\": \"shell\",',\n        '\\t\\t\\t\"command\": \"echo Hello\"',\n        '\\t\\t}',\n        '\\t]',\n        '}'\n    ].join('\\n')\n};\n\n@injectable()\nexport class TaskTemplateSelector {\n    selectTemplates(): QuickPickValue<TaskTemplateEntry>[] {\n        const templates: TaskTemplateEntry[] = [\n            dotnetBuild, msbuild, maven\n        ].sort((a, b) =>\n            (a.sort || a.label).localeCompare(b.sort || b.label)\n        );\n        templates.push(command);\n        return templates.map(t => ({\n            label: t.label,\n            description: t.description,\n            value: t\n        }));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { ApplicationShell, WidgetOpenerOptions } from '@theia/core/lib/browser';\nimport { TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { TerminalWidgetFactoryOptions } from '@theia/terminal/lib/browser/terminal-widget-impl';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { PanelKind, TaskConfiguration, TaskWatcher, TaskExitedEvent, TaskServer, TaskOutputPresentation, TaskInfo } from '../common';\nimport { ProcessTaskInfo } from '../common/process/task-protocol';\nimport { TaskDefinitionRegistry } from './task-definition-registry';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport URI from '@theia/core/lib/common/uri';\n\nexport interface TaskTerminalWidget extends TerminalWidget {\n    readonly kind: 'task';\n    dedicated?: boolean;\n    taskId?: number;\n    taskConfig?: TaskConfiguration;\n    busy?: boolean;\n}\nexport namespace TaskTerminalWidget {\n    export function is(widget: TerminalWidget): widget is TaskTerminalWidget {\n        return widget.kind === 'task';\n    }\n}\n\nexport interface TaskTerminalWidgetOpenerOptions extends WidgetOpenerOptions {\n    taskConfig?: TaskConfiguration;\n    taskInfo?: TaskInfo;\n}\nexport namespace TaskTerminalWidgetOpenerOptions {\n    export function isDedicatedTerminal(options: TaskTerminalWidgetOpenerOptions): boolean {\n        const taskConfig = options.taskInfo ? options.taskInfo.config : options.taskConfig;\n        return !!taskConfig && !!taskConfig.presentation && taskConfig.presentation.panel === PanelKind.Dedicated;\n    }\n\n    export function isNewTerminal(options: TaskTerminalWidgetOpenerOptions): boolean {\n        const taskConfig = options.taskInfo ? options.taskInfo.config : options.taskConfig;\n        return !!taskConfig && !!taskConfig.presentation && taskConfig.presentation.panel === PanelKind.New;\n    }\n\n    export function isSharedTerminal(options: TaskTerminalWidgetOpenerOptions): boolean {\n        const taskConfig = options.taskInfo ? options.taskInfo.config : options.taskConfig;\n        return !!taskConfig && (taskConfig.presentation === undefined || taskConfig.presentation.panel === undefined || taskConfig.presentation.panel === PanelKind.Shared);\n    }\n\n    export function echoExecutedCommand(options: TaskTerminalWidgetOpenerOptions): boolean {\n        const taskConfig = options.taskInfo ? options.taskInfo.config : options.taskConfig;\n        return !!taskConfig && (taskConfig.presentation === undefined || taskConfig.presentation.echo === undefined || taskConfig.presentation.echo);\n    }\n}\n\n@injectable()\nexport class TaskTerminalWidgetManager {\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(TaskDefinitionRegistry)\n    protected readonly taskDefinitionRegistry: TaskDefinitionRegistry;\n\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n\n    @inject(TaskWatcher)\n    protected readonly taskWatcher: TaskWatcher;\n\n    @inject(TaskServer)\n    protected readonly taskServer: TaskServer;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @postConstruct()\n    protected init(): void {\n        this.taskWatcher.onTaskExit((event: TaskExitedEvent) => {\n            const finishedTaskId = event.taskId;\n            // find the terminal where the task ran, and mark it as \"idle\"\n            for (const terminal of this.getTaskTerminalWidgets()) {\n                if (terminal.taskId === finishedTaskId) {\n                    const showReuseMessage = !!event.config && TaskOutputPresentation.shouldShowReuseMessage(event.config);\n                    const closeOnFinish = !!event.config && TaskOutputPresentation.shouldCloseTerminalOnFinish(event.config);\n                    this.updateTerminalOnTaskExit(terminal, showReuseMessage, closeOnFinish);\n                    break;\n                }\n            }\n        });\n\n        this.terminalService.onDidCreateTerminal(async (widget: TerminalWidget) => {\n            const terminal = TaskTerminalWidget.is(widget) && widget;\n            if (terminal) {\n                const didConnectListener = terminal.onDidOpen(async () => {\n                    const context = this.workspaceService?.workspace?.resource.toString();\n                    const tasksInfo = await this.taskServer.getTasks(context);\n                    const taskInfo = tasksInfo.find(info => info.terminalId === widget.terminalId);\n                    if (taskInfo) {\n                        const taskConfig = taskInfo.config;\n                        terminal.dedicated = !!taskConfig.presentation && !!taskConfig.presentation.panel && taskConfig.presentation.panel === PanelKind.Dedicated;\n                        terminal.taskId = taskInfo.taskId;\n                        terminal.taskConfig = taskConfig;\n                        terminal.busy = true;\n                    } else {\n                        this.updateTerminalOnTaskExit(terminal, true, false);\n                    }\n                });\n                const didConnectFailureListener = terminal.onDidOpenFailure(async () => {\n                    this.updateTerminalOnTaskExit(terminal, true, false);\n                });\n                terminal.onDidDispose(() => {\n                    didConnectListener.dispose();\n                    didConnectFailureListener.dispose();\n                });\n            }\n        });\n    }\n\n    async newTaskTerminal(factoryOptions: TerminalWidgetFactoryOptions): Promise<TerminalWidget> {\n        return this.terminalService.newTerminal({ ...factoryOptions, kind: 'task' });\n    }\n\n    async open(factoryOptions: TerminalWidgetFactoryOptions, openerOptions: TaskTerminalWidgetOpenerOptions): Promise<TerminalWidget> {\n        const taskInfo = openerOptions.taskInfo;\n        const taskConfig = taskInfo ? taskInfo.config : openerOptions.taskConfig;\n        const dedicated = TaskTerminalWidgetOpenerOptions.isDedicatedTerminal(openerOptions);\n        if (dedicated && !taskConfig) {\n            throw new Error('\"taskConfig\" must be included as part of the \"option.taskInfo\" if \"isDedicated\" is true');\n        }\n\n        const { isNew, widget } = await this.getWidgetToRunTask(factoryOptions, openerOptions);\n        if (isNew) {\n            this.shell.addWidget(widget, { area: openerOptions.widgetOptions ? openerOptions.widgetOptions.area : 'bottom' });\n            widget.resetTerminal();\n        } else {\n            if (factoryOptions.title) {\n                widget.setTitle(factoryOptions.title);\n            }\n            if (taskConfig && TaskOutputPresentation.shouldClearTerminalBeforeRun(taskConfig)) {\n                widget.clearOutput();\n            }\n        }\n        this.terminalService.open(widget, openerOptions);\n\n        if (TaskTerminalWidgetOpenerOptions.echoExecutedCommand(openerOptions) &&\n            taskInfo && ProcessTaskInfo.is(taskInfo) && taskInfo.command && taskInfo.command.length > 0\n        ) {\n            widget.writeLine(`\\x1b[1m> Executing task: ${taskInfo.command} <\\x1b[0m\\n`);\n        }\n        return widget;\n    }\n\n    protected async getWidgetToRunTask(\n        factoryOptions: TerminalWidgetFactoryOptions, openerOptions: TaskTerminalWidgetOpenerOptions\n    ): Promise<{ isNew: boolean, widget: TerminalWidget }> {\n        let reusableTerminalWidget: TerminalWidget | undefined;\n        const taskConfig = openerOptions.taskInfo ? openerOptions.taskInfo.config : openerOptions.taskConfig;\n        if (TaskTerminalWidgetOpenerOptions.isDedicatedTerminal(openerOptions)) {\n            for (const widget of this.getTaskTerminalWidgets()) {\n                // to run a task whose `taskPresentation === 'dedicated'`, the terminal to be reused must be\n                // 1) dedicated, 2) idle, 3) the one that ran the same task\n                if (widget.dedicated &&\n                    !widget.busy &&\n                    widget.taskConfig && taskConfig &&\n                    this.taskDefinitionRegistry.compareTasks(taskConfig, widget.taskConfig)) {\n\n                    reusableTerminalWidget = widget;\n                    break;\n                }\n            }\n        } else if (TaskTerminalWidgetOpenerOptions.isSharedTerminal(openerOptions)) {\n            const availableWidgets: TerminalWidget[] = [];\n            for (const widget of this.getTaskTerminalWidgets()) {\n                // to run a task whose `taskPresentation === 'shared'`, the terminal to be used must be\n                // 1) not dedicated, and 2) idle\n                if (!widget.dedicated && !widget.busy) {\n                    availableWidgets.push(widget);\n                }\n            }\n            const lastUsedWidget = availableWidgets.find(w => {\n                const lastUsedTerminal = this.terminalService.lastUsedTerminal;\n                return lastUsedTerminal && lastUsedTerminal.id === w.id;\n            });\n            reusableTerminalWidget = lastUsedWidget || availableWidgets[0];\n        }\n\n        // we are unable to find a terminal widget to run the task, or `taskPresentation === 'new'`\n        const lastCwd = taskConfig?.options?.cwd ? new URI(taskConfig.options.cwd) : new URI();\n\n        if (!reusableTerminalWidget) {\n            const widget = await this.newTaskTerminal(factoryOptions);\n            widget.lastCwd = lastCwd;\n            return { isNew: true, widget };\n        }\n        reusableTerminalWidget.lastCwd = lastCwd;\n        return { isNew: false, widget: reusableTerminalWidget };\n    }\n\n    protected getTaskTerminalWidgets(): TaskTerminalWidget[] {\n        return this.terminalService.all.filter(TaskTerminalWidget.is);\n    }\n\n    protected updateTerminalOnTaskExit(terminal: TaskTerminalWidget, showReuseMessage: boolean, closeOnFinish: boolean): void {\n        terminal.busy = false;\n        if (closeOnFinish) {\n            terminal.close();\n        } else if (showReuseMessage) {\n            terminal.scrollToBottom();\n            terminal.writeLine('\\x1b[1m\\n\\rTerminal will be reused by tasks. \\x1b[0m\\n');\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './task-protocol';\nexport * from './task-watcher';\nexport * from './problem-matcher-protocol';\nexport * from './task-util';\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// This file is inspired by VSCode https://github.com/Microsoft/vscode/blob/1.33.1/src/vs/workbench/contrib/tasks/common/problemMatcher.ts\n// 'problemMatcher.ts' copyright:\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '@theia/core';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { Diagnostic } from '@theia/core/shared/vscode-languageserver-protocol';\n\nexport enum ApplyToKind {\n    allDocuments,\n    openDocuments,\n    closedDocuments\n}\n\nexport namespace ApplyToKind {\n    export function fromString(value: string | undefined): ApplyToKind | undefined {\n        if (value) {\n            value = value.toLowerCase();\n            if (value === 'alldocuments') {\n                return ApplyToKind.allDocuments;\n            } else if (value === 'opendocuments') {\n                return ApplyToKind.openDocuments;\n            } else if (value === 'closeddocuments') {\n                return ApplyToKind.closedDocuments;\n            }\n        }\n        return undefined;\n    }\n}\n\nexport enum FileLocationKind {\n    Auto,\n    Relative,\n    Absolute\n}\n\nexport namespace FileLocationKind {\n    export function fromString(value: string): FileLocationKind | undefined {\n        value = value.toLowerCase();\n        if (value === 'absolute') {\n            return FileLocationKind.Absolute;\n        } else if (value === 'relative') {\n            return FileLocationKind.Relative;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport interface WatchingPattern {\n    regexp: string;\n    file?: number;\n}\n\nexport interface WatchingMatcher {\n    // If set to true the background monitor is in active mode when the task starts.\n    // This is equals of issuing a line that matches the beginPattern\n    activeOnStart: boolean;\n    beginsPattern: WatchingPattern;\n    endsPattern: WatchingPattern;\n}\nexport namespace WatchingMatcher {\n    export function fromWatchingMatcherContribution(value: WatchingMatcherContribution | undefined): WatchingMatcher | undefined {\n        if (!value) {\n            return undefined;\n        }\n        return {\n            activeOnStart: !!value.activeOnStart,\n            beginsPattern: typeof value.beginsPattern === 'string' ? { regexp: value.beginsPattern } : value.beginsPattern,\n            endsPattern: typeof value.endsPattern === 'string' ? { regexp: value.endsPattern } : value.endsPattern\n        };\n    }\n}\n\nexport enum ProblemLocationKind {\n    File,\n    Location\n}\n\nexport namespace ProblemLocationKind {\n    export function fromString(value: string): ProblemLocationKind | undefined {\n        value = value.toLowerCase();\n        if (value === 'file') {\n            return ProblemLocationKind.File;\n        } else if (value === 'location') {\n            return ProblemLocationKind.Location;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport interface ProblemMatcher {\n    deprecated?: boolean;\n\n    owner: string;\n    source?: string;\n    applyTo: ApplyToKind;\n    fileLocation: FileLocationKind;\n    filePrefix?: string;\n    pattern: ProblemPattern | ProblemPattern[];\n    severity?: Severity;\n    watching?: WatchingMatcher;\n    uriProvider?: (path: string) => URI;\n}\n\nexport interface NamedProblemMatcher extends ProblemMatcher {\n    name: string;\n    label: string;\n}\n\nexport namespace ProblemMatcher {\n    export function isWatchModeWatcher(matcher: ProblemMatcher): boolean {\n        return !!matcher.watching;\n    }\n}\n\nexport interface ProblemPattern {\n    name?: string;\n\n    regexp: string;\n\n    kind?: ProblemLocationKind;\n    file?: number;\n    message?: number;\n    location?: number;\n    line?: number;\n    character?: number;\n    endLine?: number;\n    endCharacter?: number;\n    code?: number;\n    severity?: number;\n    loop?: boolean;\n}\n\nexport interface NamedProblemPattern extends ProblemPattern {\n    name: string;\n}\n\nexport namespace ProblemPattern {\n    export function fromProblemPatternContribution(value: ProblemPatternContribution): ProblemPattern {\n        return {\n            name: value.name,\n            regexp: value.regexp,\n            kind: value.kind ? ProblemLocationKind.fromString(value.kind) : undefined,\n            file: value.file,\n            message: value.message,\n            location: value.location,\n            line: value.line,\n            character: value.column || value.character,\n            endLine: value.endLine,\n            endCharacter: value.endColumn || value.endCharacter,\n            code: value.code,\n            severity: value.severity,\n            loop: value.loop\n        };\n    }\n}\n\nexport interface ProblemMatch {\n    resource?: URI;\n    description: ProblemMatcher;\n}\n\nexport interface ProblemMatchData extends ProblemMatch {\n    marker: Diagnostic;\n}\nexport namespace ProblemMatchData {\n    export function is(data: ProblemMatch): data is ProblemMatchData {\n        return 'marker' in data;\n    }\n}\n\nexport interface WatchingMatcherContribution {\n    // If set to true the background monitor is in active mode when the task starts.\n    // This is equals of issuing a line that matches the beginPattern\n    activeOnStart?: boolean;\n    beginsPattern: string | WatchingPattern;\n    endsPattern: string | WatchingPattern;\n}\n\nexport interface ProblemMatcherContribution {\n    base?: string;\n    name?: string;\n    label: string;\n    deprecated?: boolean;\n\n    owner: string;\n    source?: string;\n    applyTo?: string;\n    fileLocation?: 'absolute' | 'relative' | string[];\n    pattern: string | ProblemPatternContribution | ProblemPatternContribution[];\n    severity?: string;\n    watching?: WatchingMatcherContribution; // deprecated. Use `background`.\n    background?: WatchingMatcherContribution;\n}\n\nexport interface ProblemPatternContribution {\n    name?: string;\n    regexp: string;\n\n    kind?: string;\n    file?: number;\n    message?: number;\n    location?: number;\n    line?: number;\n    character?: number;\n    column?: number;\n    endLine?: number;\n    endCharacter?: number;\n    endColumn?: number;\n    code?: number;\n    severity?: number;\n    loop?: boolean;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { TaskConfiguration, TaskInfo } from '../task-protocol';\nimport { ApplicationError } from '@theia/core/lib/common/application-error';\n\nexport type ProcessType = 'shell' | 'process';\n\nexport interface CommandOptions {\n    /**\n     * The 'current working directory' the task will run in. Can be a uri-as-string\n     * or plain string path. If the cwd is meant to be somewhere under the workspace,\n     * one can use the variable `${workspaceFolder}`, which will be replaced by its path,\n     * at runtime. If not specified, defaults to the workspace root.\n     * ex:  cwd: '${workspaceFolder}/foo'\n     */\n    cwd?: string;\n\n    /**\n     * The environment of the executed program or shell. If omitted the parent process' environment is used.\n     */\n    env?: { [key: string]: string | undefined; };\n\n    /**\n     * Configuration of the shell when task type is `shell`\n     */\n    shell?: {\n        /**\n         * The shell to use.\n         */\n        executable: string;\n\n        /**\n         * The arguments to be passed to the shell executable to run in command mode\n         * (e.g ['-c'] for bash or ['/S', '/C'] for cmd.exe).\n         */\n        args?: string[];\n    };\n}\n\nexport interface CommandProperties {\n    readonly command?: string;\n    readonly args?: string[];\n    readonly options?: CommandOptions;\n}\n\n/** Configuration of a Task that may be run as a process or a command inside a shell. */\nexport interface ProcessTaskConfiguration extends TaskConfiguration, CommandProperties {\n    readonly type: ProcessType;\n\n    /**\n     * Windows specific task configuration\n     */\n    readonly windows?: CommandProperties;\n\n    /**\n     * macOS specific task configuration\n     */\n    readonly osx?: CommandProperties;\n\n    /**\n     * Linux specific task configuration\n     */\n    readonly linux?: CommandProperties;\n}\n\nexport interface ProcessTaskInfo extends TaskInfo {\n    /** process id. Defined if task is run as a process */\n    readonly processId?: number;\n    /** process task command */\n    readonly command?: string;\n}\nexport namespace ProcessTaskInfo {\n    export function is(info: TaskInfo): info is ProcessTaskInfo {\n        return info['processId'] !== undefined;\n    }\n}\n\nexport namespace ProcessTaskError {\n    export const CouldNotRun = ApplicationError.declare(1, (code: string) => ({\n        message: `Error starting process (${code})`,\n        data: { code }\n    }));\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Event } from '@theia/core';\nimport { RpcServer } from '@theia/core/lib/common/messaging/proxy-factory';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport { ProblemMatcher, ProblemMatch, WatchingMatcherContribution, ProblemMatcherContribution, ProblemPatternContribution } from './problem-matcher-protocol';\nexport { WatchingMatcherContribution, ProblemMatcherContribution, ProblemPatternContribution };\n\nexport const taskPath = '/services/task';\n\nexport const TaskServer = Symbol('TaskServer');\nexport const TaskClient = Symbol('TaskClient');\nexport enum DependsOrder {\n    Sequence = 'sequence',\n    Parallel = 'parallel',\n}\n\nexport enum RevealKind {\n    Always = 'always',\n    Silent = 'silent',\n    Never = 'never'\n}\n\nexport enum PanelKind {\n    Shared = 'shared',\n    Dedicated = 'dedicated',\n    New = 'new'\n}\n\nexport interface TaskOutputPresentation {\n    echo?: boolean;\n    focus?: boolean;\n    reveal?: RevealKind;\n    panel?: PanelKind;\n    showReuseMessage?: boolean;\n    clear?: boolean;\n    close?: boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [name: string]: any;\n}\nexport namespace TaskOutputPresentation {\n    export function getDefault(): TaskOutputPresentation {\n        return {\n            echo: true,\n            reveal: RevealKind.Always,\n            focus: false,\n            panel: PanelKind.Shared,\n            showReuseMessage: true,\n            clear: false,\n            close: false\n        };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function fromJson(task: any): TaskOutputPresentation {\n        let outputPresentation = getDefault();\n        if (task && task.presentation) {\n            if (task.presentation.reveal) {\n                let reveal = RevealKind.Always;\n                if (task.presentation.reveal === 'silent') {\n                    reveal = RevealKind.Silent;\n                } else if (task.presentation.reveal === 'never') {\n                    reveal = RevealKind.Never;\n                }\n                outputPresentation = { ...outputPresentation, reveal };\n            }\n            if (task.presentation.panel) {\n                let panel = PanelKind.Shared;\n                if (task.presentation.panel === 'dedicated') {\n                    panel = PanelKind.Dedicated;\n                } else if (task.presentation.panel === 'new') {\n                    panel = PanelKind.New;\n                }\n                outputPresentation = { ...outputPresentation, panel };\n            }\n            outputPresentation = {\n                ...outputPresentation,\n                echo: task.presentation.echo === undefined || task.presentation.echo,\n                focus: shouldSetFocusToTerminal(task),\n                showReuseMessage: shouldShowReuseMessage(task),\n                clear: shouldClearTerminalBeforeRun(task),\n                close: shouldCloseTerminalOnFinish(task)\n            };\n        }\n        return outputPresentation;\n    }\n\n    export function shouldAlwaysRevealTerminal(task: TaskCustomization): boolean {\n        return !task.presentation || task.presentation.reveal === undefined || task.presentation.reveal === RevealKind.Always;\n    }\n\n    export function shouldSetFocusToTerminal(task: TaskCustomization): boolean {\n        return !!task.presentation && !!task.presentation.focus;\n    }\n\n    export function shouldClearTerminalBeforeRun(task: TaskCustomization): boolean {\n        return !!task.presentation && !!task.presentation.clear;\n    }\n\n    export function shouldCloseTerminalOnFinish(task: TaskCustomization): boolean {\n        return !!task.presentation && !!task.presentation.close;\n    }\n\n    export function shouldShowReuseMessage(task: TaskCustomization): boolean {\n        return !task.presentation || task.presentation.showReuseMessage === undefined || !!task.presentation.showReuseMessage;\n    }\n}\n\nexport interface TaskCustomization {\n    type: string;\n    group?: 'build' | 'test' | 'rebuild' | 'clean' | 'none' | { kind: 'build' | 'test' | 'rebuild' | 'clean', isDefault: boolean };\n    problemMatcher?: string | ProblemMatcherContribution | (string | ProblemMatcherContribution)[];\n    presentation?: TaskOutputPresentation;\n    detail?: string;\n\n    /** Whether the task is a background task or not. */\n    isBackground?: boolean;\n\n    /** The other tasks the task depend on. */\n    dependsOn?: string | TaskIdentifier | Array<string | TaskIdentifier>;\n\n    /** The order the dependsOn tasks should be executed in. */\n    dependsOrder?: DependsOrder;\n\n    runOptions?: RunOptions;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [name: string]: any;\n}\nexport namespace TaskCustomization {\n    export function isBuildTask(task: TaskCustomization): boolean {\n        return task.group === 'build' || typeof task.group === 'object' && task.group.kind === 'build';\n    }\n\n    export function isDefaultBuildTask(task: TaskCustomization): boolean {\n        return isDefaultTask(task) && isBuildTask(task);\n    }\n\n    export function isDefaultTask(task: TaskCustomization): boolean {\n        return typeof task.group === 'object' && task.group.isDefault;\n    }\n\n    export function isTestTask(task: TaskCustomization): boolean {\n        return task.group === 'test' || typeof task.group === 'object' && task.group.kind === 'test';\n    }\n\n    export function isDefaultTestTask(task: TaskCustomization): boolean {\n        return isDefaultTask(task) && isTestTask(task);\n    }\n}\n\nexport enum TaskScope {\n    Global = 1,\n    Workspace = 2\n}\n\n/**\n * The task configuration scopes.\n * - `string` represents the associated workspace folder uri.\n */\nexport type TaskConfigurationScope = string | TaskScope.Workspace | TaskScope.Global;\n\nexport interface TaskConfiguration extends TaskCustomization {\n    /** A label that uniquely identifies a task configuration per source */\n    readonly label: string;\n    readonly _scope: TaskConfigurationScope;\n}\n\nexport interface ContributedTaskConfiguration extends TaskConfiguration {\n    /**\n     * Source of the task configuration.\n     * For a configured task, it is the name of the root folder, while for a provided task, it is the name of the provider.\n     * This field is not supposed to be used in `tasks.json`\n     */\n    readonly _source: string;\n}\n\n/** A task identifier */\nexport interface TaskIdentifier {\n    type: string;\n    [name: string]: string;\n}\n\n/** Runtime information about Task. */\nexport interface TaskInfo {\n    /** internal unique task id */\n    readonly taskId: number,\n    /** terminal id. Defined if task is run as a terminal process */\n    readonly terminalId?: number,\n    /** context that was passed as part of task creation, if any */\n    readonly ctx?: string,\n    /** task config used for launching a task */\n    readonly config: TaskConfiguration,\n    /** Additional properties specific for a particular Task Runner. */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly [key: string]: any;\n}\n\nexport interface TaskServer extends RpcServer<TaskClient> {\n    /** Run a task. Optionally pass a context.  */\n    run(task: TaskConfiguration, ctx?: string, option?: RunTaskOption): Promise<TaskInfo>;\n    /** Kill a task, by id. */\n    kill(taskId: number): Promise<void>;\n    /**\n     * Returns a list of currently running tasks. If a context is provided,\n     * only the tasks started in that context will be provided. Using an\n     * undefined context matches all tasks, no matter the creation context.\n     */\n    getTasks(ctx?: string): Promise<TaskInfo[]>\n\n    /** removes the client that has disconnected */\n    disconnectClient(client: TaskClient): void;\n\n    /** Returns the list of default and registered task runners */\n    getRegisteredTaskTypes(): Promise<string[]>\n\n    /** plugin callback task complete */\n    customExecutionComplete(id: number, exitCode: number | undefined): Promise<void>\n}\n\nexport interface TaskCustomizationData {\n    type: string;\n    problemMatcher?: ProblemMatcher[];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [name: string]: any;\n}\n\nexport interface RunTaskOption {\n    customization?: TaskCustomizationData;\n}\n\nexport interface RunOptions {\n    reevaluateOnRerun?: boolean;\n}\n\n/** Event sent when a task has concluded its execution */\nexport interface TaskExitedEvent {\n    readonly taskId: number;\n    readonly ctx?: string;\n\n    // Exactly one of code and signal will be set.\n    readonly code?: number;\n    readonly signal?: string;\n\n    readonly config?: TaskConfiguration;\n\n    readonly terminalId?: number;\n    readonly processId?: number;\n}\n\nexport interface TaskOutputEvent {\n    readonly taskId: number;\n    readonly ctx?: string;\n    readonly line: string;\n}\n\nexport interface TaskOutputProcessedEvent {\n    readonly taskId: number;\n    readonly config: TaskConfiguration;\n    readonly ctx?: string;\n    readonly problems?: ProblemMatch[];\n}\n\nexport interface BackgroundTaskEndedEvent {\n    readonly taskId: number;\n    readonly ctx?: string;\n}\n\nexport interface TaskClient {\n    onTaskExit(event: TaskExitedEvent): void;\n    onTaskCreated(event: TaskInfo): void;\n    onDidStartTaskProcess(event: TaskInfo): void;\n    onDidEndTaskProcess(event: TaskExitedEvent): void;\n    onDidProcessTaskOutput(event: TaskOutputProcessedEvent): void;\n    onBackgroundTaskEnded(event: BackgroundTaskEndedEvent): void;\n}\n\nexport interface TaskDefinition {\n    taskType: string;\n    source: string;\n    properties: {\n        /**\n         * Should be treated as an empty array if omitted.\n         * https://json-schema.org/draft/2020-12/json-schema-validation.html#rfc.section.6.5.3\n         */\n        required?: string[];\n        all: string[];\n        schema: IJSONSchema;\n    }\n}\n\nexport interface ManagedTask {\n    id: number;\n    context?: string;\n}\n\nexport interface ManagedTaskManager<T extends ManagedTask> {\n    onDelete: Event<number>;\n    register(task: T, context?: string): number;\n    get(id: number): T | undefined;\n    getTasks(context?: string): T[] | undefined;\n    delete(task: T): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2023 EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Converts the given standard name to a variable name starting with '$' if not already present.\n *\n * Variable names are used, for instance, to reference problem matchers, within task configurations.\n *\n * @param name standard name\n * @returns variable name with leading '$' if not already present.\n *\n * @see {@link fromVariableName} for the reverse conversion.\n */\nexport function asVariableName(name: string): string {\n    return name.startsWith('$') ? name : `$${name}`;\n}\n\n/**\n * Converts a given variable name to a standard name, effectively removing a leading '$' if present.\n *\n * Standard names are used, for instance, in registries to store variable objects\n *\n * @param name variable name\n * @returns variable name without leading '$' if present.\n *\n * @see {@link asVariableName} for the reverse conversion.\n */\nexport function fromVariableName(name: string): string {\n    return name.startsWith('$') ? name.slice(1) : name;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { TaskClient, TaskExitedEvent, TaskInfo, TaskOutputProcessedEvent, BackgroundTaskEndedEvent } from './task-protocol';\n\n@injectable()\nexport class TaskWatcher {\n\n    getTaskClient(): TaskClient {\n        const newTaskEmitter = this.onTaskCreatedEmitter;\n        const exitEmitter = this.onTaskExitEmitter;\n        const taskProcessStartedEmitter = this.onDidStartTaskProcessEmitter;\n        const taskProcessEndedEmitter = this.onDidEndTaskProcessEmitter;\n        const outputProcessedEmitter = this.onOutputProcessedEmitter;\n        const backgroundTaskEndedEmitter = this.onBackgroundTaskEndedEmitter;\n        return {\n            onTaskCreated(event: TaskInfo): void {\n                newTaskEmitter.fire(event);\n            },\n            onTaskExit(event: TaskExitedEvent): void {\n                exitEmitter.fire(event);\n            },\n            onDidStartTaskProcess(event: TaskInfo): void {\n                taskProcessStartedEmitter.fire(event);\n            },\n            onDidEndTaskProcess(event: TaskExitedEvent): void {\n                taskProcessEndedEmitter.fire(event);\n            },\n            onDidProcessTaskOutput(event: TaskOutputProcessedEvent): void {\n                outputProcessedEmitter.fire(event);\n            },\n            onBackgroundTaskEnded(event: BackgroundTaskEndedEvent): void {\n                backgroundTaskEndedEmitter.fire(event);\n            }\n        };\n    }\n\n    protected onTaskCreatedEmitter = new Emitter<TaskInfo>();\n    protected onTaskExitEmitter = new Emitter<TaskExitedEvent>();\n    protected onDidStartTaskProcessEmitter = new Emitter<TaskInfo>();\n    protected onDidEndTaskProcessEmitter = new Emitter<TaskExitedEvent>();\n    protected onOutputProcessedEmitter = new Emitter<TaskOutputProcessedEvent>();\n    protected onBackgroundTaskEndedEmitter = new Emitter<BackgroundTaskEndedEvent>();\n\n    get onTaskCreated(): Event<TaskInfo> {\n        return this.onTaskCreatedEmitter.event;\n    }\n    get onTaskExit(): Event<TaskExitedEvent> {\n        return this.onTaskExitEmitter.event;\n    }\n    get onDidStartTaskProcess(): Event<TaskInfo> {\n        return this.onDidStartTaskProcessEmitter.event;\n    }\n    get onDidEndTaskProcess(): Event<TaskExitedEvent> {\n        return this.onDidEndTaskProcessEmitter.event;\n    }\n    get onOutputProcessed(): Event<TaskOutputProcessedEvent> {\n        return this.onOutputProcessedEmitter.event;\n    }\n    get onBackgroundTaskEnded(): Event<BackgroundTaskEndedEvent> {\n        return this.onBackgroundTaskEndedEmitter.event;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { Event } from '@theia/core/lib/common/event';\nimport { WidgetOpenerOptions } from '@theia/core/lib/browser';\nimport { TerminalWidgetOptions, TerminalWidget } from './terminal-widget';\n\n/**\n * Service manipulating terminal widgets.\n */\nexport const TerminalService = Symbol('TerminalService');\nexport interface TerminalService {\n\n    /**\n     * Create new terminal with predefined options.\n     * @param options - terminal options.\n     */\n    newTerminal(options: TerminalWidgetOptions): Promise<TerminalWidget>;\n\n    open(terminal: TerminalWidget, options?: WidgetOpenerOptions): void;\n\n    readonly all: TerminalWidget[];\n\n    /**\n     * @param id - the widget id (NOT the terminal id!)\n     * @return the widget\n     */\n    getById(id: string): TerminalWidget | undefined;\n\n    /**\n     * @param id - the terminal id (NOT the terminal widget id!)\n     * @return the widget\n     */\n    getByTerminalId(terminalId: number): TerminalWidget | undefined;\n\n    /**\n     * Returns detected default shell.\n     */\n    getDefaultShell(): Promise<string>;\n\n    readonly onDidCreateTerminal: Event<TerminalWidget>;\n\n    readonly currentTerminal: TerminalWidget | undefined;\n\n    readonly onDidChangeCurrentTerminal: Event<TerminalWidget | undefined>;\n\n    readonly lastUsedTerminal: TerminalWidget | undefined;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { RpcProxy } from '@theia/core';\nimport { IBaseTerminalServer, IBaseTerminalServerOptions } from './base-terminal-protocol';\nimport { OS } from '@theia/core/lib/common/os';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering/markdown-string';\n\nexport const IShellTerminalServer = Symbol('IShellTerminalServer');\n\nexport interface IShellTerminalServer extends IBaseTerminalServer {\n    hasChildProcesses(processId: number | undefined): Promise<boolean>;\n    getEnvVarCollectionDescriptionsByExtension(id: number): Promise<Map<string, (string | MarkdownString | undefined)[]>>;\n    getEnvVarCollections(): Promise<[string, string, boolean, SerializableEnvironmentVariableCollection][]>;\n\n    restorePersisted(jsonValue: string): void;\n    /**\n     * Sets an extension's environment variable collection.\n     */\n    setCollection(extensionIdentifier: string, rootUri: string, persistent: boolean,\n        collection: SerializableEnvironmentVariableCollection, description: string | MarkdownString | undefined): void;\n    /**\n     * Deletes an extension's environment variable collection.\n     */\n    deleteCollection(extensionIdentifier: string): void;\n}\n\nexport const shellTerminalPath = '/services/shell-terminal';\n\nexport type ShellTerminalOSPreferences<T> = {\n    [key in OS.Type]: T\n};\n\nexport interface IShellTerminalPreferences {\n    shell: ShellTerminalOSPreferences<string | undefined>,\n    shellArgs: ShellTerminalOSPreferences<string[]>\n};\n\nexport interface IShellTerminalServerOptions extends IBaseTerminalServerOptions {\n    shell?: string,\n    args?: string[] | string,\n    rootURI?: string,\n    cols?: number,\n    rows?: number,\n    env?: { [key: string]: string | null },\n    strictEnv?: boolean,\n    isPseudo?: boolean,\n}\n\nexport const ShellTerminalServerProxy = Symbol('ShellTerminalServerProxy');\nexport type ShellTerminalServerProxy = RpcProxy<IShellTerminalServer>;\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.49.0/src/vs/workbench/contrib/terminal/common/environmentVariable.ts\n\nexport const NO_ROOT_URI = '<none>';\n\nexport interface EnvironmentVariableCollection {\n    readonly variableMutators: ReadonlyMap<string, EnvironmentVariableMutator>;\n    readonly description: string | MarkdownString | undefined;\n}\n\nexport interface EnvironmentVariableCollectionWithPersistence extends EnvironmentVariableCollection {\n    readonly persistent: boolean;\n}\n\nexport enum EnvironmentVariableMutatorType {\n    Replace = 1,\n    Append = 2,\n    Prepend = 3\n}\n\nexport interface EnvironmentVariableMutatorOptions {\n    applyAtProcessCreation?: boolean;\n}\n\nexport interface EnvironmentVariableMutator {\n    readonly value: string;\n    readonly type: EnvironmentVariableMutatorType;\n    readonly options: EnvironmentVariableMutatorOptions;\n}\n\nexport interface SerializableEnvironmentVariableCollection {\n    readonly description: string | MarkdownString | undefined;\n    readonly mutators: [string, EnvironmentVariableMutator][]\n};\n\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './user-storage-uri';\nexport * from './user-storage-frontend-module';\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { FileSystemProvider } from '@theia/filesystem/lib/common/files';\nimport { FileService, FileServiceContribution } from '@theia/filesystem/lib/browser/file-service';\nimport { DelegatingFileSystemProvider } from '@theia/filesystem/lib/common/delegating-file-system-provider';\nimport { UserStorageUri } from './user-storage-uri';\n\n@injectable()\nexport class UserStorageContribution implements FileServiceContribution {\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    registerFileSystemProviders(service: FileService): void {\n        service.onWillActivateFileSystemProvider(event => {\n            if (event.scheme === UserStorageUri.scheme) {\n                event.waitUntil((async () => {\n                    const provider = await this.createProvider(service);\n                    service.registerProvider(UserStorageUri.scheme, provider);\n                })());\n            }\n        });\n    }\n\n    protected async createProvider(service: FileService): Promise<FileSystemProvider> {\n        const delegate = await service.activateProvider('file');\n        const configDirUri = new URI(await this.environments.getConfigDirUri());\n        return new DelegatingFileSystemProvider(delegate, {\n            uriConverter: {\n                to: resource => {\n                    const relativePath = UserStorageUri.relative(resource);\n                    if (relativePath) {\n                        return configDirUri.resolve(relativePath).normalizePath();\n                    }\n                    return undefined;\n                },\n                from: resource => {\n                    const relativePath = configDirUri.relative(resource);\n                    if (relativePath) {\n                        return UserStorageUri.resolve(relativePath);\n                    }\n                    return undefined;\n                }\n            }\n        }, new DisposableCollection(\n            delegate.watch(configDirUri, { excludes: [], recursive: true })\n        ));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport { FileServiceContribution } from '@theia/filesystem/lib/browser/file-service';\nimport { UserStorageContribution } from './user-storage-contribution';\n\nexport default new ContainerModule(bind => {\n    bind(UserStorageContribution).toSelf().inSingletonScope();\n    bind(FileServiceContribution).toService(UserStorageContribution);\n});\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\n\nexport const UserStorageUri = new URI('user-storage:/user');\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/*\n * copied from\n * https://github.com/microsoft/vscode/blob/0a34756cae4fc67739e60c708b04637089f8bb0d/src/vs/workbench/services/configurationResolver/common/configurationResolverSchema.ts#L23\n */\n\nconst idDescription = \"The input's id is used to associate an input with a variable of the form ${input:id}.\";\nconst typeDescription = 'The type of user input prompt to use.';\nconst descriptionDescription = 'The description is shown when the user is prompted for input.';\nconst defaultDescription = 'The default value for the input.';\n\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\n\nexport const inputsSchema: IJSONSchema = {\n    definitions: {\n        inputs: {\n            type: 'array',\n            description: 'User inputs. Used for defining user input prompts, such as free string input or a choice from several options.',\n            items: {\n                oneOf: [\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'description'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['promptString'],\n                                enumDescriptions: [\n                                    \"The 'promptString' type opens an input box to ask the user for input.\"\n                                ]\n                            },\n                            description: {\n                                type: 'string',\n                                description: descriptionDescription\n                            },\n                            default: {\n                                type: 'string',\n                                description: defaultDescription\n                            },\n                        }\n                    },\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'description', 'options'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['pickString'],\n                                enumDescriptions: [\n                                    \"The 'pickString' type shows a selection list.\",\n                                ]\n                            },\n                            description: {\n                                type: 'string',\n                                description: descriptionDescription\n                            },\n                            default: {\n                                type: 'string',\n                                description: defaultDescription\n                            },\n                            options: {\n                                type: 'array',\n                                description: 'An array of strings that defines the options for a quick pick.',\n                                items: {\n                                    type: 'string'\n                                }\n                            }\n                        }\n                    },\n                    {\n                        type: 'object',\n                        required: ['id', 'type', 'command'],\n                        additionalProperties: false,\n                        properties: {\n                            id: {\n                                type: 'string',\n                                description: idDescription\n                            },\n                            type: {\n                                type: 'string',\n                                description: typeDescription,\n                                enum: ['command'],\n                                enumDescriptions: [\n                                    \"The 'command' type executes a command.\",\n                                ]\n                            },\n                            command: {\n                                type: 'string',\n                                description: 'The command to execute for this input variable.'\n                            },\n                            args: {\n                                type: 'object',\n                                description: 'Optional arguments passed to the command.'\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    }\n};\n"],"names":[],"sourceRoot":""}