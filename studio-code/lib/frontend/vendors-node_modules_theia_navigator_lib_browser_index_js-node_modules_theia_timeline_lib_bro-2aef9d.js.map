{"version":3,"file":"vendors-node_modules_theia_navigator_lib_browser_index_js-node_modules_theia_timeline_lib_bro-2aef9d.js","mappings":"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","sources":["webpack:///./node_modules/@theia/navigator/src/browser/index.ts?","webpack:///./node_modules/@theia/navigator/src/browser/navigator-decorator-service.ts?","webpack:///./node_modules/@theia/timeline/src/browser/timeline-context-key-service.ts?","webpack:///./node_modules/@theia/timeline/src/browser/timeline-service.ts?","webpack:///./node_modules/@theia/timeline/src/browser/timeline-tree-model.ts?","webpack:///./node_modules/@theia/timeline/src/browser/timeline-tree-widget.tsx?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './navigator-model';\nexport * from './navigator-widget';\nexport * from './navigator-widget-factory';\nexport * from './navigator-decorator-service';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named } from '@theia/core/shared/inversify';\nimport { ContributionProvider } from '@theia/core/lib/common/contribution-provider';\nimport { TreeDecorator, AbstractTreeDecoratorService } from '@theia/core/lib/browser/tree/tree-decorator';\n\n/**\n * Symbol for all decorators that would like to contribute into the navigator.\n */\nexport const NavigatorTreeDecorator = Symbol('NavigatorTreeDecorator');\n\n/**\n * Decorator service for the navigator.\n */\n@injectable()\nexport class NavigatorDecoratorService extends AbstractTreeDecoratorService {\n\n    constructor(@inject(ContributionProvider) @named(NavigatorTreeDecorator) protected readonly contributions: ContributionProvider<TreeDecorator>) {\n        super(contributions.getContributions());\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { ContextKeyService, ContextKey } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class TimelineContextKeyService {\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    protected _timelineItem: ContextKey<string | undefined>;\n    get timelineItem(): ContextKey<string | undefined> {\n        return this._timelineItem;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this._timelineItem = this.contextKeyService.createKey<string | undefined>('timelineItem', undefined);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Disposable, Emitter, Event } from '@theia/core/lib/common';\nimport { URI } from '@theia/core/shared/vscode-uri';\nimport {\n    InternalTimelineOptions,\n    Timeline,\n    TimelineChangeEvent, TimelineItem, TimelineOptions,\n    TimelineProvider,\n    TimelineProvidersChangeEvent,\n    TimelineSource\n} from '../common/timeline-model';\n\n@injectable()\nexport class TimelineService {\n    private readonly providers = new Map<string, TimelineProvider>();\n\n    private readonly onDidChangeProvidersEmitter = new Emitter<TimelineProvidersChangeEvent>();\n    readonly onDidChangeProviders: Event<TimelineProvidersChangeEvent> = this.onDidChangeProvidersEmitter.event;\n\n    private readonly onDidChangeTimelineEmitter = new Emitter<TimelineChangeEvent>();\n    readonly onDidChangeTimeline: Event<TimelineChangeEvent> = this.onDidChangeTimelineEmitter.event;\n\n    registerTimelineProvider(provider: TimelineProvider): Disposable {\n        const id = provider.id;\n\n        this.providers.set(id, provider);\n        if (provider.onDidChange) {\n            provider.onDidChange(e => this.onDidChangeTimelineEmitter.fire(e));\n        }\n        this.onDidChangeProvidersEmitter.fire({ added: [id] });\n\n        return Disposable.create(() => this.unregisterTimelineProvider(id));\n    }\n\n    unregisterTimelineProvider(id: string): void {\n        const provider = this.providers.get(id);\n        if (provider) {\n            provider.dispose();\n            this.providers.delete(id);\n            this.onDidChangeProvidersEmitter.fire({ removed: [id] });\n        }\n    }\n\n    getSources(): TimelineSource[] {\n        return [...this.providers.values()].map(p => ({ id: p.id, label: p.label }));\n    }\n\n    getSchemas(): string[] {\n        const result: string[] = [];\n        Array.from(this.providers.values()).forEach(provider => {\n            const scheme = provider.scheme;\n            if (typeof scheme === 'string') {\n                result.push(scheme);\n            } else {\n                scheme.forEach(s => result.push(s));\n            }\n        });\n        return result;\n    }\n\n    getTimeline(id: string, uri: URI, options: TimelineOptions, internalOptions?: InternalTimelineOptions): Promise<Timeline | undefined> {\n        const provider = this.providers.get(id);\n        if (!provider) {\n            return Promise.resolve(undefined);\n        }\n\n        if (typeof provider.scheme === 'string') {\n            if (provider.scheme !== '*' && provider.scheme !== uri.scheme) {\n                return Promise.resolve(undefined);\n            }\n        }\n\n        return provider.provideTimeline(uri, options, internalOptions)\n            .then(result => {\n                if (!result) {\n                    return undefined;\n                }\n                result.items = result.items.map(item => ({ ...item, source: provider.id }));\n                return result;\n            });\n    }\n}\n\nexport class TimelineAggregate {\n    readonly items: TimelineItem[];\n    readonly source: string;\n    readonly uri: string;\n\n    private _cursor?: string;\n    get cursor(): string | undefined {\n        return this._cursor;\n    }\n\n    set cursor(cursor: string | undefined) {\n        this._cursor = cursor;\n    }\n\n    constructor(timeline: Timeline) {\n        this.source = timeline.source;\n        this.items = timeline.items;\n        this._cursor = timeline.paging?.cursor;\n    }\n\n    add(items: TimelineItem[]): void {\n        this.items.push(...items);\n        this.items.sort((a, b) => b.timestamp - a.timestamp);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport {\n    CompositeTreeNode,\n    SelectableTreeNode,\n    TreeModelImpl,\n} from '@theia/core/lib/browser/tree';\nimport { TimelineItem } from '../common/timeline-model';\nimport { Command } from '@theia/core';\n\nexport const LOAD_MORE_COMMAND: Command = {\n    id: 'timeline-load-more'\n};\n\nexport interface TimelineNode extends SelectableTreeNode {\n    timelineItem: TimelineItem;\n}\n\n@injectable()\nexport class TimelineTreeModel extends TreeModelImpl {\n\n    updateTree(items: TimelineItem[], hasMoreItems: boolean): void {\n        const root = {\n            id: 'timeline-tree-root',\n            parent: undefined,\n            visible: false,\n            children: []\n        } as CompositeTreeNode;\n        const children = items.map(item =>\n        ({\n            timelineItem: item,\n            id: item.id ? item.id : item.timestamp.toString(),\n            parent: root,\n            detail: item.detail,\n            selected: false,\n            visible: true\n        } as TimelineNode)\n        );\n        let loadMore;\n        if (hasMoreItems) {\n            const loadMoreNode: TimelineItem = { label: 'Load-more', timestamp: 0, handle: '', uri: '', source: '' };\n            loadMoreNode.command = LOAD_MORE_COMMAND;\n            loadMore = {\n                timelineItem: loadMoreNode,\n                id: 'load-more',\n                parent: root,\n                selected: true\n            } as TimelineNode;\n            children.push(loadMore);\n        }\n        root.children = children;\n        this.root = root;\n        if (loadMore) {\n            this.selectionService.addSelection(loadMore);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CommandRegistry, MenuModelRegistry, MenuPath } from '@theia/core/lib/common';\nimport { TreeWidget, TreeProps, NodeProps, TREE_NODE_SEGMENT_GROW_CLASS } from '@theia/core/lib/browser/tree';\nimport { ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { TimelineNode, TimelineTreeModel } from './timeline-tree-model';\nimport { TimelineService } from './timeline-service';\nimport { TimelineContextKeyService } from './timeline-context-key-service';\nimport * as React from '@theia/core/shared/react';\nimport { TimelineItem } from '../common/timeline-model';\n\nexport const TIMELINE_ITEM_CONTEXT_MENU: MenuPath = ['timeline-item-context-menu'];\n\n@injectable()\nexport class TimelineTreeWidget extends TreeWidget {\n\n    static ID = 'timeline-tree-widget';\n    static PAGE_SIZE = 20;\n\n    @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry;\n    @inject(TimelineContextKeyService) protected readonly contextKeys: TimelineContextKeyService;\n    @inject(TimelineService) protected readonly timelineService: TimelineService;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(TimelineTreeModel) override readonly model: TimelineTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer,\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.id = TimelineTreeWidget.ID;\n        this.addClass('timeline-outer-container');\n    }\n\n    protected override renderNode(node: TimelineNode, props: NodeProps): React.ReactNode {\n        const attributes = this.createNodeAttributes(node, props);\n        const content = <TimelineItemNode\n            timelineItem={node.timelineItem}\n            commandRegistry={this.commandRegistry}\n            contextKeys={this.contextKeys}\n            contextMenuRenderer={this.contextMenuRenderer} />;\n        return React.createElement('div', attributes, content);\n    }\n\n    protected override handleEnter(event: KeyboardEvent): void {\n        const node = this.model.getFocusedNode() as TimelineNode;\n        const command = node?.timelineItem?.command;\n        if (command) {\n            this.commandRegistry.executeCommand(command.id, ...(command.arguments ? command.arguments : []));\n        }\n    }\n\n    protected override async handleLeft(event: KeyboardEvent): Promise<void> {\n        this.model.selectPrevNode();\n    }\n}\n\nexport namespace TimelineItemNode {\n    export interface Props {\n        timelineItem: TimelineItem;\n        commandRegistry: CommandRegistry;\n        contextKeys: TimelineContextKeyService;\n        contextMenuRenderer: ContextMenuRenderer;\n    }\n}\n\nexport class TimelineItemNode extends React.Component<TimelineItemNode.Props> {\n    override render(): JSX.Element | undefined {\n        const { label, description, detail } = this.props.timelineItem;\n        return <div className='timeline-item'\n            title={detail}\n            onContextMenu={this.renderContextMenu}\n            onClick={this.open}>\n            <div className={`noWrapInfo ${TREE_NODE_SEGMENT_GROW_CLASS}`} >\n                <span className='name'>{label}</span>\n                <span className='label'>{description}</span>\n            </div>\n        </div>;\n    }\n\n    protected open = () => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const command: any = this.props.timelineItem.command;\n        if (command) {\n            this.props.commandRegistry.executeCommand(command.id, ...command.arguments ? command.arguments : []);\n        }\n    };\n\n    protected renderContextMenu = (event: React.MouseEvent<HTMLElement>) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const { timelineItem, contextKeys, contextMenuRenderer } = this.props;\n        const currentTimelineItem = contextKeys.timelineItem.get();\n        contextKeys.timelineItem.set(timelineItem.contextValue);\n        try {\n            contextMenuRenderer.render({\n                menuPath: TIMELINE_ITEM_CONTEXT_MENU,\n                anchor: event.nativeEvent,\n                args: [timelineItem]\n            });\n        } finally {\n            contextKeys.timelineItem.set(currentTimelineItem);\n        }\n    };\n}\n"],"names":[],"sourceRoot":""}