"use strict";(()=>{var Ls=Object.create;var or=Object.defineProperty;var Ds=Object.getOwnPropertyDescriptor;var Bs=Object.getOwnPropertyNames;var Hs=Object.getPrototypeOf,Ms=Object.prototype.hasOwnProperty;var C=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $s=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bs(t))!Ms.call(e,s)&&s!==r&&or(e,s,{get:()=>t[s],enumerable:!(n=Ds(t,s))||n.enumerable});return e};var se=(e,t,r)=>(r=e!=null?Ls(Hs(e)):{},$s(t||!e||!e.__esModule?or(r,"default",{value:e,enumerable:!0}):r,e));var Ye=k(ee=>{"use strict";ee.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ee.find=(e,t)=>e.nodes.find(r=>r.type===t);ee.exceedsLimit=(e,t,r=1,n)=>n===!1||!ee.isInteger(e)||!ee.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ee.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ee.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);ee.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ee.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ee.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ee.flatten=(...e)=>{let t=[],r=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?r(i,t):i!==void 0&&t.push(i)}return t};return r(e),t}});var Ze=k((Ka,lr)=>{"use strict";var ar=Ye();lr.exports=(e,t={})=>{let r=(n,s={})=>{let i=t.escapeInvalid&&ar.isInvalidBrace(s),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(i||o)&&ar.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let l of n.nodes)a+=r(l);return a};return r(e)}});var cr=k((za,ur)=>{"use strict";ur.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var xr=k((Qa,yr)=>{"use strict";var fr=cr(),xe=(e,t,r)=>{if(fr(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(fr(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),o=String(n.capture),a=String(n.wrap),l=e+":"+t+"="+s+i+o+a;if(xe.cache.hasOwnProperty(l))return xe.cache[l].result;let c=Math.min(e,t),u=Math.max(e,t);if(Math.abs(c-u)===1){let m=e+"|"+t;return n.capture?`(${m})`:n.wrap===!1?m:`(?:${m})`}let h=_r(e)||_r(t),d={min:e,max:t,a:c,b:u},E=[],x=[];if(h&&(d.isPadded=h,d.maxLen=String(d.max).length),c<0){let m=u<0?Math.abs(u):1;x=pr(m,Math.abs(c),d,n),c=d.a=0}return u>=0&&(E=pr(c,u,d,n)),d.negatives=x,d.positives=E,d.result=Fs(x,E,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&E.length+x.length>1&&(d.result=`(?:${d.result})`),xe.cache[l]=d,d.result};function Fs(e,t,r){let n=bt(e,t,"-",!1,r)||[],s=bt(t,e,"",!1,r)||[],i=bt(e,t,"-?",!0,r)||[];return n.concat(i).concat(s).join("|")}function Us(e,t){let r=1,n=1,s=hr(e,r),i=new Set([t]);for(;e<=s&&s<=t;)i.add(s),r+=1,s=hr(e,r);for(s=gr(t+1,n)-1;e<s&&s<=t;)i.add(s),n+=1,s=gr(t+1,n)-1;return i=[...i],i.sort(Gs),i}function js(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=qs(e,t),s=n.length,i="",o=0;for(let a=0;a<s;a++){let[l,c]=n[a];l===c?i+=l:l!=="0"||c!=="9"?i+=Ws(l,c,r):o++}return o&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[o],digits:s}}function pr(e,t,r,n){let s=Us(e,t),i=[],o=e,a;for(let l=0;l<s.length;l++){let c=s[l],u=js(String(o),String(c),n),h="";if(!r.isPadded&&a&&a.pattern===u.pattern){a.count.length>1&&a.count.pop(),a.count.push(u.count[0]),a.string=a.pattern+mr(a.count),o=c+1;continue}r.isPadded&&(h=Vs(c,r,n)),u.string=h+u.pattern+mr(u.count),i.push(u),o=c+1,a=u}return i}function bt(e,t,r,n,s){let i=[];for(let o of e){let{string:a}=o;!n&&!dr(t,"string",a)&&i.push(r+a),n&&dr(t,"string",a)&&i.push(r+a)}return i}function qs(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Gs(e,t){return e>t?1:t>e?-1:0}function dr(e,t,r){return e.some(n=>n[t]===r)}function hr(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function gr(e,t){return e-e%Math.pow(10,t)}function mr(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Ws(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function _r(e){return/^-?(0+)\d/.test(e)}function Vs(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}xe.cache={};xe.clearCache=()=>xe.cache={};yr.exports=xe});var Et=k((Xa,Ar)=>{"use strict";var Ks=C("util"),vr=xr(),br=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),zs=e=>t=>e===!0?Number(t):String(t),St=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ne=e=>Number.isInteger(+e),vt=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Qs=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Xs=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Sr=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Ys=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",s="",i;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n&&s?i=`${n}|${s}`:i=n||s,t.wrap?`(${r}${i})`:i},Er=(e,t,r,n)=>{if(r)return vr(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===t)return s;let i=String.fromCharCode(t);return`[${s}-${i}]`},Tr=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return vr(e,t,r)},Cr=(...e)=>new RangeError("Invalid range arguments: "+Ks.inspect(...e)),Rr=(e,t,r)=>{if(r.strictRanges===!0)throw Cr([e,t]);return[]},Zs=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Js=(e,t,r=1,n={})=>{let s=Number(e),i=Number(t);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw Cr([e,t]);return[]}s===0&&(s=0),i===0&&(i=0);let o=s>i,a=String(e),l=String(t),c=String(r);r=Math.max(Math.abs(r),1);let u=vt(a)||vt(l)||vt(c),h=u?Math.max(a.length,l.length,c.length):0,d=u===!1&&Qs(e,t,n)===!1,E=n.transform||zs(d);if(n.toRegex&&r===1)return Er(Sr(e,h),Sr(t,h),!0,n);let x={negatives:[],positives:[]},m=I=>x[I<0?"negatives":"positives"].push(Math.abs(I)),b=[],T=0;for(;o?s>=i:s<=i;)n.toRegex===!0&&r>1?m(s):b.push(Xs(E(s,T),h,d)),s=o?s-r:s+r,T++;return n.toRegex===!0?r>1?Ys(x,n):Tr(b,null,{wrap:!1,...n}):b},ei=(e,t,r=1,n={})=>{if(!Ne(e)&&e.length>1||!Ne(t)&&t.length>1)return Rr(e,t,n);let s=n.transform||(d=>String.fromCharCode(d)),i=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=i>o,l=Math.min(i,o),c=Math.max(i,o);if(n.toRegex&&r===1)return Er(l,c,!1,n);let u=[],h=0;for(;a?i>=o:i<=o;)u.push(s(i,h)),i=a?i-r:i+r,h++;return n.toRegex===!0?Tr(u,null,{wrap:!1,options:n}):u},Je=(e,t,r,n={})=>{if(t==null&&St(e))return[e];if(!St(e)||!St(t))return Rr(e,t,n);if(typeof r=="function")return Je(e,t,1,{transform:r});if(br(r))return Je(e,t,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,Ne(r)?Ne(e)&&Ne(t)?Js(e,t,r,s):ei(e,t,Math.max(Math.abs(r),1),s):r!=null&&!br(r)?Zs(r,s):Je(e,t,1,r)};Ar.exports=Je});var kr=k((Ya,Or)=>{"use strict";var ti=Et(),wr=Ye(),ri=(e,t={})=>{let r=(n,s={})=>{let i=wr.isInvalidBrace(s),o=n.invalid===!0&&t.escapeInvalid===!0,a=i===!0||o===!0,l=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return l+n.value;if(n.type==="open")return a?l+n.value:"(";if(n.type==="close")return a?l+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let u=wr.reduce(n.nodes),h=ti(...u,{...t,wrap:!1,toRegex:!0});if(h.length!==0)return u.length>1&&h.length>1?`(${h})`:h}if(n.nodes)for(let u of n.nodes)c+=r(u,n);return c};return r(e)};Or.exports=ri});var Pr=k((Za,Nr)=>{"use strict";var ni=Et(),Ir=Ze(),Ce=Ye(),be=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Ce.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(be(i,t,r));else for(let i of t)r===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?be(s,i,r):s+i);return Ce.flatten(n)},si=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,i={})=>{s.queue=[];let o=i,a=i.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(s.invalid||s.dollar){a.push(be(a.pop(),Ir(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(be(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let h=Ce.reduce(s.nodes);if(Ce.exceedsLimit(...h,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=ni(...h,t);d.length===0&&(d=Ir(s,t)),a.push(be(a.pop(),d)),s.nodes=[];return}let l=Ce.encloseBrace(s),c=s.queue,u=s;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,c=u.queue;for(let h=0;h<s.nodes.length;h++){let d=s.nodes[h];if(d.type==="comma"&&s.type==="brace"){h===1&&c.push(""),c.push("");continue}if(d.type==="close"){a.push(be(a.pop(),c,l));continue}if(d.value&&d.type!=="open"){c.push(be(c.pop(),d.value));continue}d.nodes&&n(d,s)}return c};return Ce.flatten(n(e))};Nr.exports=si});var Dr=k((Ja,Lr)=>{"use strict";Lr.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Fr=k((el,$r)=>{"use strict";var ii=Ze(),{MAX_LENGTH:Br,CHAR_BACKSLASH:Tt,CHAR_BACKTICK:oi,CHAR_COMMA:ai,CHAR_DOT:li,CHAR_LEFT_PARENTHESES:ui,CHAR_RIGHT_PARENTHESES:ci,CHAR_LEFT_CURLY_BRACE:fi,CHAR_RIGHT_CURLY_BRACE:pi,CHAR_LEFT_SQUARE_BRACKET:Hr,CHAR_RIGHT_SQUARE_BRACKET:Mr,CHAR_DOUBLE_QUOTE:di,CHAR_SINGLE_QUOTE:hi,CHAR_NO_BREAK_SPACE:gi,CHAR_ZERO_WIDTH_NOBREAK_SPACE:mi}=Dr(),_i=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Br,r.maxLength):Br;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},i=[s],o=s,a=s,l=0,c=e.length,u=0,h=0,d,E={},x=()=>e[u++],m=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(m({type:"bos"});u<c;)if(o=i[i.length-1],d=x(),!(d===mi||d===gi)){if(d===Tt){m({type:"text",value:(t.keepEscaping?d:"")+x()});continue}if(d===Mr){m({type:"text",value:"\\"+d});continue}if(d===Hr){l++;let b=!0,T;for(;u<c&&(T=x());){if(d+=T,T===Hr){l++;continue}if(T===Tt){d+=x();continue}if(T===Mr&&(l--,l===0))break}m({type:"text",value:d});continue}if(d===ui){o=m({type:"paren",nodes:[]}),i.push(o),m({type:"text",value:d});continue}if(d===ci){if(o.type!=="paren"){m({type:"text",value:d});continue}o=i.pop(),m({type:"text",value:d}),o=i[i.length-1];continue}if(d===di||d===hi||d===oi){let b=d,T;for(t.keepQuotes!==!0&&(d="");u<c&&(T=x());){if(T===Tt){d+=T+x();continue}if(T===b){t.keepQuotes===!0&&(d+=T);break}d+=T}m({type:"text",value:d});continue}if(d===fi){h++;let T={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};o=m(T),i.push(o),m({type:"open",value:d});continue}if(d===pi){if(o.type!=="brace"){m({type:"text",value:d});continue}let b="close";o=i.pop(),o.close=!0,m({type:b,value:d}),h--,o=i[i.length-1];continue}if(d===ai&&h>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:ii(o)}]}m({type:"comma",value:d}),o.commas++;continue}if(d===li&&h>0&&o.commas===0){let b=o.nodes;if(h===0||b.length===0){m({type:"text",value:d});continue}if(a.type==="dot"){if(o.range=[],a.value+=d,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let T=b[b.length-1];T.value+=a.value+d,a=T,o.ranges--;continue}m({type:"dot",value:d});continue}m({type:"text",value:d})}do if(o=i.pop(),o.type!=="root"){o.nodes.forEach(I=>{I.nodes||(I.type==="open"&&(I.isOpen=!0),I.type==="close"&&(I.isClose=!0),I.nodes||(I.type="text"),I.invalid=!0)});let b=i[i.length-1],T=b.nodes.indexOf(o);b.nodes.splice(T,1,...o.nodes)}while(i.length>0);return m({type:"eos"}),s};$r.exports=_i});var qr=k((tl,jr)=>{"use strict";var Ur=Ze(),yi=kr(),xi=Pr(),bi=Fr(),X=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=X.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(X.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};X.parse=(e,t={})=>bi(e,t);X.stringify=(e,t={})=>Ur(typeof e=="string"?X.parse(e,t):e,t);X.compile=(e,t={})=>(typeof e=="string"&&(e=X.parse(e,t)),yi(e,t));X.expand=(e,t={})=>{typeof e=="string"&&(e=X.parse(e,t));let r=xi(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};X.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?X.compile(e,t):X.expand(e,t);jr.exports=X});var Pe=k((rl,zr)=>{"use strict";var Si=C("path"),ie="\\\\/",Gr=`[^${ie}]`,ce="\\.",vi="\\+",Ei="\\?",et="\\/",Ti="(?=.)",Wr="[^/]",Ct=`(?:${et}|$)`,Vr=`(?:^|${et})`,Rt=`${ce}{1,2}${Ct}`,Ci=`(?!${ce})`,Ri=`(?!${Vr}${Rt})`,Ai=`(?!${ce}{0,1}${Ct})`,wi=`(?!${Rt})`,Oi=`[^.${et}]`,ki=`${Wr}*?`,Kr={DOT_LITERAL:ce,PLUS_LITERAL:vi,QMARK_LITERAL:Ei,SLASH_LITERAL:et,ONE_CHAR:Ti,QMARK:Wr,END_ANCHOR:Ct,DOTS_SLASH:Rt,NO_DOT:Ci,NO_DOTS:Ri,NO_DOT_SLASH:Ai,NO_DOTS_SLASH:wi,QMARK_NO_DOT:Oi,STAR:ki,START_ANCHOR:Vr},Ii={...Kr,SLASH_LITERAL:`[${ie}]`,QMARK:Gr,STAR:`${Gr}*?`,DOTS_SLASH:`${ce}{1,2}(?:[${ie}]|$)`,NO_DOT:`(?!${ce})`,NO_DOTS:`(?!(?:^|[${ie}])${ce}{1,2}(?:[${ie}]|$))`,NO_DOT_SLASH:`(?!${ce}{0,1}(?:[${ie}]|$))`,NO_DOTS_SLASH:`(?!${ce}{1,2}(?:[${ie}]|$))`,QMARK_NO_DOT:`[^.${ie}]`,START_ANCHOR:`(?:^|[${ie}])`,END_ANCHOR:`(?:[${ie}]|$)`},Ni={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};zr.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ni,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Si.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Ii:Kr}}});var Le=k(z=>{"use strict";var Pi=C("path"),Li=process.platform==="win32",{REGEX_BACKSLASH:Di,REGEX_REMOVE_BACKSLASH:Bi,REGEX_SPECIAL_CHARS:Hi,REGEX_SPECIAL_CHARS_GLOBAL:Mi}=Pe();z.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);z.hasRegexChars=e=>Hi.test(e);z.isRegexChar=e=>e.length===1&&z.hasRegexChars(e);z.escapeRegex=e=>e.replace(Mi,"\\$1");z.toPosixSlashes=e=>e.replace(Di,"/");z.removeBackslashes=e=>e.replace(Bi,t=>t==="\\"?"":t);z.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};z.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Li===!0||Pi.sep==="\\";z.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?z.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};z.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};z.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",i=`${n}(?:${e})${s}`;return t.negated===!0&&(i=`(?:^(?!${i}).*$)`),i}});var rn=k((sl,tn)=>{"use strict";var Qr=Le(),{CHAR_ASTERISK:At,CHAR_AT:$i,CHAR_BACKWARD_SLASH:De,CHAR_COMMA:Fi,CHAR_DOT:wt,CHAR_EXCLAMATION_MARK:Ot,CHAR_FORWARD_SLASH:en,CHAR_LEFT_CURLY_BRACE:kt,CHAR_LEFT_PARENTHESES:It,CHAR_LEFT_SQUARE_BRACKET:Ui,CHAR_PLUS:ji,CHAR_QUESTION_MARK:Xr,CHAR_RIGHT_CURLY_BRACE:qi,CHAR_RIGHT_PARENTHESES:Yr,CHAR_RIGHT_SQUARE_BRACKET:Gi}=Pe(),Zr=e=>e===en||e===De,Jr=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},Wi=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,i=[],o=[],a=[],l=e,c=-1,u=0,h=0,d=!1,E=!1,x=!1,m=!1,b=!1,T=!1,I=!1,N=!1,U=!1,$=!1,J=0,j,S,O={value:"",depth:0,isGlob:!1},G=()=>c>=n,g=()=>l.charCodeAt(c+1),D=()=>(j=S,l.charCodeAt(++c));for(;c<n;){S=D();let V;if(S===De){I=O.backslashes=!0,S=D(),S===kt&&(T=!0);continue}if(T===!0||S===kt){for(J++;G()!==!0&&(S=D());){if(S===De){I=O.backslashes=!0,D();continue}if(S===kt){J++;continue}if(T!==!0&&S===wt&&(S=D())===wt){if(d=O.isBrace=!0,x=O.isGlob=!0,$=!0,s===!0)continue;break}if(T!==!0&&S===Fi){if(d=O.isBrace=!0,x=O.isGlob=!0,$=!0,s===!0)continue;break}if(S===qi&&(J--,J===0)){T=!1,d=O.isBrace=!0,$=!0;break}}if(s===!0)continue;break}if(S===en){if(i.push(c),o.push(O),O={value:"",depth:0,isGlob:!1},$===!0)continue;if(j===wt&&c===u+1){u+=2;continue}h=c+1;continue}if(r.noext!==!0&&(S===ji||S===$i||S===At||S===Xr||S===Ot)===!0&&g()===It){if(x=O.isGlob=!0,m=O.isExtglob=!0,$=!0,S===Ot&&c===u&&(U=!0),s===!0){for(;G()!==!0&&(S=D());){if(S===De){I=O.backslashes=!0,S=D();continue}if(S===Yr){x=O.isGlob=!0,$=!0;break}}continue}break}if(S===At){if(j===At&&(b=O.isGlobstar=!0),x=O.isGlob=!0,$=!0,s===!0)continue;break}if(S===Xr){if(x=O.isGlob=!0,$=!0,s===!0)continue;break}if(S===Ui){for(;G()!==!0&&(V=D());){if(V===De){I=O.backslashes=!0,D();continue}if(V===Gi){E=O.isBracket=!0,x=O.isGlob=!0,$=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&S===Ot&&c===u){N=O.negated=!0,u++;continue}if(r.noparen!==!0&&S===It){if(x=O.isGlob=!0,s===!0){for(;G()!==!0&&(S=D());){if(S===It){I=O.backslashes=!0,S=D();continue}if(S===Yr){$=!0;break}}continue}break}if(x===!0){if($=!0,s===!0)continue;break}}r.noext===!0&&(m=!1,x=!1);let P=l,he="",f="";u>0&&(he=l.slice(0,u),l=l.slice(u),h-=u),P&&x===!0&&h>0?(P=l.slice(0,h),f=l.slice(h)):x===!0?(P="",f=l):P=l,P&&P!==""&&P!=="/"&&P!==l&&Zr(P.charCodeAt(P.length-1))&&(P=P.slice(0,-1)),r.unescape===!0&&(f&&(f=Qr.removeBackslashes(f)),P&&I===!0&&(P=Qr.removeBackslashes(P)));let p={prefix:he,input:e,start:u,base:P,glob:f,isBrace:d,isBracket:E,isGlob:x,isExtglob:m,isGlobstar:b,negated:N,negatedExtglob:U};if(r.tokens===!0&&(p.maxDepth=0,Zr(S)||o.push(O),p.tokens=o),r.parts===!0||r.tokens===!0){let V;for(let w=0;w<i.length;w++){let re=V?V+1:u,ne=i[w],Q=e.slice(re,ne);r.tokens&&(w===0&&u!==0?(o[w].isPrefix=!0,o[w].value=he):o[w].value=Q,Jr(o[w]),p.maxDepth+=o[w].depth),(w!==0||Q!=="")&&a.push(Q),V=ne}if(V&&V+1<e.length){let w=e.slice(V+1);a.push(w),r.tokens&&(o[o.length-1].value=w,Jr(o[o.length-1]),p.maxDepth+=o[o.length-1].depth)}p.slashes=i,p.parts=a}return p};tn.exports=Wi});var on=k((il,sn)=>{"use strict";var tt=Pe(),Y=Le(),{MAX_LENGTH:rt,POSIX_REGEX_SOURCE:Vi,REGEX_NON_SPECIAL_CHARS:Ki,REGEX_SPECIAL_CHARS_BACKREF:zi,REPLACEMENTS:nn}=tt,Qi=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>Y.escapeRegex(s)).join("..")}return r},Re=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Nt=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=nn[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(rt,r.maxLength):rt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:r.prepend||""},o=[i],a=r.capture?"":"?:",l=Y.isWindows(t),c=tt.globChars(l),u=tt.extglobChars(c),{DOT_LITERAL:h,PLUS_LITERAL:d,SLASH_LITERAL:E,ONE_CHAR:x,DOTS_SLASH:m,NO_DOT:b,NO_DOT_SLASH:T,NO_DOTS_SLASH:I,QMARK:N,QMARK_NO_DOT:U,STAR:$,START_ANCHOR:J}=c,j=y=>`(${a}(?:(?!${J}${y.dot?m:h}).)*?)`,S=r.dot?"":b,O=r.dot?N:U,G=r.bash===!0?j(r):$;r.capture&&(G=`(${G})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let g={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Y.removePrefix(e,g),s=e.length;let D=[],P=[],he=[],f=i,p,V=()=>g.index===s-1,w=g.peek=(y=1)=>e[g.index+y],re=g.advance=()=>e[++g.index]||"",ne=()=>e.slice(g.index+1),Q=(y="",L=0)=>{g.consumed+=y,g.index+=L},Ke=y=>{g.output+=y.output!=null?y.output:y.value,Q(y.value)},Ns=()=>{let y=1;for(;w()==="!"&&(w(2)!=="("||w(3)==="?");)re(),g.start++,y++;return y%2===0?!1:(g.negated=!0,g.start++,!0)},ze=y=>{g[y]++,he.push(y)},ye=y=>{g[y]--,he.pop()},A=y=>{if(f.type==="globstar"){let L=g.braces>0&&(y.type==="comma"||y.type==="brace"),_=y.extglob===!0||D.length&&(y.type==="pipe"||y.type==="paren");y.type!=="slash"&&y.type!=="paren"&&!L&&!_&&(g.output=g.output.slice(0,-f.output.length),f.type="star",f.value="*",f.output=G,g.output+=f.output)}if(D.length&&y.type!=="paren"&&(D[D.length-1].inner+=y.value),(y.value||y.output)&&Ke(y),f&&f.type==="text"&&y.type==="text"){f.value+=y.value,f.output=(f.output||"")+y.value;return}y.prev=f,o.push(y),f=y},Qe=(y,L)=>{let _={...u[L],conditions:1,inner:""};_.prev=f,_.parens=g.parens,_.output=g.output;let R=(r.capture?"(":"")+_.open;ze("parens"),A({type:y,value:L,output:g.output?"":x}),A({type:"paren",extglob:!0,value:re(),output:R}),D.push(_)},Ps=y=>{let L=y.close+(r.capture?")":""),_;if(y.type==="negate"){let R=G;if(y.inner&&y.inner.length>1&&y.inner.includes("/")&&(R=j(r)),(R!==G||V()||/^\)+$/.test(ne()))&&(L=y.close=`)$))${R}`),y.inner.includes("*")&&(_=ne())&&/^\.[^\\/.]+$/.test(_)){let H=Nt(_,{...t,fastpaths:!1}).output;L=y.close=`)${H})${R})`}y.prev.type==="bos"&&(g.negatedExtglob=!0)}A({type:"paren",extglob:!0,value:p,output:L}),ye("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let y=!1,L=e.replace(zi,(_,R,H,K,F,xt)=>K==="\\"?(y=!0,_):K==="?"?R?R+K+(F?N.repeat(F.length):""):xt===0?O+(F?N.repeat(F.length):""):N.repeat(H.length):K==="."?h.repeat(H.length):K==="*"?R?R+K+(F?G:""):G:R?_:`\\${_}`);return y===!0&&(r.unescape===!0?L=L.replace(/\\/g,""):L=L.replace(/\\+/g,_=>_.length%2===0?"\\\\":_?"\\":"")),L===e&&r.contains===!0?(g.output=e,g):(g.output=Y.wrapOutput(L,g,t),g)}for(;!V();){if(p=re(),p==="\0")continue;if(p==="\\"){let _=w();if(_==="/"&&r.bash!==!0||_==="."||_===";")continue;if(!_){p+="\\",A({type:"text",value:p});continue}let R=/^\\+/.exec(ne()),H=0;if(R&&R[0].length>2&&(H=R[0].length,g.index+=H,H%2!==0&&(p+="\\")),r.unescape===!0?p=re():p+=re(),g.brackets===0){A({type:"text",value:p});continue}}if(g.brackets>0&&(p!=="]"||f.value==="["||f.value==="[^")){if(r.posix!==!1&&p===":"){let _=f.value.slice(1);if(_.includes("[")&&(f.posix=!0,_.includes(":"))){let R=f.value.lastIndexOf("["),H=f.value.slice(0,R),K=f.value.slice(R+2),F=Vi[K];if(F){f.value=H+F,g.backtrack=!0,re(),!i.output&&o.indexOf(f)===1&&(i.output=x);continue}}}(p==="["&&w()!==":"||p==="-"&&w()==="]")&&(p=`\\${p}`),p==="]"&&(f.value==="["||f.value==="[^")&&(p=`\\${p}`),r.posix===!0&&p==="!"&&f.value==="["&&(p="^"),f.value+=p,Ke({value:p});continue}if(g.quotes===1&&p!=='"'){p=Y.escapeRegex(p),f.value+=p,Ke({value:p});continue}if(p==='"'){g.quotes=g.quotes===1?0:1,r.keepQuotes===!0&&A({type:"text",value:p});continue}if(p==="("){ze("parens"),A({type:"paren",value:p});continue}if(p===")"){if(g.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Re("opening","("));let _=D[D.length-1];if(_&&g.parens===_.parens+1){Ps(D.pop());continue}A({type:"paren",value:p,output:g.parens?")":"\\)"}),ye("parens");continue}if(p==="["){if(r.nobracket===!0||!ne().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Re("closing","]"));p=`\\${p}`}else ze("brackets");A({type:"bracket",value:p});continue}if(p==="]"){if(r.nobracket===!0||f&&f.type==="bracket"&&f.value.length===1){A({type:"text",value:p,output:`\\${p}`});continue}if(g.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Re("opening","["));A({type:"text",value:p,output:`\\${p}`});continue}ye("brackets");let _=f.value.slice(1);if(f.posix!==!0&&_[0]==="^"&&!_.includes("/")&&(p=`/${p}`),f.value+=p,Ke({value:p}),r.literalBrackets===!1||Y.hasRegexChars(_))continue;let R=Y.escapeRegex(f.value);if(g.output=g.output.slice(0,-f.value.length),r.literalBrackets===!0){g.output+=R,f.value=R;continue}f.value=`(${a}${R}|${f.value})`,g.output+=f.value;continue}if(p==="{"&&r.nobrace!==!0){ze("braces");let _={type:"brace",value:p,output:"(",outputIndex:g.output.length,tokensIndex:g.tokens.length};P.push(_),A(_);continue}if(p==="}"){let _=P[P.length-1];if(r.nobrace===!0||!_){A({type:"text",value:p,output:p});continue}let R=")";if(_.dots===!0){let H=o.slice(),K=[];for(let F=H.length-1;F>=0&&(o.pop(),H[F].type!=="brace");F--)H[F].type!=="dots"&&K.unshift(H[F].value);R=Qi(K,r),g.backtrack=!0}if(_.comma!==!0&&_.dots!==!0){let H=g.output.slice(0,_.outputIndex),K=g.tokens.slice(_.tokensIndex);_.value=_.output="\\{",p=R="\\}",g.output=H;for(let F of K)g.output+=F.output||F.value}A({type:"brace",value:p,output:R}),ye("braces"),P.pop();continue}if(p==="|"){D.length>0&&D[D.length-1].conditions++,A({type:"text",value:p});continue}if(p===","){let _=p,R=P[P.length-1];R&&he[he.length-1]==="braces"&&(R.comma=!0,_="|"),A({type:"comma",value:p,output:_});continue}if(p==="/"){if(f.type==="dot"&&g.index===g.start+1){g.start=g.index+1,g.consumed="",g.output="",o.pop(),f=i;continue}A({type:"slash",value:p,output:E});continue}if(p==="."){if(g.braces>0&&f.type==="dot"){f.value==="."&&(f.output=h);let _=P[P.length-1];f.type="dots",f.output+=p,f.value+=p,_.dots=!0;continue}if(g.braces+g.parens===0&&f.type!=="bos"&&f.type!=="slash"){A({type:"text",value:p,output:h});continue}A({type:"dot",value:p,output:h});continue}if(p==="?"){if(!(f&&f.value==="(")&&r.noextglob!==!0&&w()==="("&&w(2)!=="?"){Qe("qmark",p);continue}if(f&&f.type==="paren"){let R=w(),H=p;if(R==="<"&&!Y.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(f.value==="("&&!/[!=<:]/.test(R)||R==="<"&&!/<([!=]|\w+>)/.test(ne()))&&(H=`\\${p}`),A({type:"text",value:p,output:H});continue}if(r.dot!==!0&&(f.type==="slash"||f.type==="bos")){A({type:"qmark",value:p,output:U});continue}A({type:"qmark",value:p,output:N});continue}if(p==="!"){if(r.noextglob!==!0&&w()==="("&&(w(2)!=="?"||!/[!=<:]/.test(w(3)))){Qe("negate",p);continue}if(r.nonegate!==!0&&g.index===0){Ns();continue}}if(p==="+"){if(r.noextglob!==!0&&w()==="("&&w(2)!=="?"){Qe("plus",p);continue}if(f&&f.value==="("||r.regex===!1){A({type:"plus",value:p,output:d});continue}if(f&&(f.type==="bracket"||f.type==="paren"||f.type==="brace")||g.parens>0){A({type:"plus",value:p});continue}A({type:"plus",value:d});continue}if(p==="@"){if(r.noextglob!==!0&&w()==="("&&w(2)!=="?"){A({type:"at",extglob:!0,value:p,output:""});continue}A({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);let _=Ki.exec(ne());_&&(p+=_[0],g.index+=_[0].length),A({type:"text",value:p});continue}if(f&&(f.type==="globstar"||f.star===!0)){f.type="star",f.star=!0,f.value+=p,f.output=G,g.backtrack=!0,g.globstar=!0,Q(p);continue}let y=ne();if(r.noextglob!==!0&&/^\([^?]/.test(y)){Qe("star",p);continue}if(f.type==="star"){if(r.noglobstar===!0){Q(p);continue}let _=f.prev,R=_.prev,H=_.type==="slash"||_.type==="bos",K=R&&(R.type==="star"||R.type==="globstar");if(r.bash===!0&&(!H||y[0]&&y[0]!=="/")){A({type:"star",value:p,output:""});continue}let F=g.braces>0&&(_.type==="comma"||_.type==="brace"),xt=D.length&&(_.type==="pipe"||_.type==="paren");if(!H&&_.type!=="paren"&&!F&&!xt){A({type:"star",value:p,output:""});continue}for(;y.slice(0,3)==="/**";){let Xe=e[g.index+4];if(Xe&&Xe!=="/")break;y=y.slice(3),Q("/**",3)}if(_.type==="bos"&&V()){f.type="globstar",f.value+=p,f.output=j(r),g.output=f.output,g.globstar=!0,Q(p);continue}if(_.type==="slash"&&_.prev.type!=="bos"&&!K&&V()){g.output=g.output.slice(0,-(_.output+f.output).length),_.output=`(?:${_.output}`,f.type="globstar",f.output=j(r)+(r.strictSlashes?")":"|$)"),f.value+=p,g.globstar=!0,g.output+=_.output+f.output,Q(p);continue}if(_.type==="slash"&&_.prev.type!=="bos"&&y[0]==="/"){let Xe=y[1]!==void 0?"|$":"";g.output=g.output.slice(0,-(_.output+f.output).length),_.output=`(?:${_.output}`,f.type="globstar",f.output=`${j(r)}${E}|${E}${Xe})`,f.value+=p,g.output+=_.output+f.output,g.globstar=!0,Q(p+re()),A({type:"slash",value:"/",output:""});continue}if(_.type==="bos"&&y[0]==="/"){f.type="globstar",f.value+=p,f.output=`(?:^|${E}|${j(r)}${E})`,g.output=f.output,g.globstar=!0,Q(p+re()),A({type:"slash",value:"/",output:""});continue}g.output=g.output.slice(0,-f.output.length),f.type="globstar",f.output=j(r),f.value+=p,g.output+=f.output,g.globstar=!0,Q(p);continue}let L={type:"star",value:p,output:G};if(r.bash===!0){L.output=".*?",(f.type==="bos"||f.type==="slash")&&(L.output=S+L.output),A(L);continue}if(f&&(f.type==="bracket"||f.type==="paren")&&r.regex===!0){L.output=p,A(L);continue}(g.index===g.start||f.type==="slash"||f.type==="dot")&&(f.type==="dot"?(g.output+=T,f.output+=T):r.dot===!0?(g.output+=I,f.output+=I):(g.output+=S,f.output+=S),w()!=="*"&&(g.output+=x,f.output+=x)),A(L)}for(;g.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Re("closing","]"));g.output=Y.escapeLast(g.output,"["),ye("brackets")}for(;g.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Re("closing",")"));g.output=Y.escapeLast(g.output,"("),ye("parens")}for(;g.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Re("closing","}"));g.output=Y.escapeLast(g.output,"{"),ye("braces")}if(r.strictSlashes!==!0&&(f.type==="star"||f.type==="bracket")&&A({type:"maybe_slash",value:"",output:`${E}?`}),g.backtrack===!0){g.output="";for(let y of g.tokens)g.output+=y.output!=null?y.output:y.value,y.suffix&&(g.output+=y.suffix)}return g};Nt.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(rt,r.maxLength):rt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=nn[e]||e;let i=Y.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:h,NO_DOTS_SLASH:d,STAR:E,START_ANCHOR:x}=tt.globChars(i),m=r.dot?h:u,b=r.dot?d:u,T=r.capture?"":"?:",I={negated:!1,prefix:""},N=r.bash===!0?".*?":E;r.capture&&(N=`(${N})`);let U=S=>S.noglobstar===!0?N:`(${T}(?:(?!${x}${S.dot?c:o}).)*?)`,$=S=>{switch(S){case"*":return`${m}${l}${N}`;case".*":return`${o}${l}${N}`;case"*.*":return`${m}${N}${o}${l}${N}`;case"*/*":return`${m}${N}${a}${l}${b}${N}`;case"**":return m+U(r);case"**/*":return`(?:${m}${U(r)}${a})?${b}${l}${N}`;case"**/*.*":return`(?:${m}${U(r)}${a})?${b}${N}${o}${l}${N}`;case"**/.*":return`(?:${m}${U(r)}${a})?${o}${l}${N}`;default:{let O=/^(.*?)\.(\w+)$/.exec(S);if(!O)return;let G=$(O[1]);return G?G+o+O[2]:void 0}}},J=Y.removePrefix(e,I),j=$(J);return j&&r.strictSlashes!==!0&&(j+=`${a}?`),j};sn.exports=Nt});var ln=k((ol,an)=>{"use strict";var Xi=C("path"),Yi=rn(),Pt=on(),Lt=Le(),Zi=Pe(),Ji=e=>e&&typeof e=="object"&&!Array.isArray(e),M=(e,t,r=!1)=>{if(Array.isArray(e)){let u=e.map(d=>M(d,t,r));return d=>{for(let E of u){let x=E(d);if(x)return x}return!1}}let n=Ji(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},i=Lt.isWindows(t),o=n?M.compileRe(e,t):M.makeRe(e,t,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(s.ignore){let u={...t,ignore:null,onMatch:null,onResult:null};l=M(s.ignore,u,r)}let c=(u,h=!1)=>{let{isMatch:d,match:E,output:x}=M.test(u,o,t,{glob:e,posix:i}),m={glob:e,state:a,regex:o,posix:i,input:u,output:x,match:E,isMatch:d};return typeof s.onResult=="function"&&s.onResult(m),d===!1?(m.isMatch=!1,h?m:!1):l(u)?(typeof s.onIgnore=="function"&&s.onIgnore(m),m.isMatch=!1,h?m:!1):(typeof s.onMatch=="function"&&s.onMatch(m),h?m:!0)};return r&&(c.state=a),c};M.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let i=r||{},o=i.format||(s?Lt.toPosixSlashes:null),a=e===n,l=a&&o?o(e):e;return a===!1&&(l=o?o(e):e,a=l===n),(a===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?a=M.matchBase(e,t,r,s):a=t.exec(l)),{isMatch:Boolean(a),match:a,output:l}};M.matchBase=(e,t,r,n=Lt.isWindows(r))=>(t instanceof RegExp?t:M.makeRe(t,r)).test(Xi.basename(e));M.isMatch=(e,t,r)=>M(t,r)(e);M.parse=(e,t)=>Array.isArray(e)?e.map(r=>M.parse(r,t)):Pt(e,{...t,fastpaths:!1});M.scan=(e,t)=>Yi(e,t);M.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},i=s.contains?"":"^",o=s.contains?"":"$",a=`${i}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let l=M.toRegex(a,t);return n===!0&&(l.state=e),l};M.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=Pt.fastpaths(e,t)),s.output||(s=Pt(e,t)),M.compileRe(s,t,r,n)};M.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};M.constants=Zi;an.exports=M});var cn=k((al,un)=>{"use strict";un.exports=ln()});var gn=k((ll,hn)=>{"use strict";var pn=C("util"),dn=qr(),oe=cn(),Dt=Le(),fn=e=>e===""||e==="./",B=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,i=new Set,o=0,a=u=>{i.add(u.output),r&&r.onResult&&r.onResult(u)};for(let u=0;u<t.length;u++){let h=oe(String(t[u]),{...r,onResult:a},!0),d=h.state.negated||h.state.negatedExtglob;d&&o++;for(let E of e){let x=h(E,!0);(d?!x.isMatch:x.isMatch)&&(d?n.add(x.output):(n.delete(x.output),s.add(x.output)))}}let c=(o===t.length?[...i]:[...s]).filter(u=>!n.has(u));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(u=>u.replace(/\\/g,"")):t}return c};B.match=B;B.matcher=(e,t)=>oe(e,t);B.isMatch=(e,t,r)=>oe(t,r)(e);B.any=B.isMatch;B.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],i=a=>{r.onResult&&r.onResult(a),s.push(a.output)},o=new Set(B(e,t,{...r,onResult:i}));for(let a of s)o.has(a)||n.add(a);return[...n]};B.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${pn.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>B.contains(e,n,r));if(typeof t=="string"){if(fn(e)||fn(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return B.isMatch(e,t,{...r,contains:!0})};B.matchKeys=(e,t,r)=>{if(!Dt.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=B(Object.keys(e),t,r),s={};for(let i of n)s[i]=e[i];return s};B.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let i=oe(String(s),r);if(n.some(o=>i(o)))return!0}return!1};B.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let i=oe(String(s),r);if(!n.every(o=>i(o)))return!1}return!0};B.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${pn.inspect(e)}"`);return[].concat(t).every(n=>oe(n,r)(e))};B.capture=(e,t,r)=>{let n=Dt.isWindows(r),i=oe.makeRe(String(e),{...r,capture:!0}).exec(n?Dt.toPosixSlashes(t):t);if(i)return i.slice(1).map(o=>o===void 0?"":o)};B.makeRe=(...e)=>oe.makeRe(...e);B.scan=(...e)=>oe.scan(...e);B.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of dn(String(n),t))r.push(oe.parse(s,t));return r};B.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:dn(e,t)};B.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return B.braces(e,{...t,expand:!0})};hn.exports=B});var xn=k((pl,yn)=>{"use strict";var{Duplex:ro}=C("stream");function mn(e){e.emit("close")}function no(){!this.destroyed&&this._writableState.finished&&this.destroy()}function _n(e){this.removeListener("error",_n),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function so(e,t){let r=!0,n=new ro({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(i,o){let a=!o&&n._readableState.objectMode?i.toString():i;n.push(a)||e.pause()}),e.once("error",function(i){n.destroyed||(r=!1,n.destroy(i))}),e.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,i){if(e.readyState===e.CLOSED){i(s),process.nextTick(mn,n);return}let o=!1;e.once("error",function(l){o=!0,i(l)}),e.once("close",function(){o||i(s),process.nextTick(mn,n)}),r&&e.terminate()},n._final=function(s){if(e.readyState===e.CONNECTING){e.once("open",function(){n._final(s)});return}e._socket!==null&&(e._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(e._socket.once("finish",function(){s()}),e.close()))},n._read=function(){e.isPaused&&e.resume()},n._write=function(s,i,o){if(e.readyState===e.CONNECTING){e.once("open",function(){n._write(s,i,o)});return}e.send(s,o)},n.on("end",no),n.on("error",_n),n}yn.exports=so});var ge=k((dl,bn)=>{"use strict";bn.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Be=k((hl,nt)=>{"use strict";var{EMPTY_BUFFER:io}=ge(),Bt=Buffer[Symbol.species];function oo(e,t){if(e.length===0)return io;if(e.length===1)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let s=0;s<e.length;s++){let i=e[s];r.set(i,n),n+=i.length}return n<t?new Bt(r.buffer,r.byteOffset,n):r}function Sn(e,t,r,n,s){for(let i=0;i<s;i++)r[n+i]=e[i]^t[i&3]}function vn(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r&3]}function ao(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)}function Ht(e){if(Ht.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=new Bt(e):ArrayBuffer.isView(e)?t=new Bt(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),Ht.readOnly=!1),t}nt.exports={concat:oo,mask:Sn,toArrayBuffer:ao,toBuffer:Ht,unmask:vn};if(!process.env.WS_NO_BUFFER_UTIL)try{let e=C("bufferutil");nt.exports.mask=function(t,r,n,s,i){i<48?Sn(t,r,n,s,i):e.mask(t,r,n,s,i)},nt.exports.unmask=function(t,r){t.length<32?vn(t,r):e.unmask(t,r)}}catch{}});var Cn=k((gl,Tn)=>{"use strict";var En=Symbol("kDone"),Mt=Symbol("kRun"),$t=class{constructor(t){this[En]=()=>{this.pending--,this[Mt]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Mt]()}[Mt](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[En])}}};Tn.exports=$t});var $e=k((ml,On)=>{"use strict";var He=C("zlib"),Rn=Be(),lo=Cn(),{kStatusCode:An}=ge(),uo=Buffer[Symbol.species],co=Buffer.from([0,0,255,255]),ot=Symbol("permessage-deflate"),fe=Symbol("total-length"),Me=Symbol("callback"),me=Symbol("buffers"),it=Symbol("error"),st,Ft=class{constructor(t,r,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!st){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;st=new lo(s)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[Me];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let r=this._options,n=t.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let r=t[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(t){return t.forEach(r=>{Object.keys(r).forEach(n=>{let s=r[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=s})}),t}decompress(t,r,n){st.add(s=>{this._decompress(t,r,(i,o)=>{s(),n(i,o)})})}compress(t,r,n){st.add(s=>{this._compress(t,r,(i,o)=>{s(),n(i,o)})})}_decompress(t,r,n){let s=this._isServer?"client":"server";if(!this._inflate){let i=`${s}_max_window_bits`,o=typeof this.params[i]!="number"?He.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=He.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[ot]=this,this._inflate[fe]=0,this._inflate[me]=[],this._inflate.on("error",po),this._inflate.on("data",wn)}this._inflate[Me]=n,this._inflate.write(t),r&&this._inflate.write(co),this._inflate.flush(()=>{let i=this._inflate[it];if(i){this._inflate.close(),this._inflate=null,n(i);return}let o=Rn.concat(this._inflate[me],this._inflate[fe]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[fe]=0,this._inflate[me]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,o)})}_compress(t,r,n){let s=this._isServer?"server":"client";if(!this._deflate){let i=`${s}_max_window_bits`,o=typeof this.params[i]!="number"?He.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=He.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[fe]=0,this._deflate[me]=[],this._deflate.on("data",fo)}this._deflate[Me]=n,this._deflate.write(t),this._deflate.flush(He.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=Rn.concat(this._deflate[me],this._deflate[fe]);r&&(i=new uo(i.buffer,i.byteOffset,i.length-4)),this._deflate[Me]=null,this._deflate[fe]=0,this._deflate[me]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,i)})}};On.exports=Ft;function fo(e){this[me].push(e),this[fe]+=e.length}function wn(e){if(this[fe]+=e.length,this[ot]._maxPayload<1||this[fe]<=this[ot]._maxPayload){this[me].push(e);return}this[it]=new RangeError("Max payload size exceeded"),this[it].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[it][An]=1009,this.removeListener("data",wn),this.reset()}function po(e){this[ot]._inflate=null,e[An]=1007,this[Me](e)}});var Fe=k((_l,at)=>{"use strict";var{isUtf8:kn}=C("buffer"),ho=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function go(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function Ut(e){let t=e.length,r=0;for(;r<t;)if(!(e[r]&128))r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}at.exports={isValidStatusCode:go,isValidUTF8:Ut,tokenChars:ho};if(kn)at.exports.isValidUTF8=function(e){return e.length<24?Ut(e):kn(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=C("utf-8-validate");at.exports.isValidUTF8=function(t){return t.length<32?Ut(t):e(t)}}catch{}});var Vt=k((yl,Mn)=>{"use strict";var{Writable:mo}=C("stream"),In=$e(),{BINARY_TYPES:_o,EMPTY_BUFFER:Nn,kStatusCode:yo,kWebSocket:xo}=ge(),{concat:jt,toArrayBuffer:bo,unmask:So}=Be(),{isValidStatusCode:vo,isValidUTF8:Pn}=Fe(),lt=Buffer[Symbol.species],Eo=Promise.resolve(),To=typeof queueMicrotask=="function"?queueMicrotask:Co,Ae=0,Ln=1,Dn=2,Bn=3,qt=4,Hn=5,Gt=6,Wt=class extends mo{constructor(t={}){super(),this._binaryType=t.binaryType||_o[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[xo]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Ae,this._loop=!1}_write(t,r,n){if(this._opcode===8&&this._state==Ae)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new lt(n.buffer,n.byteOffset+t,n.length-t),new lt(n.buffer,n.byteOffset,t)}let r=Buffer.allocUnsafe(t);do{let n=this._buffers[0],s=r.length-t;t>=n.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=new lt(n.buffer,n.byteOffset+t,n.length-t)),t-=n.length}while(t>0);return r}startLoop(t){let r;this._loop=!0;do switch(this._state){case Ae:r=this.getInfo();break;case Ln:r=this.getPayloadLength16();break;case Dn:r=this.getPayloadLength64();break;case Bn:this.getMask();break;case qt:r=this.getData(t);break;case Hn:this._loop=!1;return;default:this._loop=!1,To(()=>{this._state=Ae,this.startLoop(t)});return}while(this._loop);t(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48)return this._loop=!1,q(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(t[0]&64)===64;if(r&&!this._extensions[In.extensionName])return this._loop=!1,q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(r)return this._loop=!1,q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,q(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,q(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,q(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,q(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,q(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,q(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,q(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,q(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Ln;else if(this._payloadLength===127)this._state=Dn;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,q(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,q(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Bn:this._state=qt}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=qt}getData(t){let r=Nn;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&So(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=Hn,this.decompress(r,t);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(t,r){this._extensions[In.extensionName].decompress(t,this._fin,(s,i)=>{if(s)return r(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(q(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(i)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=jt(r,t):this._binaryType==="arraybuffer"?n=bo(jt(r,t)):n=r,this.emit("message",n,!0)}else{let n=jt(r,t);if(!this._skipUTF8Validation&&!Pn(n))return this._loop=!1,q(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=Gt}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,Nn),this.end(),this._state=Ae;else{let r=t.readUInt16BE(0);if(!vo(r))return q(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new lt(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!Pn(n))return q(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end(),this._state=Ae}else this._opcode===9?(this.emit("ping",t),this._state=Gt):(this.emit("pong",t),this._state=Gt)}};Mn.exports=Wt;function q(e,t,r,n,s){let i=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,q),i.code=s,i[yo]=n,i}function Co(e){Eo.then(e).catch(Ao)}function Ro(e){throw e}function Ao(e){process.nextTick(Ro,e)}});var Kt=k((bl,Un)=>{"use strict";var{Duplex:xl}=C("stream"),{randomFillSync:wo}=C("crypto"),$n=$e(),{EMPTY_BUFFER:Oo}=ge(),{isValidStatusCode:ko}=Fe(),{mask:Fn,toBuffer:we}=Be(),te=Symbol("kByteLength"),Io=Buffer.alloc(4),ae=class{constructor(t,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,r){let n,s=!1,i=2,o=!1;r.mask&&(n=r.maskBuffer||Io,r.generateMask?r.generateMask(n):wo(n,0,4),o=(n[0]|n[1]|n[2]|n[3])===0,i=6);let a;typeof t=="string"?(!r.mask||o)&&r[te]!==void 0?a=r[te]:(t=Buffer.from(t),a=t.length):(a=t.length,s=r.mask&&r.readOnly&&!o);let l=a;a>=65536?(i+=8,l=127):a>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(s?a+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(a,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[i-4]=n[0],c[i-3]=n[1],c[i-2]=n[2],c[i-1]=n[3],o?[c,t]:s?(Fn(t,n,c,i,a),[c]):(Fn(t,n,t,0,a),[c,t])):[c,t]}close(t,r,n,s){let i;if(t===void 0)i=Oo;else{if(typeof t!="number"||!ko(t))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+a),i.writeUInt16BE(t,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let o={[te]:i.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,o,s]):this.sendFrame(ae.frame(i,o),s)}ping(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):(t=we(t),s=t.length,i=we.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[te]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(ae.frame(t,o),n)}pong(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):(t=we(t),s=t.length,i=we.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[te]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(ae.frame(t,o),n)}send(t,r,n){let s=this._extensions[$n.extensionName],i=r.binary?2:1,o=r.compress,a,l;if(typeof t=="string"?(a=Buffer.byteLength(t),l=!1):(t=we(t),a=t.length,l=we.readOnly),this._firstFragment?(this._firstFragment=!1,o&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=s._threshold),this._compress=o):(o=!1,i=0),r.fin&&(this._firstFragment=!0),s){let c={[te]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:o};this._deflating?this.enqueue([this.dispatch,t,this._compress,c,n]):this.dispatch(t,this._compress,c,n)}else this.sendFrame(ae.frame(t,{[te]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:!1}),n)}dispatch(t,r,n,s){if(!r){this.sendFrame(ae.frame(t,n),s);return}let i=this._extensions[$n.extensionName];this._bufferedBytes+=n[te],this._deflating=!0,i.compress(t,n.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let c=0;c<this._queue.length;c++){let u=this._queue[c],h=u[u.length-1];typeof h=="function"&&h(l)}return}this._bufferedBytes-=n[te],this._deflating=!1,n.readOnly=!1,this.sendFrame(ae.frame(a,n),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][te],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][te],this._queue.push(t)}sendFrame(t,r){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],r),this._socket.uncork()):this._socket.write(t[0],r)}};Un.exports=ae});var Xn=k((Sl,Qn)=>{"use strict";var{kForOnEventAttribute:Ue,kListener:zt}=ge(),jn=Symbol("kCode"),qn=Symbol("kData"),Gn=Symbol("kError"),Wn=Symbol("kMessage"),Vn=Symbol("kReason"),Oe=Symbol("kTarget"),Kn=Symbol("kType"),zn=Symbol("kWasClean"),pe=class{constructor(t){this[Oe]=null,this[Kn]=t}get target(){return this[Oe]}get type(){return this[Kn]}};Object.defineProperty(pe.prototype,"target",{enumerable:!0});Object.defineProperty(pe.prototype,"type",{enumerable:!0});var Se=class extends pe{constructor(t,r={}){super(t),this[jn]=r.code===void 0?0:r.code,this[Vn]=r.reason===void 0?"":r.reason,this[zn]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[jn]}get reason(){return this[Vn]}get wasClean(){return this[zn]}};Object.defineProperty(Se.prototype,"code",{enumerable:!0});Object.defineProperty(Se.prototype,"reason",{enumerable:!0});Object.defineProperty(Se.prototype,"wasClean",{enumerable:!0});var ke=class extends pe{constructor(t,r={}){super(t),this[Gn]=r.error===void 0?null:r.error,this[Wn]=r.message===void 0?"":r.message}get error(){return this[Gn]}get message(){return this[Wn]}};Object.defineProperty(ke.prototype,"error",{enumerable:!0});Object.defineProperty(ke.prototype,"message",{enumerable:!0});var je=class extends pe{constructor(t,r={}){super(t),this[qn]=r.data===void 0?null:r.data}get data(){return this[qn]}};Object.defineProperty(je.prototype,"data",{enumerable:!0});var No={addEventListener(e,t,r={}){for(let s of this.listeners(e))if(!r[Ue]&&s[zt]===t&&!s[Ue])return;let n;if(e==="message")n=function(i,o){let a=new je("message",{data:o?i:i.toString()});a[Oe]=this,ut(t,this,a)};else if(e==="close")n=function(i,o){let a=new Se("close",{code:i,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Oe]=this,ut(t,this,a)};else if(e==="error")n=function(i){let o=new ke("error",{error:i,message:i.message});o[Oe]=this,ut(t,this,o)};else if(e==="open")n=function(){let i=new pe("open");i[Oe]=this,ut(t,this,i)};else return;n[Ue]=!!r[Ue],n[zt]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[zt]===t&&!r[Ue]){this.removeListener(e,r);break}}};Qn.exports={CloseEvent:Se,ErrorEvent:ke,Event:pe,EventTarget:No,MessageEvent:je};function ut(e,t,r){typeof e=="object"&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}});var Qt=k((vl,Yn)=>{"use strict";var{tokenChars:qe}=Fe();function le(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function Po(e){let t=Object.create(null),r=Object.create(null),n=!1,s=!1,i=!1,o,a,l=-1,c=-1,u=-1,h=0;for(;h<e.length;h++)if(c=e.charCodeAt(h),o===void 0)if(u===-1&&qe[c]===1)l===-1&&(l=h);else if(h!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=h);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h);let E=e.slice(l,u);c===44?(le(t,E,r),r=Object.create(null)):o=E,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);else if(a===void 0)if(u===-1&&qe[c]===1)l===-1&&(l=h);else if(c===32||c===9)u===-1&&l!==-1&&(u=h);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h),le(r,e.slice(l,u),!0),c===44&&(le(t,o,r),r=Object.create(null),o=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)a=e.slice(l,h),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(s){if(qe[c]!==1)throw new SyntaxError(`Unexpected character at index ${h}`);l===-1?l=h:n||(n=!0),s=!1}else if(i)if(qe[c]===1)l===-1&&(l=h);else if(c===34&&l!==-1)i=!1,u=h;else if(c===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(c===34&&e.charCodeAt(h-1)===61)i=!0;else if(u===-1&&qe[c]===1)l===-1&&(l=h);else if(l!==-1&&(c===32||c===9))u===-1&&(u=h);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);u===-1&&(u=h);let E=e.slice(l,u);n&&(E=E.replace(/\\/g,""),n=!1),le(r,a,E),c===44&&(le(t,o,r),r=Object.create(null),o=void 0),a=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${h}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=h);let d=e.slice(l,u);return o===void 0?le(t,d,r):(a===void 0?le(r,d,!0):n?le(r,a,d.replace(/\\/g,"")):le(r,a,d),le(t,o,r)),t}function Lo(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(n=>[t].concat(Object.keys(n).map(s=>{let i=n[s];return Array.isArray(i)||(i=[i]),i.map(o=>o===!0?s:`${s}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Yn.exports={format:Lo,parse:Po}});var er=k((Cl,ls)=>{"use strict";var Do=C("events"),Bo=C("https"),Ho=C("http"),es=C("net"),Mo=C("tls"),{randomBytes:$o,createHash:Fo}=C("crypto"),{Duplex:El,Readable:Tl}=C("stream"),{URL:Xt}=C("url"),_e=$e(),Uo=Vt(),jo=Kt(),{BINARY_TYPES:Zn,EMPTY_BUFFER:ct,GUID:qo,kForOnEventAttribute:Yt,kListener:Go,kStatusCode:Wo,kWebSocket:W,NOOP:ts}=ge(),{EventTarget:{addEventListener:Vo,removeEventListener:Ko}}=Xn(),{format:zo,parse:Qo}=Qt(),{toBuffer:Xo}=Be(),Yo=30*1e3,rs=Symbol("kAborted"),Zt=[8,13],de=["CONNECTING","OPEN","CLOSING","CLOSED"],Zo=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,v=class extends Do{constructor(t,r,n){super(),this._binaryType=Zn[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=ct,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=v.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),ns(this,t,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){Zn.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){let s=new Uo({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new jo(t,this._extensions,n.generateMask),this._receiver=s,this._socket=t,s[W]=this,t[W]=this,s.on("conclude",ta),s.on("drain",ra),s.on("error",na),s.on("message",sa),s.on("ping",ia),s.on("pong",oa),t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",is),t.on("data",pt),t.on("end",os),t.on("error",as),this._readyState=v.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=v.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[_e.extensionName]&&this._extensions[_e.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=v.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==v.CLOSED){if(this.readyState===v.CONNECTING){let n="WebSocket was closed before the connection was established";Z(this,this._req,n);return}if(this.readyState===v.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=v.CLOSING,this._sender.close(t,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Yo)}}pause(){this.readyState===v.CONNECTING||this.readyState===v.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===v.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==v.OPEN){Jt(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(t||ct,r,n)}pong(t,r,n){if(this.readyState===v.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==v.OPEN){Jt(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(t||ct,r,n)}resume(){this.readyState===v.CONNECTING||this.readyState===v.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===v.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof t=="number"&&(t=t.toString()),this.readyState!==v.OPEN){Jt(this,t,n);return}let s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[_e.extensionName]||(s.compress=!1),this._sender.send(t||ct,s,n)}terminate(){if(this.readyState!==v.CLOSED){if(this.readyState===v.CONNECTING){let t="WebSocket was closed before the connection was established";Z(this,this._req,t);return}this._socket&&(this._readyState=v.CLOSING,this._socket.destroy())}}};Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:de.indexOf("CONNECTING")});Object.defineProperty(v.prototype,"CONNECTING",{enumerable:!0,value:de.indexOf("CONNECTING")});Object.defineProperty(v,"OPEN",{enumerable:!0,value:de.indexOf("OPEN")});Object.defineProperty(v.prototype,"OPEN",{enumerable:!0,value:de.indexOf("OPEN")});Object.defineProperty(v,"CLOSING",{enumerable:!0,value:de.indexOf("CLOSING")});Object.defineProperty(v.prototype,"CLOSING",{enumerable:!0,value:de.indexOf("CLOSING")});Object.defineProperty(v,"CLOSED",{enumerable:!0,value:de.indexOf("CLOSED")});Object.defineProperty(v.prototype,"CLOSED",{enumerable:!0,value:de.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(v.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(v.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[Yt])return t[Go];return null},set(t){for(let r of this.listeners(e))if(r[Yt]){this.removeListener(e,r);break}typeof t=="function"&&this.addEventListener(e,t,{[Yt]:!0})}})});v.prototype.addEventListener=Vo;v.prototype.removeEventListener=Ko;ls.exports=v;function ns(e,t,r,n){let s={protocolVersion:Zt[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!Zt.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Zt.join(", ")})`);let i;if(t instanceof Xt)i=t;else try{i=new Xt(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),e._url=i.href;let o=i.protocol==="wss:",a=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!o&&!a?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let m=new SyntaxError(l);if(e._redirects===0)throw m;ft(e,m);return}let c=o?443:80,u=$o(16).toString("base64"),h=o?Bo.request:Ho.request,d=new Set,E;if(s.createConnection=o?ea:Jo,s.defaultPort=s.defaultPort||c,s.port=i.port||c,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(E=new _e(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=zo({[_e.extensionName]:E.offer()})),r.length){for(let m of r){if(typeof m!="string"||!Zo.test(m)||d.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(m)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),a){let m=s.path.split(":");s.socketPath=m[0],s.path=m[1]}let x;if(s.followRedirects){if(e._redirects===0){e._originalIpc=a,e._originalSecure=o,e._originalHostOrSocketPath=a?s.socketPath:i.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[b,T]of Object.entries(m))n.headers[b.toLowerCase()]=T}else if(e.listenerCount("redirect")===0){let m=a?e._originalIpc?s.socketPath===e._originalHostOrSocketPath:!1:e._originalIpc?!1:i.host===e._originalHostOrSocketPath;(!m||e._originalSecure&&!o)&&(delete s.headers.authorization,delete s.headers.cookie,m||delete s.headers.host,s.auth=void 0)}s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),x=e._req=h(s),e._redirects&&e.emit("redirect",e.url,x)}else x=e._req=h(s);s.timeout&&x.on("timeout",()=>{Z(e,x,"Opening handshake has timed out")}),x.on("error",m=>{x===null||x[rs]||(x=e._req=null,ft(e,m))}),x.on("response",m=>{let b=m.headers.location,T=m.statusCode;if(b&&s.followRedirects&&T>=300&&T<400){if(++e._redirects>s.maxRedirects){Z(e,x,"Maximum redirects exceeded");return}x.abort();let I;try{I=new Xt(b,t)}catch{let U=new SyntaxError(`Invalid URL: ${b}`);ft(e,U);return}ns(e,I,r,n)}else e.emit("unexpected-response",x,m)||Z(e,x,`Unexpected server response: ${m.statusCode}`)}),x.on("upgrade",(m,b,T)=>{if(e.emit("upgrade",m),e.readyState!==v.CONNECTING)return;if(x=e._req=null,m.headers.upgrade.toLowerCase()!=="websocket"){Z(e,b,"Invalid Upgrade header");return}let I=Fo("sha1").update(u+qo).digest("base64");if(m.headers["sec-websocket-accept"]!==I){Z(e,b,"Invalid Sec-WebSocket-Accept header");return}let N=m.headers["sec-websocket-protocol"],U;if(N!==void 0?d.size?d.has(N)||(U="Server sent an invalid subprotocol"):U="Server sent a subprotocol but none was requested":d.size&&(U="Server sent no subprotocol"),U){Z(e,b,U);return}N&&(e._protocol=N);let $=m.headers["sec-websocket-extensions"];if($!==void 0){if(!E){Z(e,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let J;try{J=Qo($)}catch{Z(e,b,"Invalid Sec-WebSocket-Extensions header");return}let j=Object.keys(J);if(j.length!==1||j[0]!==_e.extensionName){Z(e,b,"Server indicated an extension that was not requested");return}try{E.accept(J[_e.extensionName])}catch{Z(e,b,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[_e.extensionName]=E}e.setSocket(b,T,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(x,e):x.end()}function ft(e,t){e._readyState=v.CLOSING,e.emit("error",t),e.emitClose()}function Jo(e){return e.path=e.socketPath,es.connect(e)}function ea(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=es.isIP(e.host)?"":e.host),Mo.connect(e)}function Z(e,t,r){e._readyState=v.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Z),t.setHeader?(t[rs]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(ft,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function Jt(e,t,r){if(t){let n=Xo(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${e.readyState} (${de[e.readyState]})`);process.nextTick(r,n)}}function ta(e,t){let r=this[W];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,r._socket[W]!==void 0&&(r._socket.removeListener("data",pt),process.nextTick(ss,r._socket),e===1005?r.close():r.close(e,t))}function ra(){let e=this[W];e.isPaused||e._socket.resume()}function na(e){let t=this[W];t._socket[W]!==void 0&&(t._socket.removeListener("data",pt),process.nextTick(ss,t._socket),t.close(e[Wo])),t.emit("error",e)}function Jn(){this[W].emitClose()}function sa(e,t){this[W].emit("message",e,t)}function ia(e){let t=this[W];t.pong(e,!t._isServer,ts),t.emit("ping",e)}function oa(e){this[W].emit("pong",e)}function ss(e){e.resume()}function is(){let e=this[W];this.removeListener("close",is),this.removeListener("data",pt),this.removeListener("end",os),e._readyState=v.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[W]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",Jn),e._receiver.on("finish",Jn))}function pt(e){this[W]._receiver.write(e)||this.pause()}function os(){let e=this[W];e._readyState=v.CLOSING,e._receiver.end(),this.end()}function as(){let e=this[W];this.removeListener("error",as),this.on("error",ts),e&&(e._readyState=v.CLOSING,this.destroy())}});var cs=k((Rl,us)=>{"use strict";var{tokenChars:aa}=Fe();function la(e){let t=new Set,r=-1,n=-1,s=0;for(s;s<e.length;s++){let o=e.charCodeAt(s);if(n===-1&&aa[o]===1)r===-1&&(r=s);else if(s!==0&&(o===32||o===9))n===-1&&r!==-1&&(n=s);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let a=e.slice(r,n);if(t.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);t.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let i=e.slice(r,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}us.exports={parse:la}});var _s=k((wl,ms)=>{"use strict";var ua=C("events"),dt=C("http"),{Duplex:Al}=C("stream"),{createHash:ca}=C("crypto"),fs=Qt(),ve=$e(),fa=cs(),pa=er(),{GUID:da,kWebSocket:ha}=ge(),ga=/^[+/0-9A-Za-z]{22}==$/,ps=0,ds=1,gs=2,tr=class extends ua{constructor(t,r){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:pa,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=dt.createServer((n,s)=>{let i=dt.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(t.port,t.host,t.backlog,r)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=ma(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,o)=>{this.handleUpgrade(s,i,o,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=ps}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===gs){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(Ge,this);return}if(t&&this.once("close",t),this._state!==ds)if(this._state=ds,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Ge,this):process.nextTick(Ge,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Ge(this)})}}shouldHandle(t){if(this.options.path){let r=t.url.indexOf("?");if((r!==-1?t.url.slice(0,r):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,r,n,s){r.on("error",hs);let i=t.headers["sec-websocket-key"],o=+t.headers["sec-websocket-version"];if(t.method!=="GET"){Ee(this,t,r,405,"Invalid HTTP method");return}if(t.headers.upgrade.toLowerCase()!=="websocket"){Ee(this,t,r,400,"Invalid Upgrade header");return}if(!i||!ga.test(i)){Ee(this,t,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==8&&o!==13){Ee(this,t,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(t)){We(r,400);return}let a=t.headers["sec-websocket-protocol"],l=new Set;if(a!==void 0)try{l=fa.parse(a)}catch{Ee(this,t,r,400,"Invalid Sec-WebSocket-Protocol header");return}let c=t.headers["sec-websocket-extensions"],u={};if(this.options.perMessageDeflate&&c!==void 0){let h=new ve(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=fs.parse(c);d[ve.extensionName]&&(h.accept(d[ve.extensionName]),u[ve.extensionName]=h)}catch{Ee(this,t,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:t.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(d,E,x,m)=>{if(!d)return We(r,E||401,x,m);this.completeUpgrade(u,i,l,t,r,n,s)});return}if(!this.options.verifyClient(h))return We(r,401)}this.completeUpgrade(u,i,l,t,r,n,s)}completeUpgrade(t,r,n,s,i,o,a){if(!i.readable||!i.writable)return i.destroy();if(i[ha])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>ps)return We(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${ca("sha1").update(r+da).digest("base64")}`],u=new this.options.WebSocket(null);if(n.size){let h=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;h&&(c.push(`Sec-WebSocket-Protocol: ${h}`),u._protocol=h)}if(t[ve.extensionName]){let h=t[ve.extensionName].params,d=fs.format({[ve.extensionName]:[h]});c.push(`Sec-WebSocket-Extensions: ${d}`),u._extensions=t}this.emit("headers",c,s),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",hs),u.setSocket(i,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Ge,this)})),a(u,s)}};ms.exports=tr;function ma(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}function Ge(e){e._state=gs,e.emit("close")}function hs(){this.destroy()}function We(e,t,r,n){r=r||dt.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${dt.STATUS_CODES[t]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+r)}function Ee(e,t,r,n,s){if(e.listenerCount("wsClientError")){let i=new Error(s);Error.captureStackTrace(i,Ee),e.emit("wsClientError",i,r,t)}else We(r,n,s)}});var mt=C("child_process"),_t=se(C("fs")),Te=se(C("inspector")),ks=se(gn()),yt=se(C("path"));var eo={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},to={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},ul=new Set(Object.keys(to)),cl=new Set(Object.keys(eo));var nr=C("child_process");var _a=se(xn(),1),ya=se(Vt(),1),xa=se(Kt(),1),ba=se(er(),1),ys=se(_s(),1);var Nl=Symbol("unset");var Pl=2**31-1;var Ea=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Ta=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),Kl=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ea});var rr=(e,t)=>e+Math.floor(Math.random()*(t-e));function xs({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){let n=Ca(),s=rr(e,t);for(let i=Math.min(r,t-e);i>=0;i--){if(n(s))return s;s=s===t-1?e:s+1}throw new Error("No open port found")}var Ca=()=>{let e=n=>{var i;let s=(0,nr.spawnSync)("nc",["-z","127.0.0.1",String(n)]);return((i=s.error)==null?void 0:i.code)==="ENOENT"&&(r=t),s.status===1},t=n=>(0,nr.spawnSync)(process.execPath,["-e",'require("net").createServer().on("listening",()=>process.exit(0)).on("error",()=>process.exit(1)).listen(+process.env.PORT)'],{env:{...process.env,PORT:String(n),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:"1"}}).status===0,r=process.platform==="win32"?t:e;return n=>r(n)};var Ra=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]),bs="$KNOWN_TOOLS$",Ss=`{${[...Ra].join(",")}}`;var Aa={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},pu=Object.keys(Aa),du=Symbol("ILogger");var wa=":::",ht=class{constructor(t){this.processEnv=t}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(t){t===void 0?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=t}get inspectorOptions(){let t=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!t)return;let r=t.split(wa).find(n=>!!n);if(r)try{return JSON.parse(r)}catch{return}}set inspectorOptions(t){t===void 0?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(t)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(t,r){let n=this.inspectorOptions;n&&(this.inspectorOptions={...n,[t]:r})}};var sr=C("path");var vs=C("crypto"),Ve=C("fs"),Es=C("os"),Ts=se(C("path")),gt=class{constructor(){this.disposed=!1;this.path=Ts.join((0,Es.tmpdir)(),`node-debug-callback-${(0,vs.randomBytes)(8).toString("hex")}`);this.file=Ve.promises.open(this.path,"w")}static isValid(t){try{let r=(0,Ve.readFileSync)(t);return r.length?r.readDoubleBE()>Date.now()-gt.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),gt.updateInterval))}async touch(t=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(t()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await Ve.promises.unlink(this.path)}catch{}}}},Ie=gt;Ie.updateInterval=1e3,Ie.recencyDeadline=2e3;var ue={enabled:!1,info:(...e)=>{ue.enabled&&console.log(...e)}};var ka=e=>!e||!e.inspectorIpc?(ue.info("runtime.launch","Disabling due to lack of IPC server"),!1):!0,Ia=e=>{let t=e.requireLease;return t&&!Ie.isValid(t)?(ue.info("runtime.launch","Disabling due to invalid lease file"),!1):!0},Na=()=>typeof window<"u"?(ue.info("runtime.launch","Disabling in Electron (window is set)"),!1):!0,Pa=e=>{let t="";try{t=C.resolve(process.argv[1])}catch{t=process.argv[1]}let r;try{r=new RegExp(e.waitForDebugger||"").test(t)}catch{r=!0}return r||ue.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:t}),r},La=()=>{let e=process.argv;return!(e.length===4&&(0,sr.basename)(e[1])==="npm-cli.js"&&e[2]==="prefix"&&e[3]==="-g")},Da=e=>!(e.deferredMode&&process.argv.length>=2&&(0,sr.basename)(process.argv[1])==="node-gyp.js"),Ba=[Da,ka,Ia,Na,Pa,La],Cs=e=>!!e&&!Ba.some(t=>!t(e));var ir=C("path"),Rs=(0,ir.join)(__dirname,"watchdog.js"),Eu=(0,ir.join)(__dirname,"bootloader.js");var As=C("crypto"),ws=()=>(0,As.randomBytes)(12).toString("hex");var Is={cwd:process.cwd(),processId:process.pid,nodeVersion:process.version,architecture:process.arch},Os="$jsDebugIsRegistered";(()=>{try{if(Os in global)return;let e=new ht(process.env),t=e.inspectorOptions;if(ue.enabled=!!(t!=null&&t.verbose),ue.info("runtime.launch","Bootloader imported",{env:t,args:process.argv}),Object.defineProperty(global,Os,{value:!0,enumerable:!1}),!Cs(t)){e.unsetForTree();return}try{if(!C("worker_threads").isMainThread)return}catch{}qa(e),/(\\|\/|^)node(64)?(.exe)?$/.test(process.execPath)&&(t.execPath=process.execPath);let r=ws(),n=Ha(t,r);t.onlyEntrypoint?e.unsetForTree():n&&e.updateInspectorOption("openerId",r)}catch(e){console.error(`Error in the js-debug bootloader, please report to https://aka.ms/js-dbg-issue: ${e.stack||e.message||e}`)}})();function Ha(e,t){let r=ja(e.inspectorIpc)?e.deferredMode?1:0:2;if(ue.info("runtime","Set debug mode",{mode:r}),r===2)return!1;let n=Te.url()!==void 0;if(!n){if(!$a(e))return!1;Te.open(Ma(e),void 0,!1)}let s={ipcAddress:e.inspectorIpc||"",pid:String(process.pid),telemetry:Is,scriptName:process.argv[1],inspectorURL:Te.url(),waitForDebugger:!0,ownId:t,openerId:e.openerId};if(r===0)Ga(e.execPath||process.execPath,s);else{let{status:o,stderr:a}=(0,mt.spawnSync)(e.execPath||process.execPath,["-e",'const c=require("net").createConnection(process.env.NODE_INSPECTOR_IPC);setTimeout(()=>{console.error("timeout"),process.exit(1)},10000),c.on("error",e=>{console.error(e),process.exit(1)}),c.on("connect",()=>{c.write(process.env.NODE_INSPECTOR_INFO,"utf-8"),c.write(Buffer.from([0])),c.on("data",e=>{console.error("read byte",e[0]),process.exit(e[0])})});'],{env:{NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK,NODE_INSPECTOR_INFO:JSON.stringify(s),NODE_INSPECTOR_IPC:e.inspectorIpc,ELECTRON_RUN_AS_NODE:"1"}});if(o)return console.error(a.toString()),console.error("Error activating auto attach, please report to https://aka.ms/js-dbg-issue"),!1}let i=Te;return i.waitForDebugger?i.waitForDebugger():Te.open(n?void 0:0,void 0,!0),!0}function Ma(e){if(!e.mandatePortTracking)return 0;try{return xs({attempts:20})}catch{return 0}}function $a(e){switch(e.autoAttachMode){case"always":return!0;case"smart":return Fa(e);case"onlyWithFlag":default:return!1}}function Fa(e){let t=process.argv[1];return t?Ua(t,e):!0}function Ua(e,t){return t.aaPatterns?(0,ks.default)([e.replace(/\\/g,"/")],[...t.aaPatterns.map(n=>n.replace(bs,Ss))],{dot:!0,nocase:!0}).length>0:!1}function ja(e){if(!e)return!1;try{return _t.readdirSync(yt.dirname(e)).includes(yt.basename(e))}catch{return!1}}function qa(e){var r;let t=(r=e.inspectorOptions)==null?void 0:r.fileCallback;t&&(_t.writeFileSync(t,JSON.stringify(Is)),e.updateInspectorOption("fileCallback",void 0))}function Ga(e,t){let r=(0,mt.spawn)(e,[Rs],{env:{NODE_INSPECTOR_INFO:JSON.stringify(t),NODE_SKIP_PLATFORM_CHECK:process.env.NODE_SKIP_PLATFORM_CHECK,ELECTRON_RUN_AS_NODE:"1"},stdio:"ignore",detached:!0});return r.unref(),r}})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=bootloader.js.map

//# sourceURL=bootloader.bundle.cdp