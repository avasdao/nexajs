"use strict";(()=>{var Bf=Object.create;var ii=Object.defineProperty;var Xo=Object.getOwnPropertyDescriptor;var jf=Object.getOwnPropertyNames;var Ff=Object.getPrototypeOf,Uf=Object.prototype.hasOwnProperty;var A=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qf=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jf(e))!Uf.call(t,i)&&i!==n&&ii(t,i,{get:()=>e[i],enumerable:!(r=Xo(e,i))||r.enumerable});return t};var se=(t,e,n)=>(n=t!=null?Bf(Ff(t)):{},qf(e||!t||!t.__esModule?ii(n,"default",{value:t,enumerable:!0}):n,t));var jn=(t,e,n,r)=>{for(var i=r>1?void 0:r?Xo(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&ii(e,n,i),i};var z=p(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.NON_CUSTOM_TAG_KEYS=j.PRE_DESTROY=j.POST_CONSTRUCT=j.DESIGN_PARAM_TYPES=j.PARAM_TYPES=j.TAGGED_PROP=j.TAGGED=j.MULTI_INJECT_TAG=j.INJECT_TAG=j.OPTIONAL_TAG=j.UNMANAGED_TAG=j.NAME_TAG=j.NAMED_TAG=void 0;j.NAMED_TAG="named";j.NAME_TAG="name";j.UNMANAGED_TAG="unmanaged";j.OPTIONAL_TAG="optional";j.INJECT_TAG="inject";j.MULTI_INJECT_TAG="multi_inject";j.TAGGED="inversify:tagged";j.TAGGED_PROP="inversify:tagged_props";j.PARAM_TYPES="inversify:paramtypes";j.DESIGN_PARAM_TYPES="design:paramtypes";j.POST_CONSTRUCT="post_construct";j.PRE_DESTROY="pre_destroy";function Wf(){return[j.INJECT_TAG,j.MULTI_INJECT_TAG,j.NAME_TAG,j.UNMANAGED_TAG,j.NAMED_TAG,j.OPTIONAL_TAG]}j.NON_CUSTOM_TAG_KEYS=Wf()});var Ie=p(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.TargetTypeEnum=ut.BindingTypeEnum=ut.BindingScopeEnum=void 0;var Vf={Request:"Request",Singleton:"Singleton",Transient:"Transient"};ut.BindingScopeEnum=Vf;var $f={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};ut.BindingTypeEnum=$f;var Kf={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};ut.TargetTypeEnum=Kf});var ct=p(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.id=void 0;var Hf=0;function zf(){return Hf++}Fn.id=zf});var es=p(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.Binding=void 0;var Zo=Ie(),Yf=ct(),Jf=function(){function t(e,n){this.id=(0,Yf.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=Zo.BindingTypeEnum.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===Zo.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();Un.Binding=Jf});var ue=p(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.STACK_OVERFLOW=S.CIRCULAR_DEPENDENCY_IN_FACTORY=S.ON_DEACTIVATION_ERROR=S.PRE_DESTROY_ERROR=S.POST_CONSTRUCT_ERROR=S.ASYNC_UNBIND_REQUIRED=S.MULTIPLE_POST_CONSTRUCT_METHODS=S.MULTIPLE_PRE_DESTROY_METHODS=S.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=S.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=S.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=S.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=S.ARGUMENTS_LENGTH_MISMATCH=S.INVALID_DECORATOR_OPERATION=S.INVALID_TO_SELF_VALUE=S.LAZY_IN_SYNC=S.INVALID_FUNCTION_BINDING=S.INVALID_MIDDLEWARE_RETURN=S.NO_MORE_SNAPSHOTS_AVAILABLE=S.INVALID_BINDING_TYPE=S.NOT_IMPLEMENTED=S.CIRCULAR_DEPENDENCY=S.UNDEFINED_INJECT_ANNOTATION=S.MISSING_INJECT_ANNOTATION=S.MISSING_INJECTABLE_ANNOTATION=S.NOT_REGISTERED=S.CANNOT_UNBIND=S.AMBIGUOUS_MATCH=S.KEY_NOT_FOUND=S.NULL_ARGUMENT=S.DUPLICATED_METADATA=S.DUPLICATED_INJECTABLE_DECORATOR=void 0;S.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";S.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";S.NULL_ARGUMENT="NULL argument";S.KEY_NOT_FOUND="Key Not Found";S.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";S.CANNOT_UNBIND="Could not unbind serviceIdentifier:";S.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";S.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";S.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var Xf=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};S.UNDEFINED_INJECT_ANNOTATION=Xf;S.CIRCULAR_DEPENDENCY="Circular dependency found:";S.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";S.INVALID_BINDING_TYPE="Invalid binding type:";S.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";S.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";S.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var Qf=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};S.LAZY_IN_SYNC=Qf;S.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";S.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var Zf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};S.ARGUMENTS_LENGTH_MISMATCH=Zf;S.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";S.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";S.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";S.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";S.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";S.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";S.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var ed=function(t,e){return"@postConstruct error in class "+t+": "+e};S.POST_CONSTRUCT_ERROR=ed;var td=function(t,e){return"@preDestroy error in class "+t+": "+e};S.PRE_DESTROY_ERROR=td;var nd=function(t,e){return"onDeactivation() error in class "+t+": "+e};S.ON_DEACTIVATION_ERROR=nd;var rd=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};S.CIRCULAR_DEPENDENCY_IN_FACTORY=rd;S.STACK_OVERFLOW="Maximum call stack size exceeded"});var si=p(De=>{"use strict";var id=De&&De.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),od=De&&De.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sd=De&&De.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&id(e,t,n);return od(e,t),e};Object.defineProperty(De,"__esModule",{value:!0});De.MetadataReader=void 0;var oi=sd(z()),ad=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(oi.PARAM_TYPES,e),r=Reflect.getMetadata(oi.TAGGED,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(oi.TAGGED_PROP,e)||[];return n},t}();De.MetadataReader=ad});var ts=p(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.BindingCount=void 0;var ud={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};qn.BindingCount=ud});var ai=p(Ee=>{"use strict";var cd=Ee&&Ee.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ld=Ee&&Ee.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fd=Ee&&Ee.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&cd(e,t,n);return ld(e,t),e};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.tryAndThrowErrorIfStackOverflow=Ee.isStackOverflowExeption=void 0;var dd=fd(ue());function ns(t){return t instanceof RangeError||t.message===dd.STACK_OVERFLOW}Ee.isStackOverflowExeption=ns;var pd=function(t,e){try{return t()}catch(n){throw ns(n)&&(n=e()),n}};Ee.tryAndThrowErrorIfStackOverflow=pd});var Ot=p(Y=>{"use strict";var hd=Y&&Y.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),gd=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),md=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&hd(e,t,n);return gd(e,t),e};Object.defineProperty(Y,"__esModule",{value:!0});Y.getSymbolDescription=Y.circularDependencyToException=Y.listMetadataForTarget=Y.listRegisteredBindingsForServiceIdentifier=Y.getServiceIdentifierAsString=Y.getFunctionName=void 0;var yd=md(ue());function rs(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Y.getServiceIdentifierAsString=rs;function _d(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=ss(o.implementationType)),r=r+`
 `+s,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}Y.listRegisteredBindingsForServiceIdentifier=_d;function is(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:is(t.parentRequest,e)}function vd(t){function e(r,i){i===void 0&&(i=[]);var o=rs(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function os(t){t.childRequests.forEach(function(e){if(is(e,e.serviceIdentifier)){var n=vd(e);throw new Error(yd.CIRCULAR_DEPENDENCY+" "+n)}else os(e)})}Y.circularDependencyToException=os;function bd(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}Y.listMetadataForTarget=bd;function ss(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}Y.getFunctionName=ss;function wd(t){return t.toString().slice(7,-1)}Y.getSymbolDescription=wd});var as=p(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Context=void 0;var Sd=ct(),Ed=function(){function t(e){this.id=(0,Sd.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();Gn.Context=Ed});var Oe=p(Me=>{"use strict";var Td=Me&&Me.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xd=Me&&Me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cd=Me&&Me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Td(e,t,n);return xd(e,t),e};Object.defineProperty(Me,"__esModule",{value:!0});Me.Metadata=void 0;var Ad=Cd(z()),Id=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===Ad.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();Me.Metadata=Id});var us=p(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Plan=void 0;var Od=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();Wn.Plan=Od});var ui=p(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.LazyServiceIdentifer=void 0;var Pd=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();Vn.LazyServiceIdentifer=Pd});var cs=p($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.QueryableString=void 0;var Nd=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();$n.QueryableString=Nd});var ci=p(Le=>{"use strict";var Rd=Le&&Le.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dd=Le&&Le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Md=Le&&Le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Rd(e,t,n);return Dd(e,t),e};Object.defineProperty(Le,"__esModule",{value:!0});Le.Target=void 0;var tt=Md(z()),Ld=ct(),kd=Ot(),ls=Oe(),Bd=cs(),jd=function(){function t(e,n,r,i){this.id=(0,Ld.id)(),this.type=e,this.serviceIdentifier=r;var o=typeof n=="symbol"?(0,kd.getSymbolDescription)(n):n;this.name=new Bd.QueryableString(o||""),this.identifier=n,this.metadata=new Array;var s=null;typeof i=="string"?s=new ls.Metadata(tt.NAMED_TAG,i):i instanceof ls.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(tt.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(tt.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(tt.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return tt.NON_CUSTOM_TAG_KEYS.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(tt.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===tt.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return tt.NON_CUSTOM_TAG_KEYS.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(tt.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===r)return!0}return!1}},t}();Le.Target=jd});var _s=p(ce=>{"use strict";var Fd=ce&&ce.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ud=ce&&ce.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fs=ce&&ce.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Fd(e,t,n);return Ud(e,t),e},Kn=ce&&ce.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ce,"__esModule",{value:!0});ce.getFunctionName=ce.getBaseClassDependencyCount=ce.getDependencies=void 0;var qd=ui(),li=fs(ue()),ds=Ie(),nn=fs(z()),fi=Ot();Object.defineProperty(ce,"getFunctionName",{enumerable:!0,get:function(){return fi.getFunctionName}});var ps=ci();function Gd(t,e){var n=(0,fi.getFunctionName)(e);return hs(t,n,e,!1)}ce.getDependencies=Gd;function hs(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var s=li.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var u=i.userGeneratedMetadata,c=Object.keys(u),a=n.length===0&&c.length>0,l=c.length>n.length,f=a||l?c.length:n.length,g=Vd(r,e,o,u,f),m=gs(t,n,e),T=Kn(Kn([],g,!0),m,!0);return T}function Wd(t,e,n,r,i){var o=i[t.toString()]||[],s=ys(o),u=s.unmanaged!==!0,c=r[t],a=s.inject||s.multiInject;if(c=a||c,c instanceof qd.LazyServiceIdentifer&&(c=c.unwrap()),u){var l=c===Object,f=c===Function,g=c===void 0,m=l||f||g;if(!e&&m){var T=li.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(T)}var x=new ps.Target(ds.TargetTypeEnum.ConstructorArgument,s.targetName,c);return x.metadata=o,x}return null}function Vd(t,e,n,r,i){for(var o=[],s=0;s<i;s++){var u=s,c=Wd(u,t,e,n,r);c!==null&&o.push(c)}return o}function $d(t,e,n,r){var i=t||e;if(i===void 0){var o=li.MISSING_INJECTABLE_ANNOTATION+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function gs(t,e,n){for(var r=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(r),s=Object.keys(r),u=s.concat(o),c=0,a=u;c<a.length;c++){var l=a[c],f=r[l],g=ys(f),m=g.targetName||l,T=$d(g.inject,g.multiInject,l,n),x=new ps.Target(ds.TargetTypeEnum.ClassProperty,m,T);x.metadata=f,i.push(x)}var q=Object.getPrototypeOf(e.prototype).constructor;if(q!==Object){var ie=gs(t,q,n);i=Kn(Kn([],i,!0),ie,!0)}return i}function ms(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=(0,fi.getFunctionName)(n),i=hs(t,r,n,!0),o=i.map(function(c){return c.metadata.filter(function(a){return a.key===nn.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,u=i.length-s;return u>0?u:ms(t,n)}else return 0}ce.getBaseClassDependencyCount=ms;function ys(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[nn.INJECT_TAG],multiInject:e[nn.MULTI_INJECT_TAG],targetName:e[nn.NAME_TAG],unmanaged:e[nn.UNMANAGED_TAG]}}});var vs=p(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.Request=void 0;var Kd=ct(),Hd=function(){function t(e,n,r,i,o){this.id=(0,Kd.id)(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();Hn.Request=Hd});var mi=p(ye=>{"use strict";var zd=ye&&ye.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yd=ye&&ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ss=ye&&ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&zd(e,t,n);return Yd(e,t),e};Object.defineProperty(ye,"__esModule",{value:!0});ye.getBindingDictionary=ye.createMockRequest=ye.plan=void 0;var zn=ts(),pi=Ss(ue()),Es=Ie(),bs=Ss(z()),Jd=ai(),Pt=Ot(),Ts=as(),hi=Oe(),Xd=us(),di=_s(),gi=vs(),xs=ci();function Cs(t){return t._bindingDictionary}ye.getBindingDictionary=Cs;function Qd(t,e,n,r,i,o){var s=t?bs.MULTI_INJECT_TAG:bs.INJECT_TAG,u=new hi.Metadata(s,n),c=new xs.Target(e,r,n,u);if(i!==void 0){var a=new hi.Metadata(i,o);c.metadata.push(a)}return c}function ws(t,e,n,r,i){var o=rn(n.container,i.serviceIdentifier),s=[];return o.length===zn.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=rn(n.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(u){var c=new gi.Request(u.serviceIdentifier,n,r,u,i);return u.constraint(c)}),Zd(i.serviceIdentifier,s,i,n.container),s}function Zd(t,e,n,r){switch(e.length){case zn.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var i=(0,Pt.getServiceIdentifierAsString)(t),o=pi.NOT_REGISTERED;throw o+=(0,Pt.listMetadataForTarget)(i,n),o+=(0,Pt.listRegisteredBindingsForServiceIdentifier)(r,i,rn),new Error(o);case zn.BindingCount.OnlyOneBindingAvailable:return e;case zn.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=(0,Pt.getServiceIdentifierAsString)(t),o=pi.AMBIGUOUS_MATCH+" "+i;throw o+=(0,Pt.listRegisteredBindingsForServiceIdentifier)(r,i,rn),new Error(o)}}function As(t,e,n,r,i,o){var s,u;if(i===null){s=ws(t,e,r,null,o),u=new gi.Request(n,r,null,s,o);var c=new Xd.Plan(r,u);r.addPlan(c)}else s=ws(t,e,r,i,o),u=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(a){var l=null;if(o.isArray())l=u.addChildRequest(a.serviceIdentifier,a,o);else{if(a.cache)return;l=u}if(a.type===Es.BindingTypeEnum.Instance&&a.implementationType!==null){var f=(0,di.getDependencies)(t,a.implementationType);if(!r.container.options.skipBaseClassChecks){var g=(0,di.getBaseClassDependencyCount)(t,a.implementationType);if(f.length<g){var m=pi.ARGUMENTS_LENGTH_MISMATCH((0,di.getFunctionName)(a.implementationType));throw new Error(m)}}f.forEach(function(T){As(t,!1,T.serviceIdentifier,r,l,T)})}})}function rn(t,e){var n=[],r=Cs(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=rn(t.parent,e)),n}function ep(t,e,n,r,i,o,s,u){u===void 0&&(u=!1);var c=new Ts.Context(e),a=Qd(n,r,i,"",o,s);try{return As(t,u,i,c,null,a),c}catch(l){throw(0,Jd.isStackOverflowExeption)(l)&&(0,Pt.circularDependencyToException)(c.plan.rootRequest),l}}ye.plan=ep;function tp(t,e,n,r){var i=new xs.Target(Es.TargetTypeEnum.Variable,"",e,new hi.Metadata(n,r)),o=new Ts.Context(t),s=new gi.Request(e,o,null,[],i);return s}ye.createMockRequest=tp});var on=p(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.isPromiseOrContainsPromise=Nt.isPromise=void 0;function yi(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}Nt.isPromise=yi;function np(t){return yi(t)?!0:Array.isArray(t)&&t.some(yi)}Nt.isPromiseOrContainsPromise=np});var Is=p(ke=>{"use strict";var rp=ke&&ke.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},ip=ke&&ke.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(ke,"__esModule",{value:!0});ke.saveToScope=ke.tryGetFromScope=void 0;var Yn=sn(),op=on(),sp=function(t,e){return e.scope===Yn.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===Yn.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};ke.tryGetFromScope=sp;var ap=function(t,e,n){e.scope===Yn.BindingScopeEnum.Singleton&&cp(e,n),e.scope===Yn.BindingScopeEnum.Request&&up(t,e,n)};ke.saveToScope=ap;var up=function(t,e,n){t.has(e.id)||t.set(e.id,n)},cp=function(t,e){t.cache=e,t.activated=!0,(0,op.isPromise)(e)&&lp(t,e)},lp=function(t,e){return rp(void 0,void 0,void 0,function(){var n,r;return ip(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return n=i.sent(),t.cache=n,[3,3];case 2:throw r=i.sent(),t.cache=null,t.activated=!1,r;case 3:return[2]}})})}});var Os=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.FactoryType=void 0;var fp;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(fp=an.FactoryType||(an.FactoryType={}))});var vi=p(_e=>{"use strict";var dp=_e&&_e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pp=_e&&_e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hp=_e&&_e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&dp(e,t,n);return pp(e,t),e};Object.defineProperty(_e,"__esModule",{value:!0});_e.getFactoryDetails=_e.ensureFullyBound=_e.multiBindToService=void 0;var gp=sn(),mp=hp(ue()),Be=Ie(),_i=Os(),yp=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(i){return t.bind(i).toService(e)})}}};_e.multiBindToService=yp;var _p=function(t){var e=null;switch(t.type){case Be.BindingTypeEnum.ConstantValue:case Be.BindingTypeEnum.Function:e=t.cache;break;case Be.BindingTypeEnum.Constructor:case Be.BindingTypeEnum.Instance:e=t.implementationType;break;case Be.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case Be.BindingTypeEnum.Provider:e=t.provider;break;case Be.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var n=(0,gp.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(mp.INVALID_BINDING_TYPE+" "+n)}};_e.ensureFullyBound=_p;var vp=function(t){switch(t.type){case Be.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:_i.FactoryType.Factory};case Be.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:_i.FactoryType.Provider};case Be.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:_i.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};_e.getFactoryDetails=vp});var Ls=p(te=>{"use strict";var Rt=te&&te.__assign||function(){return Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rt.apply(this,arguments)},bp=te&&te.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wp=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sp=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&bp(e,t,n);return wp(e,t),e},Rs=te&&te.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},Ds=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ep=te&&te.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(te,"__esModule",{value:!0});te.resolveInstance=void 0;var bi=ue(),Si=Ie(),wi=Sp(z()),Ei=on();function Tp(t,e){return t.reduce(function(n,r){var i=e(r),o=r.target.type;return o===Si.TargetTypeEnum.ConstructorArgument?n.constructorInjections.push(i):(n.propertyRequests.push(r),n.propertyInjections.push(i)),n.isAsync||(n.isAsync=(0,Ei.isPromiseOrContainsPromise)(i)),n},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function xp(t,e,n){var r;if(e.length>0){var i=Tp(e,n),o=Rt(Rt({},i),{constr:t});i.isAsync?r=Cp(o):r=Ms(o)}else r=new t;return r}function Ms(t){var e,n=new((e=t.constr).bind.apply(e,Ep([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(r,i){var o=r.target.identifier,s=t.propertyInjections[i];n[o]=s}),n}function Cp(t){return Rs(this,void 0,void 0,function(){var e,n;return Ds(this,function(r){switch(r.label){case 0:return[4,Ps(t.constructorInjections)];case 1:return e=r.sent(),[4,Ps(t.propertyInjections)];case 2:return n=r.sent(),[2,Ms(Rt(Rt({},t),{constructorInjections:e,propertyInjections:n}))]}})})}function Ps(t){return Rs(this,void 0,void 0,function(){var e,n,r,i;return Ds(this,function(o){for(e=[],n=0,r=t;n<r.length;n++)i=r[n],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function Ns(t,e){var n=Ap(t,e);return(0,Ei.isPromise)(n)?n.then(function(){return e}):e}function Ap(t,e){var n,r;if(Reflect.hasMetadata(wi.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(wi.POST_CONSTRUCT,t);try{return(r=(n=e)[i.value])===null||r===void 0?void 0:r.call(n)}catch(o){throw new Error((0,bi.POST_CONSTRUCT_ERROR)(t.name,o.message))}}}function Ip(t,e){t.scope!==Si.BindingScopeEnum.Singleton&&Op(t,e)}function Op(t,e){var n="Class cannot be instantiated in "+(t.scope===Si.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,bi.ON_DEACTIVATION_ERROR)(e.name,n));if(Reflect.hasMetadata(wi.PRE_DESTROY,e))throw new Error((0,bi.PRE_DESTROY_ERROR)(e.name,n))}function Pp(t,e,n,r){Ip(t,e);var i=xp(e,n,r);return(0,Ei.isPromise)(i)?i.then(function(o){return Ns(e,o)}):Ns(e,i)}te.resolveInstance=Pp});var Us=p(ve=>{"use strict";var Np=ve&&ve.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Rp=ve&&ve.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dp=ve&&ve.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Np(e,t,n);return Rp(e,t),e},Mp=ve&&ve.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},Lp=ve&&ve.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(ve,"__esModule",{value:!0});ve.resolve=void 0;var kp=Dp(ue()),Jn=Ie(),Bp=mi(),ks=Is(),Ti=on(),js=vi(),jp=ai(),Fp=Ls(),xi=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(u){var c=xi(t);return c(u)});if(e.target.isOptional()&&n.length===0)return;var s=n[0];return Wp(t,e,s)}},Up=function(t,e){var n=(0,js.getFactoryDetails)(t);return(0,jp.tryAndThrowErrorIfStackOverflow)(function(){return n.factory.bind(t)(e)},function(){return new Error(kp.CIRCULAR_DEPENDENCY_IN_FACTORY(n.factoryType,e.currentRequest.serviceIdentifier.toString()))})},qp=function(t,e,n){var r,i=e.childRequests;switch((0,js.ensureFullyBound)(n),n.type){case Jn.BindingTypeEnum.ConstantValue:case Jn.BindingTypeEnum.Function:r=n.cache;break;case Jn.BindingTypeEnum.Constructor:r=n.implementationType;break;case Jn.BindingTypeEnum.Instance:r=(0,Fp.resolveInstance)(n,n.implementationType,i,xi(t));break;default:r=Up(n,e.parentContext)}return r},Gp=function(t,e,n){var r=(0,ks.tryGetFromScope)(t,e);return r!==null||(r=n(),(0,ks.saveToScope)(t,e,r)),r},Wp=function(t,e,n){return Gp(t,n,function(){var r=qp(t,e,n);return(0,Ti.isPromise)(r)?r=r.then(function(i){return Bs(e,n,i)}):r=Bs(e,n,r),r})};function Bs(t,e,n){var r=Vp(t.parentContext,e,n),i=Hp(t.parentContext.container),o,s=i.next();do{o=s.value;var u=t.parentContext,c=t.serviceIdentifier,a=Kp(o,c);(0,Ti.isPromise)(r)?r=Fs(a,u,r):r=$p(a,u,r),s=i.next()}while(s.done!==!0&&!(0,Bp.getBindingDictionary)(o).hasKey(t.serviceIdentifier));return r}var Vp=function(t,e,n){var r;return typeof e.onActivation=="function"?r=e.onActivation(t,n):r=n,r},$p=function(t,e,n){for(var r=t.next();!r.done;){if(n=r.value(e,n),(0,Ti.isPromise)(n))return Fs(t,e,n);r=t.next()}return n},Fs=function(t,e,n){return Mp(void 0,void 0,void 0,function(){var r,i;return Lp(this,function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,r)];case 3:return r=o.sent(),i=t.next(),[3,2];case 4:return[2,r]}})})},Kp=function(t,e){var n=t._activations;return n.hasKey(e)?n.get(e).values():[].values()},Hp=function(t){for(var e=[t],n=t.parent;n!==null;)e.push(n),n=n.parent;var r=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:r};return i};function zp(t){var e=xi(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}ve.resolve=zp});var Ci=p(le=>{"use strict";var Yp=le&&le.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Jp=le&&le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xp=le&&le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Yp(e,t,n);return Jp(e,t),e};Object.defineProperty(le,"__esModule",{value:!0});le.typeConstraint=le.namedConstraint=le.taggedConstraint=le.traverseAncerstors=void 0;var Qp=Xp(z()),Zp=Oe(),qs=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:qs(n,e):!1};le.traverseAncerstors=qs;var Gs=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new Zp.Metadata(t,e),n}};le.taggedConstraint=Gs;var eh=Gs(Qp.NAMED_TAG);le.namedConstraint=eh;var th=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};le.typeConstraint=th});var Qn=p(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.BindingWhenSyntax=void 0;var pe=Zn(),ee=Ci(),nh=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new pe.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,ee.namedConstraint)(e),new pe.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new pe.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=(0,ee.taggedConstraint)(e)(n),new pe.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return n!==null&&(0,ee.typeConstraint)(e)(n.parentRequest)},new pe.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return n!==null&&(0,ee.namedConstraint)(e)(n.parentRequest)},new pe.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&(0,ee.taggedConstraint)(e)(n)(r.parentRequest)},new pe.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&(0,ee.traverseAncerstors)(n,(0,ee.typeConstraint)(e))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,ee.traverseAncerstors)(n,(0,ee.typeConstraint)(e))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&(0,ee.traverseAncerstors)(n,(0,ee.namedConstraint)(e))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,ee.traverseAncerstors)(n,(0,ee.namedConstraint)(e))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&(0,ee.traverseAncerstors)(r,(0,ee.taggedConstraint)(e)(n))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&!(0,ee.traverseAncerstors)(r,(0,ee.taggedConstraint)(e)(n))},new pe.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&(0,ee.traverseAncerstors)(n,e)},new pe.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,ee.traverseAncerstors)(n,e)},new pe.BindingOnSyntax(this._binding)},t}();Xn.BindingWhenSyntax=nh});var Zn=p(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.BindingOnSyntax=void 0;var Ws=Qn(),rh=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new Ws.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new Ws.BindingWhenSyntax(this._binding)},t}();er.BindingOnSyntax=rh});var Ai=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.BindingWhenOnSyntax=void 0;var ih=Zn(),oh=Qn(),sh=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new oh.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new ih.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();tr.BindingWhenOnSyntax=sh});var Vs=p(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.BindingInSyntax=void 0;var Ii=Ie(),Oi=Ai(),ah=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Ii.BindingScopeEnum.Request,new Oi.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Ii.BindingScopeEnum.Singleton,new Oi.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Ii.BindingScopeEnum.Transient,new Oi.BindingWhenOnSyntax(this._binding)},t}();nr.BindingInSyntax=ah});var $s=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.BindingInWhenOnSyntax=void 0;var uh=Vs(),ch=Zn(),lh=Qn(),fh=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new lh.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new ch.BindingOnSyntax(this._binding),this._bindingInSyntax=new uh.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();rr.BindingInWhenOnSyntax=fh});var zs=p(je=>{"use strict";var dh=je&&je.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ph=je&&je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hh=je&&je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&dh(e,t,n);return ph(e,t),e};Object.defineProperty(je,"__esModule",{value:!0});je.BindingToSyntax=void 0;var Ks=hh(ue()),he=Ie(),Hs=$s(),Dt=Ai(),gh=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=he.BindingTypeEnum.Instance,this._binding.implementationType=e,new Hs.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Ks.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=he.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=he.BindingScopeEnum.Singleton,new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=he.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Hs.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=he.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=he.BindingScopeEnum.Singleton,new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=he.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=he.BindingScopeEnum.Singleton,new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(Ks.INVALID_FUNCTION_BINDING);var n=this.toConstantValue(e);return this._binding.type=he.BindingTypeEnum.Function,this._binding.scope=he.BindingScopeEnum.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=he.BindingTypeEnum.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=he.BindingScopeEnum.Singleton,new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=he.BindingTypeEnum.Factory,this._binding.factory=function(n){return function(r){return n.container.getNamed(e,r)}},new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=he.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=he.BindingScopeEnum.Singleton,new Dt.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}();je.BindingToSyntax=gh});var Ys=p(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ContainerSnapshot=void 0;var mh=function(){function t(){}return t.of=function(e,n,r,i,o){var s=new t;return s.bindings=e,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},t}();ir.ContainerSnapshot=mh});var Js=p(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.isClonable=void 0;function yh(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}or.isClonable=yh});var Pi=p(Fe=>{"use strict";var _h=Fe&&Fe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),vh=Fe&&Fe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bh=Fe&&Fe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&_h(e,t,n);return vh(e,t),e};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Lookup=void 0;var _t=bh(ue()),wh=Js(),Sh=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(_t.NULL_ARGUMENT);if(n==null)throw new Error(_t.NULL_ARGUMENT);var r=this._map.get(e);r!==void 0?r.push(n):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(_t.NULL_ARGUMENT);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(_t.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(_t.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(_t.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var n=this;this.traverse(function(r,i){var o=e.hasKey(r)?e.get(r):void 0;if(o!==void 0){var s=i.filter(function(u){return!o.some(function(c){return u===c})});n._setValue(r,s)}})},t.prototype.removeByCondition=function(e){var n=this,r=[];return this._map.forEach(function(i,o){for(var s=[],u=0,c=i;u<c.length;u++){var a=c[u],l=e(a);l?r.push(a):s.push(a)}n._setValue(o,s)}),r},t.prototype.hasKey=function(e){if(e==null)throw new Error(_t.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,(0,wh.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t.prototype._setValue=function(e,n){n.length>0?this._map.set(e,n):this._map.delete(e)},t}();Fe.Lookup=Sh});var Qs=p(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.ModuleActivationStore=void 0;var Xs=Pi(),Eh=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var n=this._map.get(e);return this._map.delete(e),n}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,n,r){this._getModuleActivationHandlers(e).onDeactivations.add(n,r)},t.prototype.addActivation=function(e,n,r){this._getModuleActivationHandlers(e).onActivations.add(n,r)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){e._map.set(r,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var n=this._map.get(e);return n===void 0&&(n=this._getEmptyHandlersStore(),this._map.set(e,n)),n},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new Xs.Lookup,onDeactivations:new Xs.Lookup};return e},t}();sr.ModuleActivationStore=Eh});var ea=p(ne=>{"use strict";var ur=ne&&ne.__assign||function(){return ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ur.apply(this,arguments)},Th=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xh=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zs=ne&&ne.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Th(e,t,n);return xh(e,t),e},Te=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},xe=ne&&ne.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ch=ne&&ne.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ne,"__esModule",{value:!0});ne.Container=void 0;var Ah=es(),Pe=Zs(ue()),Mt=Ie(),vt=Zs(z()),Ih=si(),ar=mi(),Oh=Us(),Ph=zs(),bt=on(),Nh=ct(),Rh=Ot(),Dh=Ys(),un=Pi(),Mh=Qs(),Lh=function(){function t(e){var n=e||{};if(typeof n!="object")throw new Error(""+Pe.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(n.defaultScope===void 0)n.defaultScope=Mt.BindingScopeEnum.Transient;else if(n.defaultScope!==Mt.BindingScopeEnum.Singleton&&n.defaultScope!==Mt.BindingScopeEnum.Transient&&n.defaultScope!==Mt.BindingScopeEnum.Request)throw new Error(""+Pe.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+Pe.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+Pe.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=(0,Nh.id)(),this._bindingDictionary=new un.Lookup,this._snapshots=[],this._middleware=null,this._activations=new un.Lookup,this._deactivations=new un.Lookup,this.parent=null,this._metadataReader=new Ih.MetadataReader,this._moduleActivationStore=new Mh.ModuleActivationStore}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,s=Ch([e,n],r,!0).map(function(a){return(0,ar.getBindingDictionary)(a)}),u=(0,ar.getBindingDictionary)(o);function c(a,l){a.traverse(function(f,g){g.forEach(function(m){l.add(m.serviceIdentifier,m.clone())})})}return s.forEach(function(a){c(a,u)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],u=r(s.id);s.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Te(this,void 0,void 0,function(){var r,i,o,s,u;return xe(this,function(c){switch(c.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],u=r(s.id),[4,s.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Te(this,void 0,void 0,function(){var r,i,o,s;return xe(this,function(u){switch(u.label){case 0:r=0,i=e,u.label=1;case 1:return r<i.length?(o=i[r],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:u.sent(),this._removeModuleHandlers(o.id),u.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var n=this.options.defaultScope||Mt.BindingScopeEnum.Transient,r=new Ah.Binding(e,n);return this._bindingDictionary.add(e,r),new Ph.BindingToSyntax(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return Te(this,void 0,void 0,function(){return xe(this,function(n){switch(n.label){case 0:return[4,this.unbindAsync(e)];case 1:return n.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var n=this._bindingDictionary.get(e);this._deactivateSingletons(n)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return Te(this,void 0,void 0,function(){var n;return xe(this,function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(e)?(n=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(n,r){e._deactivateSingletons(r)}),this._bindingDictionary=new un.Lookup},t.prototype.unbindAllAsync=function(){return Te(this,void 0,void 0,function(){var e,n=this;return xe(this,function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(n._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new un.Lookup,[2]}})})},t.prototype.onActivation=function(e,n){this._activations.add(e,n)},t.prototype.onDeactivation=function(e,n){this._deactivations.add(e,n)},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,vt.NAMED_TAG,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,ar.createMockRequest)(this,e,n,r);i=o.some(function(u){return u.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(Dh.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(Pe.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var n=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(n)},t.prototype.getAsync=function(e){return Te(this,void 0,void 0,function(){var n;return xe(this,function(r){return n=this._getNotAllArgs(e,!1),[2,this._get(n)]})})},t.prototype.getTagged=function(e,n,r){var i=this._getNotAllArgs(e,!1,n,r);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,n,r){return Te(this,void 0,void 0,function(){var i;return xe(this,function(o){return i=this._getNotAllArgs(e,!1,n,r),[2,this._get(i)]})})},t.prototype.getNamed=function(e,n){return this.getTagged(e,vt.NAMED_TAG,n)},t.prototype.getNamedAsync=function(e,n){return this.getTaggedAsync(e,vt.NAMED_TAG,n)},t.prototype.getAll=function(e){var n=this._getAllArgs(e);return this._getButThrowIfAsync(n)},t.prototype.getAllAsync=function(e){var n=this._getAllArgs(e);return this._getAll(n)},t.prototype.getAllTagged=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getAll(i)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,vt.NAMED_TAG,n)},t.prototype.getAllNamedAsync=function(e,n){return this.getAllTaggedAsync(e,vt.NAMED_TAG,n)},t.prototype.resolve=function(e){var n=this.isBound(e);n||this.bind(e).toSelf();var r=this.get(e);return n||this.unbind(e),r},t.prototype._preDestroy=function(e,n){if(Reflect.hasMetadata(vt.PRE_DESTROY,e)){var r=Reflect.getMetadata(vt.PRE_DESTROY,e);return n[r.value]()}},t.prototype._removeModuleHandlers=function(e){var n=this._moduleActivationStore.remove(e);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(n){return n.moduleId===e})},t.prototype._deactivate=function(e,n){var r=this,i=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(n,this._deactivations.get(e.serviceIdentifier).values());if((0,bt.isPromise)(o))return this._handleDeactivationError(o.then(function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,n,i);if((0,bt.isPromise)(s))return this._handleDeactivationError(s,i)}catch(u){throw new Error(Pe.ON_DEACTIVATION_ERROR(i.name,u.message))}},t.prototype._handleDeactivationError=function(e,n){return Te(this,void 0,void 0,function(){var r;return xe(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),new Error(Pe.ON_DEACTIVATION_ERROR(n.name,r.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,n){for(var r=this,i=n.next();i.value;){var o=i.value(e);if((0,bt.isPromise)(o))return o.then(function(){return r._deactivateContainerAsync(e,n)});i=n.next()}},t.prototype._deactivateContainerAsync=function(e,n){return Te(this,void 0,void 0,function(){var r;return xe(this,function(i){switch(i.label){case 0:r=n.next(),i.label=1;case 1:return r.value?[4,r.value(e)]:[3,3];case 2:return i.sent(),r=n.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(l,f){l._binding.moduleId=f},r=function(l){return function(f){var g=e.bind(f);return n(g,l),g}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},u=function(l){return function(f){var g=e.rebind(f);return n(g,l),g}},c=function(l){return function(f,g){e._moduleActivationStore.addActivation(l,f,g),e.onActivation(f,g)}},a=function(l){return function(f,g){e._moduleActivationStore.addDeactivation(l,f,g),e.onDeactivation(f,g)}};return function(l){return{bindFunction:r(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:a(l),rebindFunction:u(l),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var n=ur(ur({},e),{contextInterceptor:function(i){return i},targetType:Mt.TargetTypeEnum.Variable});if(this._middleware){var r=this._middleware(n);if(r==null)throw new Error(Pe.INVALID_MIDDLEWARE_RETURN);return r}return this._planAndResolve()(n)},t.prototype._getButThrowIfAsync=function(e){var n=this._get(e);if((0,bt.isPromiseOrContainsPromise)(n))throw new Error(Pe.LAZY_IN_SYNC(e.serviceIdentifier));return n},t.prototype._getAllArgs=function(e){var n={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return n},t.prototype._getNotAllArgs=function(e,n,r,i){var o={avoidConstraints:!1,isMultiInject:n,serviceIdentifier:e,key:r,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=(0,ar.plan)(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=(0,Oh.resolve)(r);return i}},t.prototype._deactivateIfSingleton=function(e){var n=this;if(e.activated)return(0,bt.isPromise)(e.cache)?e.cache.then(function(r){return n._deactivate(e,r)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=this._deactivateIfSingleton(i);if((0,bt.isPromise)(o))throw new Error(Pe.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return Te(this,void 0,void 0,function(){var n=this;return xe(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(i){return n._deactivateIfSingleton(i)}))];case 1:return r.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,n,r){return this.parent?this._deactivate.bind(this.parent)(e,n):this._bindingDeactivationAndPreDestroy(e,n,r)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,n,r){return Te(this,void 0,void 0,function(){return xe(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,n)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,n,r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Pe.CANNOT_UNBIND+" "+(0,Rh.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,n,r){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(n);if((0,bt.isPromise)(o))return o.then(function(){return i._preDestroy(r,n)})}return this._preDestroy(r,n)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,n,r){return Te(this,void 0,void 0,function(){return xe(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(n)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(r,n)];case 3:return i.sent(),[2]}})})},t}();ne.Container=Lh});var na=p(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.AsyncContainerModule=Lt.ContainerModule=void 0;var ta=ct(),kh=function(){function t(e){this.id=(0,ta.id)(),this.registry=e}return t}();Lt.ContainerModule=kh;var Bh=function(){function t(e){this.id=(0,ta.id)(),this.registry=e}return t}();Lt.AsyncContainerModule=Bh});var ra=p(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.getFirstArrayDuplicate=void 0;function jh(t){for(var e=new Set,n=0,r=t;n<r.length;n++){var i=r[n];if(e.has(i))return i;e.add(i)}}cr.getFirstArrayDuplicate=jh});var nt=p(fe=>{"use strict";var Fh=fe&&fe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Uh=fe&&fe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oa=fe&&fe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Fh(e,t,n);return Uh(e,t),e};Object.defineProperty(fe,"__esModule",{value:!0});fe.createTaggedDecorator=fe.tagProperty=fe.tagParameter=fe.decorate=void 0;var lr=oa(ue()),sa=oa(z()),qh=ra();function Gh(t){return t.prototype!==void 0}function Wh(t){if(t!==void 0)throw new Error(lr.INVALID_DECORATOR_OPERATION)}function aa(t,e,n,r){Wh(e),ca(sa.TAGGED,t,n.toString(),r)}fe.tagParameter=aa;function ua(t,e,n){if(Gh(t))throw new Error(lr.INVALID_DECORATOR_OPERATION);ca(sa.TAGGED_PROP,t.constructor,e,n)}fe.tagProperty=ua;function Vh(t){var e=[];if(Array.isArray(t)){e=t;var n=(0,qh.getFirstArrayDuplicate)(e.map(function(r){return r.key}));if(n!==void 0)throw new Error(lr.DUPLICATED_METADATA+" "+n.toString())}else e=[t];return e}function ca(t,e,n,r){var i=Vh(r),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[n];if(s===void 0)s=[];else for(var u=function(f){if(i.some(function(g){return g.key===f.key}))throw new Error(lr.DUPLICATED_METADATA+" "+f.key.toString())},c=0,a=s;c<a.length;c++){var l=a[c];u(l)}s.push.apply(s,i),o[n]=s,Reflect.defineMetadata(t,o,e)}function $h(t){return function(e,n,r){typeof r=="number"?aa(e,n,r,t):ua(e,n,t)}}fe.createTaggedDecorator=$h;function ia(t,e){Reflect.decorate(t,e)}function Kh(t,e){return function(n,r){e(n,r,t)}}function Hh(t,e,n){typeof n=="number"?ia([Kh(n,t)],e):typeof n=="string"?Reflect.decorate([t],e,n):ia([t],e)}fe.decorate=Hh});var fa=p(Ue=>{"use strict";var zh=Ue&&Ue.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yh=Ue&&Ue.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),la=Ue&&Ue.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&zh(e,t,n);return Yh(e,t),e};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.injectable=void 0;var Jh=la(ue()),Ni=la(z());function Xh(){return function(t){if(Reflect.hasOwnMetadata(Ni.PARAM_TYPES,t))throw new Error(Jh.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(Ni.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(Ni.PARAM_TYPES,e,t),t}}Ue.injectable=Xh});var da=p(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.tagged=void 0;var Qh=Oe(),Zh=nt();function eg(t,e){return(0,Zh.createTaggedDecorator)(new Qh.Metadata(t,e))}fr.tagged=eg});var pa=p(qe=>{"use strict";var tg=qe&&qe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ng=qe&&qe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rg=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&tg(e,t,n);return ng(e,t),e};Object.defineProperty(qe,"__esModule",{value:!0});qe.named=void 0;var ig=rg(z()),og=Oe(),sg=nt();function ag(t){return(0,sg.createTaggedDecorator)(new og.Metadata(ig.NAMED_TAG,t))}qe.named=ag});var Ri=p(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.injectBase=void 0;var ug=ue(),cg=Oe(),lg=nt();function fg(t){return function(e){return function(n,r,i){if(e===void 0){var o=typeof n=="function"?n.name:n.constructor.name;throw new Error((0,ug.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,lg.createTaggedDecorator)(new cg.Metadata(t,e))(n,r,i)}}}dr.injectBase=fg});var ha=p(Ge=>{"use strict";var dg=Ge&&Ge.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pg=Ge&&Ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hg=Ge&&Ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&dg(e,t,n);return pg(e,t),e};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.inject=void 0;var gg=hg(z()),mg=Ri(),yg=(0,mg.injectBase)(gg.INJECT_TAG);Ge.inject=yg});var ga=p(We=>{"use strict";var _g=We&&We.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),vg=We&&We.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bg=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&_g(e,t,n);return vg(e,t),e};Object.defineProperty(We,"__esModule",{value:!0});We.optional=void 0;var wg=bg(z()),Sg=Oe(),Eg=nt();function Tg(){return(0,Eg.createTaggedDecorator)(new Sg.Metadata(wg.OPTIONAL_TAG,!0))}We.optional=Tg});var ma=p(Ve=>{"use strict";var xg=Ve&&Ve.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Cg=Ve&&Ve.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ag=Ve&&Ve.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&xg(e,t,n);return Cg(e,t),e};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.unmanaged=void 0;var Ig=Ag(z()),Og=Oe(),Pg=nt();function Ng(){return function(t,e,n){var r=new Og.Metadata(Ig.UNMANAGED_TAG,!0);(0,Pg.tagParameter)(t,e,n,r)}}Ve.unmanaged=Ng});var ya=p($e=>{"use strict";var Rg=$e&&$e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dg=$e&&$e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mg=$e&&$e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Rg(e,t,n);return Dg(e,t),e};Object.defineProperty($e,"__esModule",{value:!0});$e.multiInject=void 0;var Lg=Mg(z()),kg=Ri(),Bg=(0,kg.injectBase)(Lg.MULTI_INJECT_TAG);$e.multiInject=Bg});var _a=p(Ke=>{"use strict";var jg=Ke&&Ke.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fg=Ke&&Ke.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ug=Ke&&Ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&jg(e,t,n);return Fg(e,t),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.targetName=void 0;var qg=Ug(z()),Gg=Oe(),Wg=nt();function Vg(t){return function(e,n,r){var i=new Gg.Metadata(qg.NAME_TAG,t);(0,Wg.tagParameter)(e,n,r,i)}}Ke.targetName=Vg});var Di=p(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.propertyEventDecorator=void 0;var $g=Oe();function Kg(t,e){return function(){return function(n,r){var i=new $g.Metadata(t,r);if(Reflect.hasOwnMetadata(t,n.constructor))throw new Error(e);Reflect.defineMetadata(t,i,n.constructor)}}}pr.propertyEventDecorator=Kg});var ba=p(He=>{"use strict";var Hg=He&&He.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),zg=He&&He.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),va=He&&He.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Hg(e,t,n);return zg(e,t),e};Object.defineProperty(He,"__esModule",{value:!0});He.postConstruct=void 0;var Yg=va(ue()),Jg=va(z()),Xg=Di(),Qg=(0,Xg.propertyEventDecorator)(Jg.POST_CONSTRUCT,Yg.MULTIPLE_POST_CONSTRUCT_METHODS);He.postConstruct=Qg});var Sa=p(ze=>{"use strict";var Zg=ze&&ze.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),em=ze&&ze.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wa=ze&&ze.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Zg(e,t,n);return em(e,t),e};Object.defineProperty(ze,"__esModule",{value:!0});ze.preDestroy=void 0;var tm=wa(ue()),nm=wa(z()),rm=Di(),im=(0,rm.propertyEventDecorator)(nm.PRE_DESTROY,tm.MULTIPLE_PRE_DESTROY_METHODS);ze.preDestroy=im});var Ea=p(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.interfaces=void 0;var Mi;(function(t){})(Mi||(Mi={}));hr.interfaces=Mi});var sn=p(E=>{"use strict";var om=E&&E.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),sm=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),am=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&om(e,t,n);return sm(e,t),e};Object.defineProperty(E,"__esModule",{value:!0});E.multiBindToService=E.getServiceIdentifierAsString=E.typeConstraint=E.namedConstraint=E.taggedConstraint=E.traverseAncerstors=E.decorate=E.interfaces=E.id=E.MetadataReader=E.preDestroy=E.postConstruct=E.targetName=E.multiInject=E.unmanaged=E.optional=E.LazyServiceIdentifer=E.inject=E.named=E.tagged=E.injectable=E.createTaggedDecorator=E.ContainerModule=E.AsyncContainerModule=E.TargetTypeEnum=E.BindingTypeEnum=E.BindingScopeEnum=E.Container=E.METADATA_KEY=void 0;var um=am(z());E.METADATA_KEY=um;var cm=ea();Object.defineProperty(E,"Container",{enumerable:!0,get:function(){return cm.Container}});var Li=Ie();Object.defineProperty(E,"BindingScopeEnum",{enumerable:!0,get:function(){return Li.BindingScopeEnum}});Object.defineProperty(E,"BindingTypeEnum",{enumerable:!0,get:function(){return Li.BindingTypeEnum}});Object.defineProperty(E,"TargetTypeEnum",{enumerable:!0,get:function(){return Li.TargetTypeEnum}});var Ta=na();Object.defineProperty(E,"AsyncContainerModule",{enumerable:!0,get:function(){return Ta.AsyncContainerModule}});Object.defineProperty(E,"ContainerModule",{enumerable:!0,get:function(){return Ta.ContainerModule}});var lm=nt();Object.defineProperty(E,"createTaggedDecorator",{enumerable:!0,get:function(){return lm.createTaggedDecorator}});var fm=fa();Object.defineProperty(E,"injectable",{enumerable:!0,get:function(){return fm.injectable}});var dm=da();Object.defineProperty(E,"tagged",{enumerable:!0,get:function(){return dm.tagged}});var pm=pa();Object.defineProperty(E,"named",{enumerable:!0,get:function(){return pm.named}});var hm=ha();Object.defineProperty(E,"inject",{enumerable:!0,get:function(){return hm.inject}});var gm=ui();Object.defineProperty(E,"LazyServiceIdentifer",{enumerable:!0,get:function(){return gm.LazyServiceIdentifer}});var mm=ga();Object.defineProperty(E,"optional",{enumerable:!0,get:function(){return mm.optional}});var ym=ma();Object.defineProperty(E,"unmanaged",{enumerable:!0,get:function(){return ym.unmanaged}});var _m=ya();Object.defineProperty(E,"multiInject",{enumerable:!0,get:function(){return _m.multiInject}});var vm=_a();Object.defineProperty(E,"targetName",{enumerable:!0,get:function(){return vm.targetName}});var bm=ba();Object.defineProperty(E,"postConstruct",{enumerable:!0,get:function(){return bm.postConstruct}});var wm=Sa();Object.defineProperty(E,"preDestroy",{enumerable:!0,get:function(){return wm.preDestroy}});var Sm=si();Object.defineProperty(E,"MetadataReader",{enumerable:!0,get:function(){return Sm.MetadataReader}});var Em=ct();Object.defineProperty(E,"id",{enumerable:!0,get:function(){return Em.id}});var Tm=Ea();Object.defineProperty(E,"interfaces",{enumerable:!0,get:function(){return Tm.interfaces}});var xm=nt();Object.defineProperty(E,"decorate",{enumerable:!0,get:function(){return xm.decorate}});var gr=Ci();Object.defineProperty(E,"traverseAncerstors",{enumerable:!0,get:function(){return gr.traverseAncerstors}});Object.defineProperty(E,"taggedConstraint",{enumerable:!0,get:function(){return gr.taggedConstraint}});Object.defineProperty(E,"namedConstraint",{enumerable:!0,get:function(){return gr.namedConstraint}});Object.defineProperty(E,"typeConstraint",{enumerable:!0,get:function(){return gr.typeConstraint}});var Cm=Ot();Object.defineProperty(E,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return Cm.getServiceIdentifierAsString}});var Am=vi();Object.defineProperty(E,"multiBindToService",{enumerable:!0,get:function(){return Am.multiBindToService}})});var ka=p((FS,La)=>{"use strict";var{Transform:Fm}=A("stream"),{StringDecoder:Um}=A("string_decoder"),lt=Symbol("last"),br=Symbol("decoder");function qm(t,e,n){let r;if(this.overflow){if(r=this[br].write(t).split(this.matcher),r.length===1)return n();r.shift(),this.overflow=!1}else this[lt]+=this[br].write(t),r=this[lt].split(this.matcher);this[lt]=r.pop();for(let i=0;i<r.length;i++)try{Ma(this,this.mapper(r[i]))}catch(o){return n(o)}if(this.overflow=this[lt].length>this.maxLength,this.overflow&&!this.skipOverflow){n(new Error("maximum buffer reached"));return}n()}function Gm(t){if(this[lt]+=this[br].end(),this[lt])try{Ma(this,this.mapper(this[lt]))}catch(e){return t(e)}t()}function Ma(t,e){e!==void 0&&t.push(e)}function Da(t){return t}function Wm(t,e,n){switch(t=t||/\r?\n/,e=e||Da,n=n||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(n=t,t=/\r?\n/);break;case 2:typeof t=="function"?(n=e,e=t,t=/\r?\n/):typeof e=="object"&&(n=e,e=Da)}n=Object.assign({},n),n.autoDestroy=!0,n.transform=qm,n.flush=Gm,n.readableObjectMode=!0;let r=new Fm(n);return r[lt]="",r[br]=new Um("utf8"),r.matcher=t,r.mapper=e,r.maxLength=n.maxLength,r.skipOverflow=n.skipOverflow||!1,r.overflow=!1,r._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},r}La.exports=Wm});var qa=p((HS,Ua)=>{"use strict";var{Duplex:Vm}=A("stream");function ja(t){t.emit("close")}function $m(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Fa(t){this.removeListener("error",Fa),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Km(t,e){let n=!0,r=new Vm({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let u=!s&&r._readableState.objectMode?o.toString():o;r.push(u)||t.pause()}),t.once("error",function(o){r.destroyed||(n=!1,r.destroy(o))}),t.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(ja,r);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(ja,r)}),n&&t.terminate()},r._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){r._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),r._readableState.endEmitted&&r.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},r._read=function(){t.isPaused&&t.resume()},r._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){r._write(i,o,s)});return}t.send(i,s)},r.on("end",$m),r.on("error",Fa),r}Ua.exports=Km});var ft=p((zS,Ga)=>{"use strict";Ga.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ln=p((YS,Sr)=>{"use strict";var{EMPTY_BUFFER:Hm}=ft(),qi=Buffer[Symbol.species];function zm(t,e){if(t.length===0)return Hm;if(t.length===1)return t[0];let n=Buffer.allocUnsafe(e),r=0;for(let i=0;i<t.length;i++){let o=t[i];n.set(o,r),r+=o.length}return r<e?new qi(n.buffer,n.byteOffset,r):n}function Wa(t,e,n,r,i){for(let o=0;o<i;o++)n[r+o]=t[o]^e[o&3]}function Va(t,e){for(let n=0;n<t.length;n++)t[n]^=e[n&3]}function Ym(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Gi(t){if(Gi.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new qi(t):ArrayBuffer.isView(t)?e=new qi(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Gi.readOnly=!1),e}Sr.exports={concat:zm,mask:Wa,toArrayBuffer:Ym,toBuffer:Gi,unmask:Va};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=A("bufferutil");Sr.exports.mask=function(e,n,r,i,o){o<48?Wa(e,n,r,i,o):t.mask(e,n,r,i,o)},Sr.exports.unmask=function(e,n){e.length<32?Va(e,n):t.unmask(e,n)}}catch{}});var Ha=p((JS,Ka)=>{"use strict";var $a=Symbol("kDone"),Wi=Symbol("kRun"),Vi=class{constructor(e){this[$a]=()=>{this.pending--,this[Wi]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Wi]()}[Wi](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[$a])}}};Ka.exports=Vi});var pn=p((XS,Xa)=>{"use strict";var fn=A("zlib"),za=ln(),Jm=Ha(),{kStatusCode:Ya}=ft(),Xm=Buffer[Symbol.species],Qm=Buffer.from([0,0,255,255]),xr=Symbol("permessage-deflate"),it=Symbol("total-length"),dn=Symbol("callback"),dt=Symbol("buffers"),Tr=Symbol("error"),Er,$i=class{constructor(e,n,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!Er){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Er=new Jm(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[dn];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let n=this._options,r=e.find(i=>!(n.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>i.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let n=e[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(r=>{let i=n[r];if(i.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(i=i[0],r==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else if(r==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=o}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=i})}),e}decompress(e,n,r){Er.add(i=>{this._decompress(e,n,(o,s)=>{i(),r(o,s)})})}compress(e,n,r){Er.add(i=>{this._compress(e,n,(o,s)=>{i(),r(o,s)})})}_decompress(e,n,r){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?fn.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=fn.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[xr]=this,this._inflate[it]=0,this._inflate[dt]=[],this._inflate.on("error",ey),this._inflate.on("data",Ja)}this._inflate[dn]=r,this._inflate.write(e),n&&this._inflate.write(Qm),this._inflate.flush(()=>{let o=this._inflate[Tr];if(o){this._inflate.close(),this._inflate=null,r(o);return}let s=za.concat(this._inflate[dt],this._inflate[it]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[it]=0,this._inflate[dt]=[],n&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,n,r){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?fn.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=fn.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[it]=0,this._deflate[dt]=[],this._deflate.on("data",Zm)}this._deflate[dn]=r,this._deflate.write(e),this._deflate.flush(fn.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=za.concat(this._deflate[dt],this._deflate[it]);n&&(o=new Xm(o.buffer,o.byteOffset,o.length-4)),this._deflate[dn]=null,this._deflate[it]=0,this._deflate[dt]=[],n&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,o)})}};Xa.exports=$i;function Zm(t){this[dt].push(t),this[it]+=t.length}function Ja(t){if(this[it]+=t.length,this[xr]._maxPayload<1||this[it]<=this[xr]._maxPayload){this[dt].push(t);return}this[Tr]=new RangeError("Max payload size exceeded"),this[Tr].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Tr][Ya]=1009,this.removeListener("data",Ja),this.reset()}function ey(t){this[xr]._inflate=null,t[Ya]=1007,this[dn](t)}});var hn=p((QS,Cr)=>{"use strict";var{isUtf8:Qa}=A("buffer"),ty=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ny(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Ki(t){let e=t.length,n=0;for(;n<e;)if(!(t[n]&128))n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}Cr.exports={isValidStatusCode:ny,isValidUTF8:Ki,tokenChars:ty};if(Qa)Cr.exports.isValidUTF8=function(t){return t.length<24?Ki(t):Qa(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=A("utf-8-validate");Cr.exports.isValidUTF8=function(e){return e.length<32?Ki(e):t(e)}}catch{}});var Xi=p((ZS,su)=>{"use strict";var{Writable:ry}=A("stream"),Za=pn(),{BINARY_TYPES:iy,EMPTY_BUFFER:eu,kStatusCode:oy,kWebSocket:sy}=ft(),{concat:Hi,toArrayBuffer:ay,unmask:uy}=ln(),{isValidStatusCode:cy,isValidUTF8:tu}=hn(),Ar=Buffer[Symbol.species],ly=Promise.resolve(),fy=typeof queueMicrotask=="function"?queueMicrotask:dy,Bt=0,nu=1,ru=2,iu=3,zi=4,ou=5,Yi=6,Ji=class extends ry{constructor(e={}){super(),this._binaryType=e.binaryType||iy[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[sy]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Bt,this._loop=!1}_write(e,n,r){if(this._opcode===8&&this._state==Bt)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new Ar(r.buffer,r.byteOffset+e,r.length-e),new Ar(r.buffer,r.byteOffset,e)}let n=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=n.length-e;e>=r.length?n.set(this._buffers.shift(),i):(n.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new Ar(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return n}startLoop(e){let n;this._loop=!0;do switch(this._state){case Bt:n=this.getInfo();break;case nu:n=this.getPayloadLength16();break;case ru:n=this.getPayloadLength64();break;case iu:this.getMask();break;case zi:n=this.getData(e);break;case ou:this._loop=!1;return;default:this._loop=!1,fy(()=>{this._state=Bt,this.startLoop(e)});return}while(this._loop);e(n)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,re(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let n=(e[0]&64)===64;if(n&&!this._extensions[Za.extensionName])return this._loop=!1,re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(n)return this._loop=!1,re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,re(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,re(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,re(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(n)return this._loop=!1,re(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,re(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,re(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,re(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,re(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=nu;else if(this._payloadLength===127)this._state=ru;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),n=e.readUInt32BE(0);return n>Math.pow(2,53-32)-1?(this._loop=!1,re(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,re(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=iu:this._state=zi}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=zi}getData(e){let n=eu;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&uy(n,this._mask)}if(this._opcode>7)return this.controlMessage(n);if(this._compressed){this._state=ou,this.decompress(n,e);return}return n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage()}decompress(e,n){this._extensions[Za.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return n(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return n(re(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let s=this.dataMessage();if(s)return n(s);this.startLoop(n)})}dataMessage(){if(this._fin){let e=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Hi(n,e):this._binaryType==="arraybuffer"?r=ay(Hi(n,e)):r=n,this.emit("message",r,!0)}else{let r=Hi(n,e);if(!this._skipUTF8Validation&&!tu(r))return this._loop=!1,re(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=Yi}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,eu),this.end(),this._state=Bt;else{let n=e.readUInt16BE(0);if(!cy(n))return re(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=new Ar(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!tu(r))return re(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",n,r),this.end(),this._state=Bt}else this._opcode===9?(this.emit("ping",e),this._state=Yi):(this.emit("pong",e),this._state=Yi)}};su.exports=Ji;function re(t,e,n,r,i){let o=new t(n?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,re),o.code=i,o[oy]=r,o}function dy(t){ly.then(t).catch(hy)}function py(t){throw t}function hy(t){process.nextTick(py,t)}});var Qi=p((tE,cu)=>{"use strict";var{Duplex:eE}=A("stream"),{randomFillSync:gy}=A("crypto"),au=pn(),{EMPTY_BUFFER:my}=ft(),{isValidStatusCode:yy}=hn(),{mask:uu,toBuffer:jt}=ln(),Ne=Symbol("kByteLength"),_y=Buffer.alloc(4),Ye=class{constructor(e,n,r){this._extensions=n||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,n){let r,i=!1,o=2,s=!1;n.mask&&(r=n.maskBuffer||_y,n.generateMask?n.generateMask(r):gy(r,0,4),s=(r[0]|r[1]|r[2]|r[3])===0,o=6);let u;typeof e=="string"?(!n.mask||s)&&n[Ne]!==void 0?u=n[Ne]:(e=Buffer.from(e),u=e.length):(u=e.length,i=n.mask&&n.readOnly&&!s);let c=u;u>=65536?(o+=8,c=127):u>125&&(o+=2,c=126);let a=Buffer.allocUnsafe(i?u+o:o);return a[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(a[0]|=64),a[1]=c,c===126?a.writeUInt16BE(u,2):c===127&&(a[2]=a[3]=0,a.writeUIntBE(u,4,6)),n.mask?(a[1]|=128,a[o-4]=r[0],a[o-3]=r[1],a[o-2]=r[2],a[o-1]=r[3],s?[a,e]:i?(uu(e,r,a,o,u),[a]):(uu(e,r,e,0,u),[a,e])):[a,e]}close(e,n,r,i){let o;if(e===void 0)o=my;else{if(typeof e!="number"||!yy(e))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let u=Buffer.byteLength(n);if(u>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+u),o.writeUInt16BE(e,0),typeof n=="string"?o.write(n,2):o.set(n,2)}}let s={[Ne]:o.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(Ye.frame(o,s),i)}ping(e,n,r){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=jt(e),i=e.length,o=jt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ne]:i,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(Ye.frame(e,s),r)}pong(e,n,r){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=jt(e),i=e.length,o=jt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ne]:i,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(Ye.frame(e,s),r)}send(e,n,r){let i=this._extensions[au.extensionName],o=n.binary?2:1,s=n.compress,u,c;if(typeof e=="string"?(u=Buffer.byteLength(e),c=!1):(e=jt(e),u=e.length,c=jt.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=u>=i._threshold),this._compress=s):(s=!1,o=0),n.fin&&(this._firstFragment=!0),i){let a={[Ne]:u,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,a,r]):this.dispatch(e,this._compress,a,r)}else this.sendFrame(Ye.frame(e,{[Ne]:u,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),r)}dispatch(e,n,r,i){if(!n){this.sendFrame(Ye.frame(e,r),i);return}let o=this._extensions[au.extensionName];this._bufferedBytes+=r[Ne],this._deflating=!0,o.compress(e,r.fin,(s,u)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let a=0;a<this._queue.length;a++){let l=this._queue[a],f=l[l.length-1];typeof f=="function"&&f(c)}return}this._bufferedBytes-=r[Ne],this._deflating=!1,r.readOnly=!1,this.sendFrame(Ye.frame(u,r),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Ne],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ne],this._queue.push(e)}sendFrame(e,n){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],n),this._socket.uncork()):this._socket.write(e[0],n)}};cu.exports=Ye});var _u=p((nE,yu)=>{"use strict";var{kForOnEventAttribute:gn,kListener:Zi}=ft(),lu=Symbol("kCode"),fu=Symbol("kData"),du=Symbol("kError"),pu=Symbol("kMessage"),hu=Symbol("kReason"),Ft=Symbol("kTarget"),gu=Symbol("kType"),mu=Symbol("kWasClean"),ot=class{constructor(e){this[Ft]=null,this[gu]=e}get target(){return this[Ft]}get type(){return this[gu]}};Object.defineProperty(ot.prototype,"target",{enumerable:!0});Object.defineProperty(ot.prototype,"type",{enumerable:!0});var wt=class extends ot{constructor(e,n={}){super(e),this[lu]=n.code===void 0?0:n.code,this[hu]=n.reason===void 0?"":n.reason,this[mu]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[lu]}get reason(){return this[hu]}get wasClean(){return this[mu]}};Object.defineProperty(wt.prototype,"code",{enumerable:!0});Object.defineProperty(wt.prototype,"reason",{enumerable:!0});Object.defineProperty(wt.prototype,"wasClean",{enumerable:!0});var Ut=class extends ot{constructor(e,n={}){super(e),this[du]=n.error===void 0?null:n.error,this[pu]=n.message===void 0?"":n.message}get error(){return this[du]}get message(){return this[pu]}};Object.defineProperty(Ut.prototype,"error",{enumerable:!0});Object.defineProperty(Ut.prototype,"message",{enumerable:!0});var mn=class extends ot{constructor(e,n={}){super(e),this[fu]=n.data===void 0?null:n.data}get data(){return this[fu]}};Object.defineProperty(mn.prototype,"data",{enumerable:!0});var vy={addEventListener(t,e,n={}){for(let i of this.listeners(t))if(!n[gn]&&i[Zi]===e&&!i[gn])return;let r;if(t==="message")r=function(o,s){let u=new mn("message",{data:s?o:o.toString()});u[Ft]=this,Ir(e,this,u)};else if(t==="close")r=function(o,s){let u=new wt("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});u[Ft]=this,Ir(e,this,u)};else if(t==="error")r=function(o){let s=new Ut("error",{error:o,message:o.message});s[Ft]=this,Ir(e,this,s)};else if(t==="open")r=function(){let o=new ot("open");o[Ft]=this,Ir(e,this,o)};else return;r[gn]=!!n[gn],r[Zi]=e,n.once?this.once(t,r):this.on(t,r)},removeEventListener(t,e){for(let n of this.listeners(t))if(n[Zi]===e&&!n[gn]){this.removeListener(t,n);break}}};yu.exports={CloseEvent:wt,ErrorEvent:Ut,Event:ot,EventTarget:vy,MessageEvent:mn};function Ir(t,e,n){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,n):t.call(e,n)}});var eo=p((rE,vu)=>{"use strict";var{tokenChars:yn}=hn();function Je(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}function by(t){let e=Object.create(null),n=Object.create(null),r=!1,i=!1,o=!1,s,u,c=-1,a=-1,l=-1,f=0;for(;f<t.length;f++)if(a=t.charCodeAt(f),s===void 0)if(l===-1&&yn[a]===1)c===-1&&(c=f);else if(f!==0&&(a===32||a===9))l===-1&&c!==-1&&(l=f);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1&&(l=f);let m=t.slice(c,l);a===44?(Je(e,m,n),n=Object.create(null)):s=m,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(u===void 0)if(l===-1&&yn[a]===1)c===-1&&(c=f);else if(a===32||a===9)l===-1&&c!==-1&&(l=f);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1&&(l=f),Je(n,t.slice(c,l),!0),a===44&&(Je(e,s,n),n=Object.create(null),s=void 0),c=l=-1}else if(a===61&&c!==-1&&l===-1)u=t.slice(c,f),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(i){if(yn[a]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1?c=f:r||(r=!0),i=!1}else if(o)if(yn[a]===1)c===-1&&(c=f);else if(a===34&&c!==-1)o=!1,l=f;else if(a===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(a===34&&t.charCodeAt(f-1)===61)o=!0;else if(l===-1&&yn[a]===1)c===-1&&(c=f);else if(c!==-1&&(a===32||a===9))l===-1&&(l=f);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1&&(l=f);let m=t.slice(c,l);r&&(m=m.replace(/\\/g,""),r=!1),Je(n,u,m),a===44&&(Je(e,s,n),n=Object.create(null),s=void 0),u=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(c===-1||o||a===32||a===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=f);let g=t.slice(c,l);return s===void 0?Je(e,g,n):(u===void 0?Je(n,g,!0):r?Je(n,u,g.replace(/\\/g,"")):Je(n,u,g),Je(e,s,n)),e}function wy(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(r=>[e].concat(Object.keys(r).map(i=>{let o=r[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}vu.exports={format:wy,parse:by}});var oo=p((sE,Pu)=>{"use strict";var Sy=A("events"),Ey=A("https"),Ty=A("http"),Su=A("net"),xy=A("tls"),{randomBytes:Cy,createHash:Ay}=A("crypto"),{Duplex:iE,Readable:oE}=A("stream"),{URL:to}=A("url"),pt=pn(),Iy=Xi(),Oy=Qi(),{BINARY_TYPES:bu,EMPTY_BUFFER:Or,GUID:Py,kForOnEventAttribute:no,kListener:Ny,kStatusCode:Ry,kWebSocket:de,NOOP:Eu}=ft(),{EventTarget:{addEventListener:Dy,removeEventListener:My}}=_u(),{format:Ly,parse:ky}=eo(),{toBuffer:By}=ln(),jy=30*1e3,Tu=Symbol("kAborted"),ro=[8,13],st=["CONNECTING","OPEN","CLOSING","CLOSED"],Fy=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,R=class extends Sy{constructor(e,n,r){super(),this._binaryType=bu[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Or,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=R.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),xu(this,e,n,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){bu.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,n,r){let i=new Iy({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new Oy(e,this._extensions,r.generateMask),this._receiver=i,this._socket=e,i[de]=this,e[de]=this,i.on("conclude",Gy),i.on("drain",Wy),i.on("error",Vy),i.on("message",$y),i.on("ping",Ky),i.on("pong",Hy),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),n.length>0&&e.unshift(n),e.on("close",Au),e.on("data",Nr),e.on("end",Iu),e.on("error",Ou),this._readyState=R.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[pt.extensionName]&&this._extensions[pt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,n){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING){let r="WebSocket was closed before the connection was established";we(this,this._req,r);return}if(this.readyState===R.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=R.CLOSING,this._sender.close(e,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),jy)}}pause(){this.readyState===R.CONNECTING||this.readyState===R.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,n,r){if(this.readyState===R.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==R.OPEN){io(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(e||Or,n,r)}pong(e,n,r){if(this.readyState===R.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==R.OPEN){io(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(e||Or,n,r)}resume(){this.readyState===R.CONNECTING||this.readyState===R.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,n,r){if(this.readyState===R.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof e=="number"&&(e=e.toString()),this.readyState!==R.OPEN){io(this,e,r);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[pt.extensionName]||(i.compress=!1),this._sender.send(e||Or,i,r)}terminate(){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING){let e="WebSocket was closed before the connection was established";we(this,this._req,e);return}this._socket&&(this._readyState=R.CLOSING,this._socket.destroy())}}};Object.defineProperty(R,"CONNECTING",{enumerable:!0,value:st.indexOf("CONNECTING")});Object.defineProperty(R.prototype,"CONNECTING",{enumerable:!0,value:st.indexOf("CONNECTING")});Object.defineProperty(R,"OPEN",{enumerable:!0,value:st.indexOf("OPEN")});Object.defineProperty(R.prototype,"OPEN",{enumerable:!0,value:st.indexOf("OPEN")});Object.defineProperty(R,"CLOSING",{enumerable:!0,value:st.indexOf("CLOSING")});Object.defineProperty(R.prototype,"CLOSING",{enumerable:!0,value:st.indexOf("CLOSING")});Object.defineProperty(R,"CLOSED",{enumerable:!0,value:st.indexOf("CLOSED")});Object.defineProperty(R.prototype,"CLOSED",{enumerable:!0,value:st.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(R.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(R.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[no])return e[Ny];return null},set(e){for(let n of this.listeners(t))if(n[no]){this.removeListener(t,n);break}typeof e=="function"&&this.addEventListener(t,e,{[no]:!0})}})});R.prototype.addEventListener=Dy;R.prototype.removeEventListener=My;Pu.exports=R;function xu(t,e,n,r){let i={protocolVersion:ro[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!ro.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${ro.join(", ")})`);let o;if(e instanceof to)o=e;else try{o=new to(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",u=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!u?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:u&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let x=new SyntaxError(c);if(t._redirects===0)throw x;Pr(t,x);return}let a=s?443:80,l=Cy(16).toString("base64"),f=s?Ey.request:Ty.request,g=new Set,m;if(i.createConnection=s?qy:Uy,i.defaultPort=i.defaultPort||a,i.port=o.port||a,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new pt(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=Ly({[pt.extensionName]:m.offer()})),n.length){for(let x of n){if(typeof x!="string"||!Fy.test(x)||g.has(x))throw new SyntaxError("An invalid or duplicated subprotocol was specified");g.add(x)}i.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),u){let x=i.path.split(":");i.socketPath=x[0],i.path=x[1]}let T;if(i.followRedirects){if(t._redirects===0){t._originalIpc=u,t._originalSecure=s,t._originalHostOrSocketPath=u?i.socketPath:o.host;let x=r&&r.headers;if(r={...r,headers:{}},x)for(let[q,ie]of Object.entries(x))r.headers[q.toLowerCase()]=ie}else if(t.listenerCount("redirect")===0){let x=u?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!x||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,x||delete i.headers.host,i.auth=void 0)}i.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),T=t._req=f(i),t._redirects&&t.emit("redirect",t.url,T)}else T=t._req=f(i);i.timeout&&T.on("timeout",()=>{we(t,T,"Opening handshake has timed out")}),T.on("error",x=>{T===null||T[Tu]||(T=t._req=null,Pr(t,x))}),T.on("response",x=>{let q=x.headers.location,ie=x.statusCode;if(q&&i.followRedirects&&ie>=300&&ie<400){if(++t._redirects>i.maxRedirects){we(t,T,"Maximum redirects exceeded");return}T.abort();let be;try{be=new to(q,e)}catch{let b=new SyntaxError(`Invalid URL: ${q}`);Pr(t,b);return}xu(t,be,n,r)}else t.emit("unexpected-response",T,x)||we(t,T,`Unexpected server response: ${x.statusCode}`)}),T.on("upgrade",(x,q,ie)=>{if(t.emit("upgrade",x),t.readyState!==R.CONNECTING)return;if(T=t._req=null,x.headers.upgrade.toLowerCase()!=="websocket"){we(t,q,"Invalid Upgrade header");return}let be=Ay("sha1").update(l+Py).digest("base64");if(x.headers["sec-websocket-accept"]!==be){we(t,q,"Invalid Sec-WebSocket-Accept header");return}let Ae=x.headers["sec-websocket-protocol"],b;if(Ae!==void 0?g.size?g.has(Ae)||(b="Server sent an invalid subprotocol"):b="Server sent a subprotocol but none was requested":g.size&&(b="Server sent no subprotocol"),b){we(t,q,b);return}Ae&&(t._protocol=Ae);let v=x.headers["sec-websocket-extensions"];if(v!==void 0){if(!m){we(t,q,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let C;try{C=ky(v)}catch{we(t,q,"Invalid Sec-WebSocket-Extensions header");return}let w=Object.keys(C);if(w.length!==1||w[0]!==pt.extensionName){we(t,q,"Server indicated an extension that was not requested");return}try{m.accept(C[pt.extensionName])}catch{we(t,q,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[pt.extensionName]=m}t.setSocket(q,ie,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(T,t):T.end()}function Pr(t,e){t._readyState=R.CLOSING,t.emit("error",e),t.emitClose()}function Uy(t){return t.path=t.socketPath,Su.connect(t)}function qy(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Su.isIP(t.host)?"":t.host),xy.connect(t)}function we(t,e,n){t._readyState=R.CLOSING;let r=new Error(n);Error.captureStackTrace(r,we),e.setHeader?(e[Tu]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Pr,t,r)):(e.destroy(r),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function io(t,e,n){if(e){let r=By(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(n){let r=new Error(`WebSocket is not open: readyState ${t.readyState} (${st[t.readyState]})`);process.nextTick(n,r)}}function Gy(t,e){let n=this[de];n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,n._socket[de]!==void 0&&(n._socket.removeListener("data",Nr),process.nextTick(Cu,n._socket),t===1005?n.close():n.close(t,e))}function Wy(){let t=this[de];t.isPaused||t._socket.resume()}function Vy(t){let e=this[de];e._socket[de]!==void 0&&(e._socket.removeListener("data",Nr),process.nextTick(Cu,e._socket),e.close(t[Ry])),e.emit("error",t)}function wu(){this[de].emitClose()}function $y(t,e){this[de].emit("message",t,e)}function Ky(t){let e=this[de];e.pong(t,!e._isServer,Eu),e.emit("ping",t)}function Hy(t){this[de].emit("pong",t)}function Cu(t){t.resume()}function Au(){let t=this[de];this.removeListener("close",Au),this.removeListener("data",Nr),this.removeListener("end",Iu),t._readyState=R.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[de]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",wu),t._receiver.on("finish",wu))}function Nr(t){this[de]._receiver.write(t)||this.pause()}function Iu(){let t=this[de];t._readyState=R.CLOSING,t._receiver.end(),this.end()}function Ou(){let t=this[de];this.removeListener("error",Ou),this.on("error",Eu),t&&(t._readyState=R.CLOSING,this.destroy())}});var Ru=p((aE,Nu)=>{"use strict";var{tokenChars:zy}=hn();function Yy(t){let e=new Set,n=-1,r=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(r===-1&&zy[s]===1)n===-1&&(n=i);else if(i!==0&&(s===32||s===9))r===-1&&n!==-1&&(r=i);else if(s===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${i}`);r===-1&&(r=i);let u=t.slice(n,r);if(e.has(u))throw new SyntaxError(`The "${u}" subprotocol is duplicated`);e.add(u),n=r=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(n===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(n,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Nu.exports={parse:Yy}});var Fu=p((cE,ju)=>{"use strict";var Jy=A("events"),Rr=A("http"),{Duplex:uE}=A("stream"),{createHash:Xy}=A("crypto"),Du=eo(),St=pn(),Qy=Ru(),Zy=oo(),{GUID:e_,kWebSocket:t_}=ft(),n_=/^[+/0-9A-Za-z]{22}==$/,Mu=0,Lu=1,Bu=2,so=class extends Jy{constructor(e,n){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Zy,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Rr.createServer((r,i)=>{let o=Rr.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,n)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=r_(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Mu}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Bu){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(_n,this);return}if(e&&this.once("close",e),this._state!==Lu)if(this._state=Lu,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_n,this):process.nextTick(_n,this);else{let n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{_n(this)})}}shouldHandle(e){if(this.options.path){let n=e.url.indexOf("?");if((n!==-1?e.url.slice(0,n):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,n,r,i){n.on("error",ku);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Et(this,e,n,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Et(this,e,n,400,"Invalid Upgrade header");return}if(!o||!n_.test(o)){Et(this,e,n,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){Et(this,e,n,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){vn(n,400);return}let u=e.headers["sec-websocket-protocol"],c=new Set;if(u!==void 0)try{c=Qy.parse(u)}catch{Et(this,e,n,400,"Invalid Sec-WebSocket-Protocol header");return}let a=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&a!==void 0){let f=new St(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let g=Du.parse(a);g[St.extensionName]&&(f.accept(g[St.extensionName]),l[St.extensionName]=f)}catch{Et(this,e,n,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(g,m,T,x)=>{if(!g)return vn(n,m||401,T,x);this.completeUpgrade(l,o,c,e,n,r,i)});return}if(!this.options.verifyClient(f))return vn(n,401)}this.completeUpgrade(l,o,c,e,n,r,i)}completeUpgrade(e,n,r,i,o,s,u){if(!o.readable||!o.writable)return o.destroy();if(o[t_])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Mu)return vn(o,503);let a=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Xy("sha1").update(n+e_).digest("base64")}`],l=new this.options.WebSocket(null);if(r.size){let f=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;f&&(a.push(`Sec-WebSocket-Protocol: ${f}`),l._protocol=f)}if(e[St.extensionName]){let f=e[St.extensionName].params,g=Du.format({[St.extensionName]:[f]});a.push(`Sec-WebSocket-Extensions: ${g}`),l._extensions=e}this.emit("headers",a,i),o.write(a.concat(`\r
`).join(`\r
`)),o.removeListener("error",ku),l.setSocket(o,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_n,this)})),u(l,i)}};ju.exports=so;function r_(t,e){for(let n of Object.keys(e))t.on(n,e[n]);return function(){for(let r of Object.keys(e))t.removeListener(r,e[r])}}function _n(t){t._state=Bu,t.emit("close")}function ku(){this.destroy()}function vn(t,e,n,r){n=n||Rr.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Rr.STATUS_CODES[e]}\r
`+Object.keys(r).map(i=>`${i}: ${r[i]}`).join(`\r
`)+`\r
\r
`+n)}function Et(t,e,n,r,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,Et),t.emit("wsClientError",o,n,e)}else vn(n,r,i)}});var ec=p(Zu=>{(function t(e){"use strict";var n,r,i,o,s,u;function c(b){var v={},C,w;for(C in b)b.hasOwnProperty(C)&&(w=b[C],typeof w=="object"&&w!==null?v[C]=c(w):v[C]=w);return v}function a(b,v){var C,w,B,k;for(w=b.length,B=0;w;)C=w>>>1,k=B+C,v(b[k])?w=C:(B=k+1,w-=C+1);return B}n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},i={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},o={},s={},u={},r={Break:o,Skip:s,Remove:u};function l(b,v){this.parent=b,this.key=v}l.prototype.replace=function(v){this.parent[this.key]=v},l.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function f(b,v,C,w){this.node=b,this.path=v,this.wrap=C,this.ref=w}function g(){}g.prototype.path=function(){var v,C,w,B,k,V;function N(P,G){if(Array.isArray(G))for(w=0,B=G.length;w<B;++w)P.push(G[w]);else P.push(G)}if(!this.__current.path)return null;for(k=[],v=2,C=this.__leavelist.length;v<C;++v)V=this.__leavelist[v],N(k,V.path);return N(k,this.__current.path),k},g.prototype.type=function(){var b=this.current();return b.type||this.__current.wrap},g.prototype.parents=function(){var v,C,w;for(w=[],v=1,C=this.__leavelist.length;v<C;++v)w.push(this.__leavelist[v].node);return w},g.prototype.current=function(){return this.__current.node},g.prototype.__execute=function(v,C){var w,B;return B=void 0,w=this.__current,this.__current=C,this.__state=null,v&&(B=v.call(this,C.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=w,B},g.prototype.notify=function(v){this.__state=v},g.prototype.skip=function(){this.notify(s)},g.prototype.break=function(){this.notify(o)},g.prototype.remove=function(){this.notify(u)},g.prototype.__initialize=function(b,v){this.visitor=v,this.root=b,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,v.fallback==="iteration"?this.__fallback=Object.keys:typeof v.fallback=="function"&&(this.__fallback=v.fallback),this.__keys=i,v.keys&&(this.__keys=Object.assign(Object.create(this.__keys),v.keys))};function m(b){return b==null?!1:typeof b=="object"&&typeof b.type=="string"}function T(b,v){return(b===n.ObjectExpression||b===n.ObjectPattern)&&v==="properties"}function x(b,v){for(var C=b.length-1;C>=0;--C)if(b[C].node===v)return!0;return!1}g.prototype.traverse=function(v,C){var w,B,k,V,N,P,G,X,Q,K,Z,Se;for(this.__initialize(v,C),Se={},w=this.__worklist,B=this.__leavelist,w.push(new f(v,null,null,null)),B.push(new f(null,null,null,null));w.length;){if(k=w.pop(),k===Se){if(k=B.pop(),P=this.__execute(C.leave,k),this.__state===o||P===o)return;continue}if(k.node){if(P=this.__execute(C.enter,k),this.__state===o||P===o)return;if(w.push(Se),B.push(k),this.__state===s||P===s)continue;if(V=k.node,N=V.type||k.wrap,K=this.__keys[N],!K)if(this.__fallback)K=this.__fallback(V);else throw new Error("Unknown node type "+N+".");for(X=K.length;(X-=1)>=0;)if(G=K[X],Z=V[G],!!Z){if(Array.isArray(Z)){for(Q=Z.length;(Q-=1)>=0;)if(Z[Q]&&!x(B,Z[Q])){if(T(N,K[X]))k=new f(Z[Q],[G,Q],"Property",null);else if(m(Z[Q]))k=new f(Z[Q],[G,Q],null,null);else continue;w.push(k)}}else if(m(Z)){if(x(B,Z))continue;w.push(new f(Z,G,null,null))}}}}},g.prototype.replace=function(v,C){var w,B,k,V,N,P,G,X,Q,K,Z,Se,Ze;function tn($){var Re,kn,W,Bn;if($.ref.remove()){for(kn=$.ref.key,Bn=$.ref.parent,Re=w.length;Re--;)if(W=w[Re],W.ref&&W.ref.parent===Bn){if(W.ref.key<kn)break;--W.ref.key}}}for(this.__initialize(v,C),Z={},w=this.__worklist,B=this.__leavelist,Se={root:v},P=new f(v,null,null,new l(Se,"root")),w.push(P),B.push(P);w.length;){if(P=w.pop(),P===Z){if(P=B.pop(),N=this.__execute(C.leave,P),N!==void 0&&N!==o&&N!==s&&N!==u&&P.ref.replace(N),(this.__state===u||N===u)&&tn(P),this.__state===o||N===o)return Se.root;continue}if(N=this.__execute(C.enter,P),N!==void 0&&N!==o&&N!==s&&N!==u&&(P.ref.replace(N),P.node=N),(this.__state===u||N===u)&&(tn(P),P.node=null),this.__state===o||N===o)return Se.root;if(k=P.node,!!k&&(w.push(Z),B.push(P),!(this.__state===s||N===s))){if(V=k.type||P.wrap,Q=this.__keys[V],!Q)if(this.__fallback)Q=this.__fallback(k);else throw new Error("Unknown node type "+V+".");for(G=Q.length;(G-=1)>=0;)if(Ze=Q[G],K=k[Ze],!!K)if(Array.isArray(K)){for(X=K.length;(X-=1)>=0;)if(K[X]){if(T(V,Q[G]))P=new f(K[X],[Ze,X],"Property",new l(K,X));else if(m(K[X]))P=new f(K[X],[Ze,X],null,new l(K,X));else continue;w.push(P)}}else m(K)&&w.push(new f(K,Ze,null,new l(k,Ze)))}}return Se.root};function q(b,v){var C=new g;return C.traverse(b,v)}function ie(b,v){var C=new g;return C.replace(b,v)}function be(b,v){var C;return C=a(v,function(B){return B.range[0]>b.range[0]}),b.extendedRange=[b.range[0],b.range[1]],C!==v.length&&(b.extendedRange[1]=v[C].range[0]),C-=1,C>=0&&(b.extendedRange[0]=v[C].range[1]),b}function Ae(b,v,C){var w=[],B,k,V,N;if(!b.range)throw new Error("attachComments needs range information");if(!C.length){if(v.length){for(V=0,k=v.length;V<k;V+=1)B=c(v[V]),B.extendedRange=[0,b.range[0]],w.push(B);b.leadingComments=w}return b}for(V=0,k=v.length;V<k;V+=1)w.push(be(c(v[V]),C));return N=0,q(b,{enter:function(P){for(var G;N<w.length&&(G=w[N],!(G.extendedRange[1]>P.range[0]));)G.extendedRange[1]===P.range[0]?(P.leadingComments||(P.leadingComments=[]),P.leadingComments.push(G),w.splice(N,1)):N+=1;if(N===w.length)return r.Break;if(w[N].extendedRange[0]>P.range[1])return r.Skip}}),N=0,q(b,{leave:function(P){for(var G;N<w.length&&(G=w[N],!(P.range[1]<G.extendedRange[0]));)P.range[1]===G.extendedRange[0]?(P.trailingComments||(P.trailingComments=[]),P.trailingComments.push(G),w.splice(N,1)):N+=1;if(N===w.length)return r.Break;if(w[N].extendedRange[0]>P.range[1])return r.Skip}}),b}return e.Syntax=n,e.traverse=q,e.replace=ie,e.attachComments=Ae,e.VisitorKeys=i,e.VisitorOption=r,e.Controller=g,e.cloneEnvironment=function(){return t({})},e})(Zu)});var rc=p(nc=>{var tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");nc.encode=function(t){if(0<=t&&t<tc.length)return tc[t];throw new TypeError("Must be between 0 and 63: "+t)}});var uo=p(sc=>{var p_=rc(),ic=5,oc=1<<ic,h_=oc-1,g_=oc;function m_(t){return t<0?(-t<<1)+1:(t<<1)+0}sc.encode=function(e){let n="",r,i=m_(e);do r=i&h_,i>>>=ic,i>0&&(r|=g_),n+=p_.encode(r);while(i>0);return n}});var uc=p((AE,ac)=>{"use strict";ac.exports=typeof URL=="function"?URL:A("url").URL});var En=p(Xe=>{var mt=uc();function y_(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}Xe.getArg=y_;var lc=function(){return!("__proto__"in Object.create(null))}();function fc(t){return t}function __(t){return dc(t)?"$"+t:t}Xe.toSetString=lc?fc:__;function v_(t){return dc(t)?t.slice(1):t}Xe.fromSetString=lc?fc:v_;function dc(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}function cc(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function b_(t,e){let n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=cc(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:cc(t.name,e.name)}Xe.compareByGeneratedPositionsInflated=b_;function w_(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Xe.parseSourceMapInput=w_;var lo="http:",wn=`${lo}//host`;function fo(t){return e=>{let n=Wt(e),r=po(e),i=new mt(e,r);t(i);let o=i.toString();return n==="absolute"?o:n==="scheme-relative"?o.slice(lo.length):n==="path-absolute"?o.slice(wn.length):ho(r,o)}}function gt(t,e){return new mt(t,e).toString()}function S_(t,e){let n=0;do{let r=t+n++;if(e.indexOf(r)===-1)return r}while(!0)}function po(t){let e=t.split("..").length-1,n=S_("p",t),r=`${wn}/`;for(let i=0;i<e;i++)r+=`${n}/`;return r}var E_=/^[A-Za-z0-9\+\-\.]+:/;function Wt(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":E_.test(t)?"absolute":"path-relative"}function ho(t,e){typeof t=="string"&&(t=new mt(t)),typeof e=="string"&&(e=new mt(e));let n=e.pathname.split("/"),r=t.pathname.split("/");for(r.length>0&&!r[r.length-1]&&r.pop();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();return r.map(()=>"..").concat(n).join("/")+e.search+e.hash}var T_=fo(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),x_=fo(t=>{t.href=new mt(".",t.toString()).toString()}),Sn=fo(t=>{});Xe.normalize=Sn;function co(t,e){let n=Wt(e),r=Wt(t);if(t=T_(t),n==="absolute")return gt(e,void 0);if(r==="absolute")return gt(e,t);if(n==="scheme-relative")return Sn(e);if(r==="scheme-relative")return gt(e,gt(t,wn)).slice(lo.length);if(n==="path-absolute")return Sn(e);if(r==="path-absolute")return gt(e,gt(t,wn)).slice(wn.length);let i=po(e+t),o=gt(e,gt(t,i));return ho(i,o)}Xe.join=co;function C_(t,e){let n=A_(t,e);return typeof n=="string"?n:Sn(e)}Xe.relative=C_;function A_(t,e){if(Wt(t)!==Wt(e))return null;let r=po(t+e),i=new mt(t,r),o=new mt(e,r);try{new mt("",o.toString())}catch{return null}return o.protocol!==i.protocol||o.user!==i.user||o.password!==i.password||o.hostname!==i.hostname||o.port!==i.port?null:ho(i,o)}function I_(t,e,n){t&&Wt(e)==="path-absolute"&&(e=e.replace(/^\//,""));let r=Sn(e||"");return t&&(r=co(t,r)),n&&(r=co(x_(n),r)),r}Xe.computeSourceURL=I_});var go=p(pc=>{var Tn=class{constructor(){this._array=[],this._set=new Map}static fromArray(e,n){let r=new Tn;for(let i=0,o=e.length;i<o;i++)r.add(e[i],n);return r}size(){return this._set.size}add(e,n){let r=this.has(e),i=this._array.length;(!r||n)&&this._array.push(e),r||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){let n=this._set.get(e);if(n>=0)return n;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};pc.ArraySet=Tn});var mc=p(gc=>{var hc=En();function O_(t,e){let n=t.generatedLine,r=e.generatedLine,i=t.generatedColumn,o=e.generatedColumn;return r>n||r==n&&o>=i||hc.compareByGeneratedPositionsInflated(t,e)<=0}var mo=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,n){this._array.forEach(e,n)}add(e){O_(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(hc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};gc.MappingList=mo});var yo=p(yc=>{var xn=uo(),J=En(),kr=go().ArraySet,P_=mc().MappingList,Vt=class{constructor(e){e||(e={}),this._file=J.getArg(e,"file",null),this._sourceRoot=J.getArg(e,"sourceRoot",null),this._skipValidation=J.getArg(e,"skipValidation",!1),this._sources=new kr,this._names=new kr,this._mappings=new P_,this._sourcesContents=null}static fromSourceMap(e){let n=e.sourceRoot,r=new Vt({file:e.file,sourceRoot:n});return e.eachMapping(function(i){let o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,n!=null&&(o.source=J.relative(n,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),r.addMapping(o)}),e.sources.forEach(function(i){let o=i;n!==null&&(o=J.relative(n,i)),r._sources.has(o)||r._sources.add(o);let s=e.sourceContentFor(i);s!=null&&r.setSourceContent(i,s)}),r}addMapping(e){let n=J.getArg(e,"generated"),r=J.getArg(e,"original",null),i=J.getArg(e,"source",null),o=J.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:i,name:o})}setSourceContent(e,n){let r=e;this._sourceRoot!=null&&(r=J.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[J.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[J.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,n,r){let i=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}let o=this._sourceRoot;o!=null&&(i=J.relative(o,i));let s=this._mappings.toArray().length>0?new kr:this._sources,u=new kr;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){let f=e.originalPositionFor({line:c.originalLine,column:c.originalColumn});f.source!=null&&(c.source=f.source,r!=null&&(c.source=J.join(r,c.source)),o!=null&&(c.source=J.relative(o,c.source)),c.originalLine=f.line,c.originalColumn=f.column,f.name!=null&&(c.name=f.name))}let a=c.source;a!=null&&!s.has(a)&&s.add(a);let l=c.name;l!=null&&!u.has(l)&&u.add(l)},this),this._sources=s,this._names=u,e.sources.forEach(function(c){let a=e.sourceContentFor(c);a!=null&&(r!=null&&(c=J.join(r,c)),o!=null&&(c=J.relative(o,c)),this.setSourceContent(c,a))},this)}_validateMapping(e,n,r,i){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!i)){if(!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:i}))}}_serializeMappings(){let e=0,n=1,r=0,i=0,o=0,s=0,u="",c,a,l,f,g=this._mappings.toArray();for(let m=0,T=g.length;m<T;m++){if(a=g[m],c="",a.generatedLine!==n)for(e=0;a.generatedLine!==n;)c+=";",n++;else if(m>0){if(!J.compareByGeneratedPositionsInflated(a,g[m-1]))continue;c+=","}c+=xn.encode(a.generatedColumn-e),e=a.generatedColumn,a.source!=null&&(f=this._sources.indexOf(a.source),c+=xn.encode(f-s),s=f,c+=xn.encode(a.originalLine-1-i),i=a.originalLine-1,c+=xn.encode(a.originalColumn-r),r=a.originalColumn,a.name!=null&&(l=this._names.indexOf(a.name),c+=xn.encode(l-o),o=l)),u+=c}return u}_generateSourcesContent(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=J.relative(n,r));let i=J.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};Vt.prototype._version=3;yc.SourceMapGenerator=Vt});var _c=p(xt=>{xt.GREATEST_LOWER_BOUND=1;xt.LEAST_UPPER_BOUND=2;function _o(t,e,n,r,i,o){let s=Math.floor((e-t)/2)+t,u=i(n,r[s],!0);return u===0?s:u>0?e-s>1?_o(s,e,n,r,i,o):o==xt.LEAST_UPPER_BOUND?e<r.length?e:-1:s:s-t>1?_o(t,s,n,r,i,o):o==xt.LEAST_UPPER_BOUND?s:t<0?-1:t}xt.search=function(e,n,r,i){if(n.length===0)return-1;let o=_o(-1,n.length,e,n,r,i||xt.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&r(n[o],n[o-1],!0)===0;)--o;return o}});var bo=p((DE,vo)=>{"use strict";var N_=A("fs"),R_=A("path");vo.exports=function(){return new Promise((e,n)=>{let r=R_.join(__dirname,"mappings.wasm");N_.readFile(r,null,(i,o)=>{if(i){n(i);return}e(o.buffer)})})};vo.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var bc=p((ME,vc)=>{var D_=bo();function M_(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Cn=null;vc.exports=function(){if(Cn)return Cn;let e=[];return Cn=D_().then(n=>WebAssembly.instantiate(n,{env:{mapping_callback(r,i,o,s,u,c,a,l,f,g){let m=new M_;m.generatedLine=r+1,m.generatedColumn=i,o&&(m.lastGeneratedColumn=s-1),u&&(m.source=c,m.originalLine=a+1,m.originalColumn=l,f&&(m.name=g)),e[e.length-1](m)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(n=>({exports:n.instance.exports,withMappingCallback:(r,i)=>{e.push(r);try{i()}finally{e.pop()}}})).then(null,n=>{throw Cn=null,n}),Cn}});var wc=p(jr=>{var L=En(),L_=_c(),wo=go().ArraySet,LE=uo(),k_=bo(),B_=bc(),So=Symbol("smcInternal"),H=class{constructor(e,n){return e==So?Promise.resolve(this):j_(e,n)}static initialize(e){k_.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,n){return F_(e,n)}static async with(e,n,r){let i=await new H(e,n);try{return await r(i)}finally{i.destroy()}}eachMapping(e,n,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};H.prototype._version=3;H.GENERATED_ORDER=1;H.ORIGINAL_ORDER=2;H.GREATEST_LOWER_BOUND=1;H.LEAST_UPPER_BOUND=2;jr.SourceMapConsumer=H;var yt=class extends H{constructor(e,n){return super(So).then(r=>{let i=e;typeof e=="string"&&(i=L.parseSourceMapInput(e));let o=L.getArg(i,"version"),s=L.getArg(i,"sources").map(String),u=L.getArg(i,"names",[]),c=L.getArg(i,"sourceRoot",null),a=L.getArg(i,"sourcesContent",null),l=L.getArg(i,"mappings"),f=L.getArg(i,"file",null);if(o!=r._version)throw new Error("Unsupported version: "+o);return r._sourceLookupCache=new Map,r._names=wo.fromArray(u.map(String),!0),r._sources=wo.fromArray(s,!0),r._absoluteSources=wo.fromArray(r._sources.toArray().map(function(g){return L.computeSourceURL(c,g,n)}),!0),r.sourceRoot=c,r.sourcesContent=a,r._mappings=l,r._sourceMapURL=n,r.file=f,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,B_().then(g=>(r._wasm=g,r))})}_findSourceIndex(e){let n=this._sourceLookupCache.get(e);if(typeof n=="number")return n;let r=L.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(r)){let o=this._absoluteSources.indexOf(r);return this._sourceLookupCache.set(e,o),o}let i=L.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let o=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,o),o}return-1}static fromSourceMap(e,n){return new yt(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,n=e.length,r=this._wasm.exports.allocate_mappings(n),i=new Uint8Array(this._wasm.exports.memory.buffer,r,n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);let o=this._wasm.exports.parse_mappings(r);if(!o){let s=this._wasm.exports.get_last_error(),u=`Error parsing mappings (code ${s}): `;switch(s){case 1:u+="the mappings contained a negative line, column, source index, or name index";break;case 2:u+="the mappings contained a number larger than 2**32";break;case 3:u+="reached EOF while in the middle of parsing a VLQ";break;case 4:u+="invalid base 64 character while parsing a VLQ";break;default:u+="unknown error code";break}throw new Error(u)}this._mappingsPtr=o}eachMapping(e,n,r){let i=n||null,o=r||H.GENERATED_ORDER;this._wasm.withMappingCallback(s=>{s.source!==null&&(s.source=this._absoluteSources.at(s.source),s.name!==null&&(s.name=this._names.at(s.name))),this._computedColumnSpans&&s.lastGeneratedColumn===null&&(s.lastGeneratedColumn=1/0),e.call(i,s)},()=>{switch(o){case H.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case H.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let n=L.getArg(e,"source"),r=L.getArg(e,"line"),i=e.column||0;if(n=this._findSourceIndex(n),n<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");let o=[];return this._wasm.withMappingCallback(s=>{let u=s.lastGeneratedColumn;this._computedColumnSpans&&u===null&&(u=1/0),o.push({line:s.generatedLine,column:s.generatedColumn,lastColumn:u})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),n,r-1,"column"in e,i)}),o}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let n={generatedLine:L.getArg(e,"line"),generatedColumn:L.getArg(e,"column")};if(n.generatedLine<1)throw new Error("Line numbers must be >= 1");if(n.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r=L.getArg(e,"bias",H.GREATEST_LOWER_BOUND);r==null&&(r=H.GREATEST_LOWER_BOUND);let i;if(this._wasm.withMappingCallback(o=>i=o,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),n.generatedLine-1,n.generatedColumn,r)}),i&&i.generatedLine===n.generatedLine){let o=L.getArg(i,"source",null);o!==null&&(o=this._absoluteSources.at(o));let s=L.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:o,line:L.getArg(i,"originalLine",null),column:L.getArg(i,"originalColumn",null),name:s}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,n){if(!this.sourcesContent)return null;let r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let n=L.getArg(e,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};let r={source:n,originalLine:L.getArg(e,"line"),originalColumn:L.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let i=L.getArg(e,"bias",H.GREATEST_LOWER_BOUND);i==null&&(i=H.GREATEST_LOWER_BOUND);let o;if(this._wasm.withMappingCallback(s=>o=s,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,i)}),o&&o.source===r.source){let s=o.lastGeneratedColumn;return this._computedColumnSpans&&s===null&&(s=1/0),{line:L.getArg(o,"generatedLine",null),column:L.getArg(o,"generatedColumn",null),lastColumn:s}}return{line:null,column:null,lastColumn:null}}};yt.prototype.consumer=H;jr.BasicSourceMapConsumer=yt;var Br=class extends H{constructor(e,n){return super(So).then(r=>{let i=e;typeof e=="string"&&(i=L.parseSourceMapInput(e));let o=L.getArg(i,"version"),s=L.getArg(i,"sections");if(o!=r._version)throw new Error("Unsupported version: "+o);let u={line:-1,column:0};return Promise.all(s.map(c=>{if(c.url)throw new Error("Support for url field in sections not implemented.");let a=L.getArg(c,"offset"),l=L.getArg(a,"line"),f=L.getArg(a,"column");if(l<u.line||l===u.line&&f<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,new H(L.getArg(c,"map"),n).then(m=>({generatedOffset:{generatedLine:l+1,generatedColumn:f+1},consumer:m}))})).then(c=>(r._sections=c,r))})}get sources(){let e=[];for(let n=0;n<this._sections.length;n++)for(let r=0;r<this._sections[n].consumer.sources.length;r++)e.push(this._sections[n].consumer.sources[r]);return e}originalPositionFor(e){let n={generatedLine:L.getArg(e,"line"),generatedColumn:L.getArg(e,"column")},r=L_.search(n,this._sections,function(o,s){let u=o.generatedLine-s.generatedOffset.generatedLine;return u||o.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,n){for(let r=0;r<this._sections.length;r++){let o=this._sections[r].consumer.sourceContentFor(e,!0);if(o)return o}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let n=0;n<this._sections.length;n++){let{consumer:r}=this._sections[n];if(r._findSourceIndex(e)!==-1)return n}return-1}generatedPositionFor(e){let n=this._findSectionIndex(L.getArg(e,"source")),r=n>=0?this._sections[n]:null,i=n>=0&&n+1<this._sections.length?this._sections[n+1]:null,o=r&&r.consumer.generatedPositionFor(e);if(o&&o.line!==null){let s=r.generatedOffset.generatedLine-1,u=r.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=u,typeof o.lastColumn=="number"&&(o.lastColumn+=u)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let n=this._findSectionIndex(L.getArg(e,"source")),r=n>=0?this._sections[n]:null,i=n>=0&&n+1<this._sections.length?this._sections[n+1]:null;return r?r.consumer.allGeneratedPositionsFor(e).map(o=>{let s=r.generatedOffset.generatedLine-1,u=r.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=u,typeof o.lastColumn=="number"&&(o.lastColumn+=u)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}):[]}eachMapping(e,n,r){this._sections.forEach((i,o)=>{let s=o+1<this._sections.length?this._sections[o+1]:null,{generatedOffset:u}=i,c=u.generatedLine-1,a=u.generatedColumn-1;i.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=a,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=a)),l.lastGeneratedColumn===1/0&&s&&l.generatedLine===s.generatedOffset.generatedLine&&(l.lastGeneratedColumn=s.generatedOffset.generatedColumn-2),l.generatedLine+=c,e.call(this,l)},n,r)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};jr.IndexedSourceMapConsumer=Br;function j_(t,e){let n=t;typeof t=="string"&&(n=L.parseSourceMapInput(t));let r=n.sections!=null?new Br(n,e):new yt(n,e);return Promise.resolve(r)}function F_(t,e){return yt.fromSourceMap(t,e)}});var Ec=p(Sc=>{var U_=yo().SourceMapGenerator,Fr=En(),q_=/(\r?\n)/,G_=10,$t="$$$isSourceNode$$$",Kt=class{constructor(e,n,r,i,o){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=n==null?null:n,this.source=r==null?null:r,this.name=o==null?null:o,this[$t]=!0,i!=null&&this.add(i)}static fromStringWithSourceMap(e,n,r){let i=new Kt,o=e.split(q_),s=0,u=function(){let m=x(),T=x()||"";return m+T;function x(){return s<o.length?o[s++]:void 0}},c=1,a=0,l=null,f;return n.eachMapping(function(m){if(l!==null)if(c<m.generatedLine)g(l,u()),c++,a=0;else{f=o[s]||"";let T=f.substr(0,m.generatedColumn-a);o[s]=f.substr(m.generatedColumn-a),a=m.generatedColumn,g(l,T),l=m;return}for(;c<m.generatedLine;)i.add(u()),c++;a<m.generatedColumn&&(f=o[s]||"",i.add(f.substr(0,m.generatedColumn)),o[s]=f.substr(m.generatedColumn),a=m.generatedColumn),l=m},this),s<o.length&&(l&&g(l,u()),i.add(o.splice(s).join(""))),n.sources.forEach(function(m){let T=n.sourceContentFor(m);T!=null&&(r!=null&&(m=Fr.join(r,m)),i.setSourceContent(m,T))}),i;function g(m,T){if(m===null||m.source===void 0)i.add(T);else{let x=r?Fr.join(r,m.source):m.source;i.add(new Kt(m.originalLine,m.originalColumn,x,T,m.name))}}}add(e){if(Array.isArray(e))e.forEach(function(n){this.add(n)},this);else if(e[$t]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let n=e.length-1;n>=0;n--)this.prepend(e[n]);else if(e[$t]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let n;for(let r=0,i=this.children.length;r<i;r++)n=this.children[r],n[$t]?n.walk(e):n!==""&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let n,r,i=this.children.length;if(i>0){for(n=[],r=0;r<i-1;r++)n.push(this.children[r]),n.push(e);n.push(this.children[r]),this.children=n}return this}replaceRight(e,n){let r=this.children[this.children.length-1];return r[$t]?r.replaceRight(e,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,n):this.children.push("".replace(e,n)),this}setSourceContent(e,n){this.sourceContents[Fr.toSetString(e)]=n}walkSourceContents(e){for(let r=0,i=this.children.length;r<i;r++)this.children[r][$t]&&this.children[r].walkSourceContents(e);let n=Object.keys(this.sourceContents);for(let r=0,i=n.length;r<i;r++)e(Fr.fromSetString(n[r]),this.sourceContents[n[r]])}toString(){let e="";return this.walk(function(n){e+=n}),e}toStringWithSourceMap(e){let n={code:"",line:1,column:0},r=new U_(e),i=!1,o=null,s=null,u=null,c=null;return this.walk(function(a,l){n.code+=a,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||s!==l.line||u!==l.column||c!==l.name)&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:n.line,column:n.column},name:l.name}),o=l.source,s=l.line,u=l.column,c=l.name,i=!0):i&&(r.addMapping({generated:{line:n.line,column:n.column}}),o=null,i=!1);for(let f=0,g=a.length;f<g;f++)a.charCodeAt(f)===G_?(n.line++,n.column=0,f+1===g?(o=null,i=!1):i&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:n.line,column:n.column},name:l.name})):n.column++}),this.walkSourceContents(function(a,l){r.setSourceContent(a,l)}),{code:n.code,map:r}}};Sc.SourceNode=Kt});var Tc=p(Ur=>{Ur.SourceMapGenerator=yo().SourceMapGenerator;Ur.SourceMapConsumer=wc().SourceMapConsumer;Ur.SourceNode=Ec().SourceNode});var Oc=p((UE,Ic)=>{Ic.exports=Ac;Ac.sync=V_;var xc=A("fs");function W_(t,e){var n=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function Cc(t,e,n){return!t.isSymbolicLink()&&!t.isFile()?!1:W_(e,n)}function Ac(t,e,n){xc.stat(t,function(r,i){n(r,r?!1:Cc(i,t,e))})}function V_(t,e){return Cc(xc.statSync(t),t,e)}});var Mc=p((qE,Dc)=>{Dc.exports=Nc;Nc.sync=$_;var Pc=A("fs");function Nc(t,e,n){Pc.stat(t,function(r,i){n(r,r?!1:Rc(i,e))})}function $_(t,e){return Rc(Pc.statSync(t),e)}function Rc(t,e){return t.isFile()&&K_(t,e)}function K_(t,e){var n=t.mode,r=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),c=parseInt("010",8),a=parseInt("001",8),l=u|c,f=n&a||n&c&&i===s||n&u&&r===o||n&l&&o===0;return f}});var kc=p((WE,Lc)=>{var GE=A("fs"),qr;process.platform==="win32"||global.TESTING_WINDOWS?qr=Oc():qr=Mc();Lc.exports=Eo;Eo.sync=H_;function Eo(t,e,n){if(typeof e=="function"&&(n=e,e={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){Eo(t,e||{},function(o,s){o?i(o):r(s)})})}qr(t,e||{},function(r,i){r&&(r.code==="EACCES"||e&&e.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function H_(t,e){try{return qr.sync(t,e||{})}catch(n){if(e&&e.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Wc=p((VE,Gc)=>{var Ht=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Bc=A("path"),z_=Ht?";":":",jc=kc(),Fc=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Uc=(t,e)=>{let n=e.colon||z_,r=t.match(/\//)||Ht&&t.match(/\\/)?[""]:[...Ht?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(n)],i=Ht?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Ht?i.split(n):[""];return Ht&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},qc=(t,e,n)=>{typeof e=="function"&&(n=e,e={}),e||(e={});let{pathEnv:r,pathExt:i,pathExtExe:o}=Uc(t,e),s=[],u=a=>new Promise((l,f)=>{if(a===r.length)return e.all&&s.length?l(s):f(Fc(t));let g=r[a],m=/^".*"$/.test(g)?g.slice(1,-1):g,T=Bc.join(m,t),x=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+T:T;l(c(x,a,0))}),c=(a,l,f)=>new Promise((g,m)=>{if(f===i.length)return g(u(l+1));let T=i[f];jc(a+T,{pathExt:o},(x,q)=>{if(!x&&q)if(e.all)s.push(a+T);else return g(a+T);return g(c(a,l,f+1))})});return n?u(0).then(a=>n(null,a),n):u(0)},Y_=(t,e)=>{e=e||{};let{pathEnv:n,pathExt:r,pathExtExe:i}=Uc(t,e),o=[];for(let s=0;s<n.length;s++){let u=n[s],c=/^".*"$/.test(u)?u.slice(1,-1):u,a=Bc.join(c,t),l=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+a:a;for(let f=0;f<r.length;f++){let g=l+r[f];try{if(jc.sync(g,{pathExt:i}))if(e.all)o.push(g);else return g}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw Fc(t)};Gc.exports=qc;qc.sync=Y_});var $c=p(($E,To)=>{"use strict";var Vc=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};To.exports=Vc;To.exports.default=Vc});var Yc=p((KE,zc)=>{"use strict";var Kc=A("path"),J_=Wc(),X_=$c();function Hc(t,e){let n=t.options.env||process.env,r=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=J_.sync(t.command,{path:n[X_({env:n})],pathExt:e?Kc.delimiter:void 0})}catch{}finally{o&&process.chdir(r)}return s&&(s=Kc.resolve(i?t.options.cwd:"",s)),s}function Q_(t){return Hc(t)||Hc(t,!0)}zc.exports=Q_});var Jc=p((HE,Co)=>{"use strict";var xo=/([()\][%!^"`<>&|;, *?])/g;function Z_(t){return t=t.replace(xo,"^$1"),t}function ev(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(xo,"^$1"),e&&(t=t.replace(xo,"^$1")),t}Co.exports.command=Z_;Co.exports.argument=ev});var Qc=p((zE,Xc)=>{"use strict";Xc.exports=/^#!(.*)/});var el=p((YE,Zc)=>{"use strict";var tv=Qc();Zc.exports=(t="")=>{let e=t.match(tv);if(!e)return null;let[n,r]=e[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var nl=p((JE,tl)=>{"use strict";var Ao=A("fs"),nv=el();function rv(t){let n=Buffer.alloc(150),r;try{r=Ao.openSync(t,"r"),Ao.readSync(r,n,0,150,0),Ao.closeSync(r)}catch{}return nv(n.toString())}tl.exports=rv});var sl=p((XE,ol)=>{"use strict";var iv=A("path"),rl=Yc(),il=Jc(),ov=nl(),sv=process.platform==="win32",av=/\.(?:com|exe)$/i,uv=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function cv(t){t.file=rl(t);let e=t.file&&ov(t.file);return e?(t.args.unshift(t.file),t.command=e,rl(t)):t.file}function lv(t){if(!sv)return t;let e=cv(t),n=!av.test(e);if(t.options.forceShell||n){let r=uv.test(e);t.command=iv.normalize(t.command),t.command=il.command(t.command),t.args=t.args.map(o=>il.argument(o,r));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function fv(t,e,n){e&&!Array.isArray(e)&&(n=e,e=null),e=e?e.slice(0):[],n=Object.assign({},n);let r={command:t,args:e,options:n,file:void 0,original:{command:t,args:e}};return n.shell?r:lv(r)}ol.exports=fv});var cl=p((QE,ul)=>{"use strict";var Io=process.platform==="win32";function Oo(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function dv(t,e){if(!Io)return;let n=t.emit;t.emit=function(r,i){if(r==="exit"){let o=al(i,e,"spawn");if(o)return n.call(t,"error",o)}return n.apply(t,arguments)}}function al(t,e){return Io&&t===1&&!e.file?Oo(e.original,"spawn"):null}function pv(t,e){return Io&&t===1&&!e.file?Oo(e.original,"spawnSync"):null}ul.exports={hookChildProcess:dv,verifyENOENT:al,verifyENOENTSync:pv,notFoundError:Oo}});var dl=p((ZE,zt)=>{"use strict";var ll=A("child_process"),Po=sl(),No=cl();function fl(t,e,n){let r=Po(t,e,n),i=ll.spawn(r.command,r.args,r.options);return No.hookChildProcess(i,r),i}function hv(t,e,n){let r=Po(t,e,n),i=ll.spawnSync(r.command,r.args,r.options);return i.error=i.error||No.verifyENOENTSync(i.status,r),i}zt.exports=fl;zt.exports.spawn=fl;zt.exports.sync=hv;zt.exports._parse=Po;zt.exports._enoent=No});var hl=p((eT,pl)=>{"use strict";pl.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),n=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===n&&(t=t.slice(0,t.length-1)),t}});var ml=p((tT,Ro)=>{"use strict";var gl=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};Ro.exports=gl;Ro.exports.default=gl});var vl=p((nT,In)=>{"use strict";var An=A("path"),yl=ml(),_l=t=>{t={cwd:process.cwd(),path:process.env[yl()],execPath:process.execPath,...t};let e,n=An.resolve(t.cwd),r=[];for(;e!==n;)r.push(An.join(n,"node_modules/.bin")),e=n,n=An.resolve(n,"..");let i=An.resolve(t.cwd,t.execPath,"..");return r.push(i),r.concat(t.path).join(An.delimiter)};In.exports=_l;In.exports.default=_l;In.exports.env=t=>{t={env:process.env,...t};let e={...t.env},n=yl({env:e});return t.path=e[n],e[n]=In.exports(t),e}});var wl=p((rT,Do)=>{"use strict";var bl=(t,e)=>{for(let n of Reflect.ownKeys(e))Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t};Do.exports=bl;Do.exports.default=bl});var El=p((iT,Wr)=>{"use strict";var gv=wl(),Gr=new WeakMap,Sl=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let n,r=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(Gr.set(o,++r),r===1)n=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return gv(o,t),Gr.set(o,r),o};Wr.exports=Sl;Wr.exports.default=Sl;Wr.exports.callCount=t=>{if(!Gr.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Gr.get(t)}});var Tl=p(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.SIGNALS=void 0;var mv=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Vr.SIGNALS=mv});var Mo=p(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.SIGRTMAX=Yt.getRealtimeSignals=void 0;var yv=function(){let t=Cl-xl+1;return Array.from({length:t},_v)};Yt.getRealtimeSignals=yv;var _v=function(t,e){return{name:`SIGRT${e+1}`,number:xl+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},xl=34,Cl=64;Yt.SIGRTMAX=Cl});var Al=p($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.getSignals=void 0;var vv=A("os"),bv=Tl(),wv=Mo(),Sv=function(){let t=(0,wv.getRealtimeSignals)();return[...bv.SIGNALS,...t].map(Ev)};$r.getSignals=Sv;var Ev=function({name:t,number:e,description:n,action:r,forced:i=!1,standard:o}){let{signals:{[t]:s}}=vv.constants,u=s!==void 0;return{name:t,number:u?s:e,description:n,supported:u,action:r,forced:i,standard:o}}});var Ol=p(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.signalsByNumber=Jt.signalsByName=void 0;var Tv=A("os"),Il=Al(),xv=Mo(),Cv=function(){return(0,Il.getSignals)().reduce(Av,{})},Av=function(t,{name:e,number:n,description:r,supported:i,action:o,forced:s,standard:u}){return{...t,[e]:{name:e,number:n,description:r,supported:i,action:o,forced:s,standard:u}}},Iv=Cv();Jt.signalsByName=Iv;var Ov=function(){let t=(0,Il.getSignals)(),e=xv.SIGRTMAX+1,n=Array.from({length:e},(r,i)=>Pv(i,t));return Object.assign({},...n)},Pv=function(t,e){let n=Nv(t,e);if(n===void 0)return{};let{name:r,description:i,supported:o,action:s,forced:u,standard:c}=n;return{[t]:{name:r,number:t,description:i,supported:o,action:s,forced:u,standard:c}}},Nv=function(t,e){let n=e.find(({name:r})=>Tv.constants.signals[r]===t);return n!==void 0?n:e.find(r=>r.number===t)},Rv=Ov();Jt.signalsByNumber=Rv});var Nl=p((cT,Pl)=>{"use strict";var{signalsByName:Dv}=Ol(),Mv=({timedOut:t,timeout:e,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",Lv=({stdout:t,stderr:e,all:n,error:r,signal:i,exitCode:o,command:s,escapedCommand:u,timedOut:c,isCanceled:a,killed:l,parsed:{options:{timeout:f}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let g=i===void 0?void 0:Dv[i].description,m=r&&r.code,x=`Command ${Mv({timedOut:c,timeout:f,errorCode:m,signal:i,signalDescription:g,exitCode:o,isCanceled:a})}: ${s}`,q=Object.prototype.toString.call(r)==="[object Error]",ie=q?`${x}
${r.message}`:x,be=[ie,e,t].filter(Boolean).join(`
`);return q?(r.originalMessage=r.message,r.message=be):r=new Error(be),r.shortMessage=ie,r.command=s,r.escapedCommand=u,r.exitCode=o,r.signal=i,r.signalDescription=g,r.stdout=t,r.stderr=e,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(c),r.isCanceled=a,r.killed=l&&!c,r};Pl.exports=Lv});var Dl=p((lT,Lo)=>{"use strict";var Kr=["stdin","stdout","stderr"],kv=t=>Kr.some(e=>t[e]!==void 0),Rl=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return Kr.map(r=>t[r]);if(kv(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Kr.map(r=>`\`${r}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let n=Math.max(e.length,Kr.length);return Array.from({length:n},(r,i)=>e[i])};Lo.exports=Rl;Lo.exports.node=t=>{let e=Rl(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Ml=p((fT,Hr)=>{Hr.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Hr.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Hr.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Bl=p((dT,Nn)=>{var Bv=A("assert"),On=Ml(),jv=/^win/i.test(process.platform),zr=A("events");typeof zr!="function"&&(zr=zr.EventEmitter);var ae;process.__signal_exit_emitter__?ae=process.__signal_exit_emitter__:(ae=process.__signal_exit_emitter__=new zr,ae.count=0,ae.emitted={});ae.infinite||(ae.setMaxListeners(1/0),ae.infinite=!0);Nn.exports=function(t,e){Bv.equal(typeof t,"function","a callback must be provided for exit handler"),Pn===!1&&Ll();var n="exit";e&&e.alwaysLast&&(n="afterexit");var r=function(){ae.removeListener(n,t),ae.listeners("exit").length===0&&ae.listeners("afterexit").length===0&&Bo()};return ae.on(n,t),r};Nn.exports.unload=Bo;function Bo(){Pn&&(Pn=!1,On.forEach(function(t){try{process.removeListener(t,jo[t])}catch{}}),process.emit=ko,process.reallyExit=kl,ae.count-=1)}function Xt(t,e,n){ae.emitted[t]||(ae.emitted[t]=!0,ae.emit(t,e,n))}var jo={};On.forEach(function(t){jo[t]=function(){var n=process.listeners(t);n.length===ae.count&&(Bo(),Xt("exit",null,t),Xt("afterexit",null,t),jv&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});Nn.exports.signals=function(){return On};Nn.exports.load=Ll;var Pn=!1;function Ll(){Pn||(Pn=!0,ae.count+=1,On=On.filter(function(t){try{return process.on(t,jo[t]),!0}catch{return!1}}),process.emit=Uv,process.reallyExit=Fv)}var kl=process.reallyExit;function Fv(t){process.exitCode=t||0,Xt("exit",process.exitCode,null),Xt("afterexit",process.exitCode,null),kl.call(process,process.exitCode)}var ko=process.emit;function Uv(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var n=ko.apply(this,arguments);return Xt("exit",process.exitCode,null),Xt("afterexit",process.exitCode,null),n}else return ko.apply(this,arguments)}});var Fl=p((pT,jl)=>{"use strict";var qv=A("os"),Gv=Bl(),Wv=1e3*5,Vv=(t,e="SIGTERM",n={})=>{let r=t(e);return $v(t,e,n,r),r},$v=(t,e,n,r)=>{if(!Kv(e,n,r))return;let i=zv(n),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},Kv=(t,{forceKillAfterTimeout:e},n)=>Hv(t)&&e!==!1&&n,Hv=t=>t===qv.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",zv=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return Wv;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Yv=(t,e)=>{t.kill()&&(e.isCanceled=!0)},Jv=(t,e,n)=>{t.kill(e),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Xv=(t,{timeout:e,killSignal:n="SIGTERM"},r)=>{if(e===0||e===void 0)return r;let i,o=new Promise((u,c)=>{i=setTimeout(()=>{Jv(t,n,c)},e)}),s=r.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Qv=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Zv=async(t,{cleanup:e,detached:n},r)=>{if(!e||n)return r;let i=Gv(()=>{t.kill()});return r.finally(()=>{i()})};jl.exports={spawnedKill:Vv,spawnedCancel:Yv,setupTimeout:Xv,validateTimeout:Qv,setExitHandler:Zv}});var ql=p((hT,Ul)=>{"use strict";var Qe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Qe.writable=t=>Qe(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Qe.readable=t=>Qe(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Qe.duplex=t=>Qe.writable(t)&&Qe.readable(t);Qe.transform=t=>Qe.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";Ul.exports=Qe});var Wl=p((gT,Gl)=>{"use strict";var{PassThrough:eb}=A("stream");Gl.exports=t=>{t={...t};let{array:e}=t,{encoding:n}=t,r=n==="buffer",i=!1;e?i=!(n||r):n=n||"utf8",r&&(n=null);let o=new eb({objectMode:i});n&&o.setEncoding(n);let s=0,u=[];return o.on("data",c=>{u.push(c),i?s=u.length:s+=c.length}),o.getBufferedValue=()=>e?u:r?Buffer.concat(u,s):u.join(""),o.getBufferedLength=()=>s,o}});var Vl=p((mT,Rn)=>{"use strict";var{constants:tb}=A("buffer"),nb=A("stream"),{promisify:rb}=A("util"),ib=Wl(),ob=rb(nb.pipeline),Yr=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Fo(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:n}=e,r=ib(e);return await new Promise((i,o)=>{let s=u=>{u&&r.getBufferedLength()<=tb.MAX_LENGTH&&(u.bufferedData=r.getBufferedValue()),o(u)};(async()=>{try{await ob(t,r),i()}catch(u){s(u)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new Yr)})}),r.getBufferedValue()}Rn.exports=Fo;Rn.exports.buffer=(t,e)=>Fo(t,{...e,encoding:"buffer"});Rn.exports.array=(t,e)=>Fo(t,{...e,array:!0});Rn.exports.MaxBufferError=Yr});var Kl=p((yT,$l)=>{"use strict";var{PassThrough:sb}=A("stream");$l.exports=function(){var t=[],e=new sb({objectMode:!0});return e.setMaxListeners(0),e.add=n,e.isEmpty=r,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),e;function n(o){return Array.isArray(o)?(o.forEach(n),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function r(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var Jl=p((_T,Yl)=>{"use strict";var zl=ql(),Hl=Vl(),ab=Kl(),ub=(t,e)=>{e===void 0||t.stdin===void 0||(zl(e)?e.pipe(t.stdin):t.stdin.end(e))},cb=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let n=ab();return t.stdout&&n.add(t.stdout),t.stderr&&n.add(t.stderr),n},Uo=async(t,e)=>{if(t){t.destroy();try{return await e}catch(n){return n.bufferedData}}},qo=(t,{encoding:e,buffer:n,maxBuffer:r})=>{if(!(!t||!n))return e?Hl(t,{encoding:e,maxBuffer:r}):Hl.buffer(t,{maxBuffer:r})},lb=async({stdout:t,stderr:e,all:n},{encoding:r,buffer:i,maxBuffer:o},s)=>{let u=qo(t,{encoding:r,buffer:i,maxBuffer:o}),c=qo(e,{encoding:r,buffer:i,maxBuffer:o}),a=qo(n,{encoding:r,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,u,c,a])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Uo(t,u),Uo(e,c),Uo(n,a)])}},fb=({input:t})=>{if(zl(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};Yl.exports={handleInput:ub,makeAllStream:cb,getSpawnedResult:lb,validateInputSync:fb}});var Ql=p((vT,Xl)=>{"use strict";var db=(async()=>{})().constructor.prototype,pb=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(db,t)]),hb=(t,e)=>{for(let[n,r]of pb){let i=typeof e=="function"?(...o)=>Reflect.apply(r.value,e(),o):r.value.bind(e);Reflect.defineProperty(t,n,{...r,value:i})}return t},gb=t=>new Promise((e,n)=>{t.on("exit",(r,i)=>{e({exitCode:r,signal:i})}),t.on("error",r=>{n(r)}),t.stdin&&t.stdin.on("error",r=>{n(r)})});Xl.exports={mergePromise:hb,getSpawnedPromise:gb}});var tf=p((bT,ef)=>{"use strict";var Zl=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],mb=/^[\w.-]+$/,yb=/"/g,_b=t=>typeof t!="string"||mb.test(t)?t:`"${t.replace(yb,'\\"')}"`,vb=(t,e)=>Zl(t,e).join(" "),bb=(t,e)=>Zl(t,e).map(n=>_b(n)).join(" "),wb=/ +/g,Sb=t=>{let e=[];for(let n of t.trim().split(wb)){let r=e[e.length-1];r&&r.endsWith("\\")?e[e.length-1]=`${r.slice(0,-1)} ${n}`:e.push(n)}return e};ef.exports={joinCommand:vb,getEscapedCommand:bb,parseCommand:Sb}});var cf=p((wT,Qt)=>{"use strict";var Eb=A("path"),Go=A("child_process"),Tb=dl(),xb=hl(),Cb=vl(),Ab=El(),Jr=Nl(),rf=Dl(),{spawnedKill:Ib,spawnedCancel:Ob,setupTimeout:Pb,validateTimeout:Nb,setExitHandler:Rb}=Fl(),{handleInput:Db,getSpawnedResult:Mb,makeAllStream:Lb,validateInputSync:kb}=Jl(),{mergePromise:nf,getSpawnedPromise:Bb}=Ql(),{joinCommand:of,parseCommand:sf,getEscapedCommand:af}=tf(),jb=1e3*1e3*100,Fb=({env:t,extendEnv:e,preferLocal:n,localDir:r,execPath:i})=>{let o=e?{...process.env,...t}:t;return n?Cb.env({env:o,cwd:r,execPath:i}):o},uf=(t,e,n={})=>{let r=Tb._parse(t,e,n);return t=r.command,e=r.args,n=r.options,n={maxBuffer:jb,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=Fb(n),n.stdio=rf(n),process.platform==="win32"&&Eb.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:n,parsed:r}},Dn=(t,e,n)=>typeof e!="string"&&!Buffer.isBuffer(e)?n===void 0?void 0:"":t.stripFinalNewline?xb(e):e,Xr=(t,e,n)=>{let r=uf(t,e,n),i=of(t,e),o=af(t,e);Nb(r.options);let s;try{s=Go.spawn(r.file,r.args,r.options)}catch(m){let T=new Go.ChildProcess,x=Promise.reject(Jr({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return nf(T,x)}let u=Bb(s),c=Pb(s,r.options,u),a=Rb(s,r.options,c),l={isCanceled:!1};s.kill=Ib.bind(null,s.kill.bind(s)),s.cancel=Ob.bind(null,s,l);let g=Ab(async()=>{let[{error:m,exitCode:T,signal:x,timedOut:q},ie,be,Ae]=await Mb(s,r.options,a),b=Dn(r.options,ie),v=Dn(r.options,be),C=Dn(r.options,Ae);if(m||T!==0||x!==null){let w=Jr({error:m,exitCode:T,signal:x,stdout:b,stderr:v,all:C,command:i,escapedCommand:o,parsed:r,timedOut:q,isCanceled:l.isCanceled,killed:s.killed});if(!r.options.reject)return w;throw w}return{command:i,escapedCommand:o,exitCode:0,stdout:b,stderr:v,all:C,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Db(s,r.options.input),s.all=Lb(s,r.options),nf(s,g)};Qt.exports=Xr;Qt.exports.sync=(t,e,n)=>{let r=uf(t,e,n),i=of(t,e),o=af(t,e);kb(r.options);let s;try{s=Go.spawnSync(r.file,r.args,r.options)}catch(a){throw Jr({error:a,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let u=Dn(r.options,s.stdout,s.error),c=Dn(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let a=Jr({stdout:u,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return a;throw a}return{command:i,escapedCommand:o,exitCode:0,stdout:u,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Qt.exports.command=(t,e)=>{let[n,...r]=sf(t);return Xr(n,r,e)};Qt.exports.commandSync=(t,e)=>{let[n,...r]=sf(t);return Xr.sync(n,r,e)};Qt.exports.node=(t,e,n={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(n=e,e=[]);let r=rf.node(n),i=process.execArgv.filter(u=>!u.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return Xr(o,[...s,t,...Array.isArray(e)?e:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var Qo;(function(t){(function(e){var n=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,s){return function(u,c){typeof o[u]!="function"&&Object.defineProperty(o,u,{configurable:!0,writable:!0,value:c}),s&&s(u,c)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",u={__proto__:[]}instanceof Array,c=!s&&!u,a={create:s?function(){return ri(Object.create(null))}:u?function(){return ri({__proto__:null})}:function(){return ri({})},has:c?function(d,h){return n.call(d,h)}:function(d,h){return h in d},get:c?function(d,h){return n.call(d,h)?d[h]:void 0}:function(d,h){return d[h]}},l=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",g=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Mf(),m=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Lf(),T=!f&&typeof WeakMap=="function"?WeakMap:kf(),x=new T;function q(d,h,y,_){if($(y)){if(!Ho(d))throw new TypeError;if(!zo(h))throw new TypeError;return V(d,h)}else{if(!Ho(d))throw new TypeError;if(!W(h))throw new TypeError;if(!W(_)&&!$(_)&&!Re(_))throw new TypeError;return Re(_)&&(_=void 0),y=et(y),N(d,h,y,_)}}e("decorate",q);function ie(d,h){function y(_,I){if(!W(_))throw new TypeError;if(!$(I)&&!Of(I))throw new TypeError;Z(d,h,_,I)}return y}e("metadata",ie);function be(d,h,y,_){if(!W(y))throw new TypeError;return $(_)||(_=et(_)),Z(d,h,y,_)}e("defineMetadata",be);function Ae(d,h,y){if(!W(h))throw new TypeError;return $(y)||(y=et(y)),G(d,h,y)}e("hasMetadata",Ae);function b(d,h,y){if(!W(h))throw new TypeError;return $(y)||(y=et(y)),X(d,h,y)}e("hasOwnMetadata",b);function v(d,h,y){if(!W(h))throw new TypeError;return $(y)||(y=et(y)),Q(d,h,y)}e("getMetadata",v);function C(d,h,y){if(!W(h))throw new TypeError;return $(y)||(y=et(y)),K(d,h,y)}e("getOwnMetadata",C);function w(d,h){if(!W(d))throw new TypeError;return $(h)||(h=et(h)),Se(d,h)}e("getMetadataKeys",w);function B(d,h){if(!W(d))throw new TypeError;return $(h)||(h=et(h)),Ze(d,h)}e("getOwnMetadataKeys",B);function k(d,h,y){if(!W(h))throw new TypeError;$(y)||(y=et(y));var _=P(h,y,!1);if($(_)||!_.delete(d))return!1;if(_.size>0)return!0;var I=x.get(h);return I.delete(y),I.size>0||x.delete(h),!0}e("deleteMetadata",k);function V(d,h){for(var y=d.length-1;y>=0;--y){var _=d[y],I=_(h);if(!$(I)&&!Re(I)){if(!zo(I))throw new TypeError;h=I}}return h}function N(d,h,y,_){for(var I=d.length-1;I>=0;--I){var oe=d[I],D=oe(h,y,_);if(!$(D)&&!Re(D)){if(!W(D))throw new TypeError;_=D}}return _}function P(d,h,y){var _=x.get(d);if($(_)){if(!y)return;_=new g,x.set(d,_)}var I=_.get(h);if($(I)){if(!y)return;I=new g,_.set(h,I)}return I}function G(d,h,y){var _=X(d,h,y);if(_)return!0;var I=ni(h);return Re(I)?!1:G(d,I,y)}function X(d,h,y){var _=P(h,y,!1);return $(_)?!1:Af(_.has(d))}function Q(d,h,y){var _=X(d,h,y);if(_)return K(d,h,y);var I=ni(h);if(!Re(I))return Q(d,I,y)}function K(d,h,y){var _=P(h,y,!1);if(!$(_))return _.get(d)}function Z(d,h,y,_){var I=P(y,_,!0);I.set(d,h)}function Se(d,h){var y=Ze(d,h),_=ni(d);if(_===null)return y;var I=Se(_,h);if(I.length<=0)return y;if(y.length<=0)return I;for(var oe=new m,D=[],M=0,O=y;M<O.length;M++){var F=O[M],U=oe.has(F);U||(oe.add(F),D.push(F))}for(var at=0,Jo=I;at<Jo.length;at++){var F=Jo[at],U=oe.has(F);U||(oe.add(F),D.push(F))}return D}function Ze(d,h){var y=[],_=P(d,h,!1);if($(_))return y;for(var I=_.keys(),oe=Pf(I),D=0;;){var M=Rf(oe);if(!M)return y.length=D,y;var O=Nf(M);try{y[D]=O}catch(F){try{Df(oe)}finally{throw F}}D++}}function tn(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function $(d){return d===void 0}function Re(d){return d===null}function kn(d){return typeof d=="symbol"}function W(d){return typeof d=="object"?d!==null:typeof d=="function"}function Bn(d,h){switch(tn(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var y=h===3?"string":h===5?"number":"default",_=Yo(d,i);if(_!==void 0){var I=_.call(d,y);if(W(I))throw new TypeError;return I}return Cf(d,y==="default"?"number":y)}function Cf(d,h){if(h==="string"){var y=d.toString;if(It(y)){var _=y.call(d);if(!W(_))return _}var I=d.valueOf;if(It(I)){var _=I.call(d);if(!W(_))return _}}else{var I=d.valueOf;if(It(I)){var _=I.call(d);if(!W(_))return _}var oe=d.toString;if(It(oe)){var _=oe.call(d);if(!W(_))return _}}throw new TypeError}function Af(d){return!!d}function If(d){return""+d}function et(d){var h=Bn(d,3);return kn(h)?h:If(h)}function Ho(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function It(d){return typeof d=="function"}function zo(d){return typeof d=="function"}function Of(d){switch(tn(d)){case 3:return!0;case 4:return!0;default:return!1}}function Yo(d,h){var y=d[h];if(y!=null){if(!It(y))throw new TypeError;return y}}function Pf(d){var h=Yo(d,o);if(!It(h))throw new TypeError;var y=h.call(d);if(!W(y))throw new TypeError;return y}function Nf(d){return d.value}function Rf(d){var h=d.next();return h.done?!1:h}function Df(d){var h=d.return;h&&h.call(d)}function ni(d){var h=Object.getPrototypeOf(d);if(typeof d!="function"||d===l||h!==l)return h;var y=d.prototype,_=y&&Object.getPrototypeOf(y);if(_==null||_===Object.prototype)return h;var I=_.constructor;return typeof I!="function"||I===d?h:I}function Mf(){var d={},h=[],y=function(){function D(M,O,F){this._index=0,this._keys=M,this._values=O,this._selector=F}return D.prototype["@@iterator"]=function(){return this},D.prototype[o]=function(){return this},D.prototype.next=function(){var M=this._index;if(M>=0&&M<this._keys.length){var O=this._selector(this._keys[M],this._values[M]);return M+1>=this._keys.length?(this._index=-1,this._keys=h,this._values=h):this._index++,{value:O,done:!1}}return{value:void 0,done:!0}},D.prototype.throw=function(M){throw this._index>=0&&(this._index=-1,this._keys=h,this._values=h),M},D.prototype.return=function(M){return this._index>=0&&(this._index=-1,this._keys=h,this._values=h),{value:M,done:!0}},D}();return function(){function D(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(D.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),D.prototype.has=function(M){return this._find(M,!1)>=0},D.prototype.get=function(M){var O=this._find(M,!1);return O>=0?this._values[O]:void 0},D.prototype.set=function(M,O){var F=this._find(M,!0);return this._values[F]=O,this},D.prototype.delete=function(M){var O=this._find(M,!1);if(O>=0){for(var F=this._keys.length,U=O+1;U<F;U++)this._keys[U-1]=this._keys[U],this._values[U-1]=this._values[U];return this._keys.length--,this._values.length--,M===this._cacheKey&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},D.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},D.prototype.keys=function(){return new y(this._keys,this._values,_)},D.prototype.values=function(){return new y(this._keys,this._values,I)},D.prototype.entries=function(){return new y(this._keys,this._values,oe)},D.prototype["@@iterator"]=function(){return this.entries()},D.prototype[o]=function(){return this.entries()},D.prototype._find=function(M,O){return this._cacheKey!==M&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=M)),this._cacheIndex<0&&O&&(this._cacheIndex=this._keys.length,this._keys.push(M),this._values.push(void 0)),this._cacheIndex},D}();function _(D,M){return D}function I(D,M){return M}function oe(D,M){return[D,M]}}function Lf(){return function(){function d(){this._map=new g}return Object.defineProperty(d.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),d.prototype.has=function(h){return this._map.has(h)},d.prototype.add=function(h){return this._map.set(h,h),this},d.prototype.delete=function(h){return this._map.delete(h)},d.prototype.clear=function(){this._map.clear()},d.prototype.keys=function(){return this._map.keys()},d.prototype.values=function(){return this._map.values()},d.prototype.entries=function(){return this._map.entries()},d.prototype["@@iterator"]=function(){return this.keys()},d.prototype[o]=function(){return this.keys()},d}()}function kf(){var d=16,h=a.create(),y=_();return function(){function O(){this._key=_()}return O.prototype.has=function(F){var U=I(F,!1);return U!==void 0?a.has(U,this._key):!1},O.prototype.get=function(F){var U=I(F,!1);return U!==void 0?a.get(U,this._key):void 0},O.prototype.set=function(F,U){var at=I(F,!0);return at[this._key]=U,this},O.prototype.delete=function(F){var U=I(F,!1);return U!==void 0?delete U[this._key]:!1},O.prototype.clear=function(){this._key=_()},O}();function _(){var O;do O="@@WeakMap@@"+M();while(a.has(h,O));return h[O]=!0,O}function I(O,F){if(!n.call(O,y)){if(!F)return;Object.defineProperty(O,y,{value:a.create()})}return O[y]}function oe(O,F){for(var U=0;U<F;++U)O[U]=Math.random()*255|0;return O}function D(O){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(O)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(O)):oe(new Uint8Array(O),O):oe(new Array(O),O)}function M(){var O=D(d);O[6]=O[6]&79|64,O[8]=O[8]&191|128;for(var F="",U=0;U<d;++U){var at=O[U];(U===4||U===6||U===8)&&(F+="-"),at<16&&(F+="0"),F+=at.toString(16).toLowerCase()}return F}}function ri(d){return d.__=void 0,delete d.__,d}})})(Qo||(Qo={}));var Gf={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},Jb=Object.keys(Gf),Xb=Symbol("ILogger");var Oa=se(sn()),_r=se(A("os"));var Im={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},Om={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},Qw=new Set(Object.keys(Om)),Zw=new Set(Object.keys(Im));var ki=Symbol("unset");function Bi(t){let e=ki,n=(...r)=>(e===ki&&(n.value=e=t(...r)),e);return n.forget=()=>{e=ki,n.value=void 0},n.value=void 0,n}function xa(t){let e=new Map,n=r=>{if(e.has(r))return e.get(r);let i=t(r);return e.set(r,i),i};return n.clear=()=>e.clear(),n}var tS=2**31-1;var uS=Symbol("AnyLaunchConfiguration"),Ca={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:Ia("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},cn={...Ca,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},Pm={...cn,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},cS={...cn,type:"node-terminal",request:"attach",name:Pm.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},lS={...cn,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},fS={...cn,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},Aa={...Ca,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:Ia("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},dS={...Aa,type:"pwa-msedge",useWebView:!1},Nm={...Aa,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},pS={...Nm,type:"pwa-msedge",useWebView:!1},hS={...cn,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function Ia(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var mr="js-debug",ji="1.84.0",Rm="ms-vscode",gS=mr.includes("nightly"),mS=`${Rm}.${mr}`;var yr=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var Fi=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},Ce=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new Fi}static async test(){let e=new Ce;return e.setup({sinks:[new yr],showWelcome:!1}),e}info(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:1})}verbose(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:0})}warn(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:2})}error(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:3})}fatal(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:4})}assert(e,n){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",n,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(n);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let n of this.logTarget.sinks)n.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(r=>r.setup())),e.showWelcome!==!1){let r=Mm();for(let i of e.sinks)i.write(r)}let n=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in n?n.sinks.forEach(r=>r.dispose()):n.queue.forEach(r=>this.log(r))}};Ce.null=(()=>{let e=new Ce;return e.setup({sinks:[]}),e})(),Ce=jn([(0,Oa.injectable)()],Ce);var Mm=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${mr} v${ji} started`,metadata:{os:`${_r.platform()} ${_r.arch()}`,nodeVersion:process.version,adapterVersion:ji}});var ge=class{constructor(){this._listeners=new Set;this.event=(e,n,r)=>{let i={listener:e,thisArg:n};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return r&&r.push(o),o}}get size(){return this._listeners.size}fire(e){let n=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let r of this._listeners)this._deliveryQueue.push({data:r,event:e});if(n){for(let r=0;r<this._deliveryQueue.length;r++){let{data:i,event:o}=this._deliveryQueue[r];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}};var Pa=se(sn());var kt=class{constructor(){this.flushEmitter=new ge;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};kt=jn([(0,Pa.injectable)()],kt);var vr=se(A("path"));function Ra(t,e,n){let r=Na(t,e,"uncaughtException",n),i=Na(t,e,"unhandledRejection",n);return process.addListener("uncaughtException",r),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",r),process.removeListener("unhandledRejection",i)}}}var Na=(t,e,n,r=!0)=>i=>{Bm(i)&&(e.report("error",{"!error":i,error:r?void 0:i,exceptionType:n}),t.error("runtime.exception","Unhandled error in debug adapter",i))},Lm=t=>typeof t=="object"&&!!t&&"stack"in t,km=vr.dirname(vr.dirname(vr.dirname(__dirname)));function Bm(t){var e;return!jm||Lm(t)&&!!((e=t.stack)!=null&&e.includes(km))}var jm=!1;var xf=se(A("net"));var Ba=se(ka());var rt=class{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new rt().subtract(this)}subtract(e){let n=this.value[1]-e.value[1],r=this.value[0]-e.value[0];return n<0&&(n+=1e9,r--),new rt([r,n])}};var wr=class{constructor(e,n,r){this.logger=e;this.pipeWrite=n;this.pipeRead=r;this.messageEmitter=new ge;this.endEmitter=new ge;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=Bi(()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),(e=this.pipeRead)==null||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=r||n;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,Ba.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new rt])).on("end",this.onceEnded),write:n.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var n;(n=this.streams)==null||n.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var i_=se(qa(),1),o_=se(Xi(),1),s_=se(Qi(),1),Uu=se(oo(),1),a_=se(Fu(),1);var qu=Uu.default;var bn=class extends Error{constructor(n){super("__errorMarker"in n?n.error.format:n.format);this._cause="__errorMarker"in n?n.error:n}get cause(){return this._cause}};var Gu=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{});function Wu(){let t=null,e=null,n=!1,r,i=new Promise((o,s)=>{t=u=>{n=!0,r=u,o(u)},e=u=>{n=!0,s(u)}});return{resolve:t,reject:e,promise:i,get settledValue(){return r},hasSettled:()=>n}}var Dr=class extends bn{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Vu(t,e,n){if(e.isCancellationRequested)return Promise.reject(new Dr(n||"Task cancelled"));let r=Wu(),i=e.onCancellationRequested(r.resolve);return Promise.race([r.promise.then(()=>{throw new Dr(n||"Task cancelled")}),t.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}var $u=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),u_=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),c_=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$u}),ht=class{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,n){let r=new ht(n),i=r._token=new qt,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),r}get token(){return this._token||(this._token=new qt),this._token}cancel(){this._token?this._token instanceof qt&&this._token.cancel():this._token=c_}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof qt&&this._token.dispose():this._token=u_}},qt=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$u:(this._emitter||(this._emitter=new ge),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var bf=A("dns"),At=se(A("path")),Ln=A("url");var{stringify:l_}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var Mr={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Tt=17;function Gt(t,e){let{generator:n}=t;if(t.write("("),e!=null&&e.length>0){n[e[0].type](e[0],t);let{length:r}=e;for(let i=1;i<r;i++){let o=e[i];t.write(", "),n[o.type](o,t)}}t.write(")")}function Qu(t,e,n,r){let i=t.expressionsPrecedence[e.type];if(i===Tt)return!0;let o=t.expressionsPrecedence[n.type];return i!==o?!r&&i===15&&o===14&&n.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&n.operator==="**"?!r:r?Mr[e.operator]<=Mr[n.operator]:Mr[e.operator]<Mr[n.operator]}function Lr(t,e,n,r){let{generator:i}=t;Qu(t,e,n,r)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function f_(t,e,n,r){let i=e.split(`
`),o=i.length-1;if(t.write(i[0].trim()),o>0){t.write(r);for(let s=1;s<o;s++)t.write(n+i[s].trim()+r);t.write(n+i[o].trim())}}function me(t,e,n,r){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];t.write(n),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),f_(t,s.value,n,r),t.write("*/"+r))}}function d_(t){let e=t;for(;e!=null;){let{type:n}=e;if(n[0]==="C"&&n[1]==="a")return!0;if(n[0]==="M"&&n[1]==="e"&&n[2]==="m")e=e.object;else return!1}}function ao(t,e){let{generator:n}=t,{declarations:r}=e;t.write(e.kind+" ");let{length:i}=r;if(i>0){n.VariableDeclarator(r[0],t);for(let o=1;o<i;o++)t.write(", "),n.VariableDeclarator(r[o],t)}}var Ku,Hu,zu,Yu,Ju,Xu,SE={Program(t,e){let n=e.indent.repeat(e.indentLevel),{lineEnd:r,writeComments:i}=e;i&&t.comments!=null&&me(e,t.comments,n,r);let o=t.body,{length:s}=o;for(let u=0;u<s;u++){let c=o[u];i&&c.comments!=null&&me(e,c.comments,n,r),e.write(n),this[c.type](c,e),e.write(r)}i&&t.trailingComments!=null&&me(e,t.trailingComments,n,r)},BlockStatement:Xu=function(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,o=n+e.indent;e.write("{");let s=t.body;if(s!=null&&s.length>0){e.write(r),i&&t.comments!=null&&me(e,t.comments,o,r);let{length:u}=s;for(let c=0;c<u;c++){let a=s[c];i&&a.comments!=null&&me(e,a.comments,o,r),e.write(o),this[a.type](a,e),e.write(r)}e.write(n)}else i&&t.comments!=null&&(e.write(r),me(e,t.comments,o,r),e.write(n));i&&t.trailingComments!=null&&me(e,t.trailingComments,o,r),e.write("}"),e.indentLevel--},ClassBody:Xu,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let n=e.expressionsPrecedence[t.expression.type];n===Tt||n===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e;e.indentLevel++;let o=n+e.indent,s=o+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+r);let{cases:u}=t,{length:c}=u;for(let a=0;a<c;a++){let l=u[a];i&&l.comments!=null&&me(e,l.comments,o,r),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+r)):e.write(o+"default:"+r);let{consequent:f}=l,{length:g}=f;for(let m=0;m<g;m++){let T=f[m];i&&T.comments!=null&&me(e,T.comments,s,r),e.write(s),this[T.type](T,e),e.write(r)}}e.indentLevel-=2,e.write(n+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:n}=t;n.param==null?e.write(" catch "):(e.write(" catch ("),this[n.param.type](n.param,e),e.write(") ")),this[n.body.type](n.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:n}=t;n.type[0]==="V"?ao(e,n):this[n.type](n,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:Ku=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:n}=t;n.type[0]==="V"?ao(e,n):this[n.type](n,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:Ku,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:Hu=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Gt(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:Hu,VariableDeclaration(t,e){ao(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:n}=t,{type:r}=n,i=e.expressionsPrecedence[r];(r[0]!=="C"||r[1]!=="l"||r[5]!=="E")&&(i===Tt||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:n}=t,{length:r}=n,i=0;if(r>0){for(;i<r;){i>0&&e.write(", ");let o=n[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<r){for(e.write("{");;){let o=n[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<r)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:n}=t,{length:r}=n;if(r>0)for(let i=0;;){let o=n[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<r)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let n=t.kind[0];(n==="g"||n==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Gt(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:n}=t;n!=null&&(n.length===1&&n[0].type[0]==="I"?e.write(n[0].name,n[0]):Gt(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:zu=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:zu,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Lr(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:n,expressions:r}=t;e.write("`");let{length:i}=r;for(let s=0;s<i;s++){let u=r[s],c=n[s];e.write(c.value.raw,c),e.write("${"),this[u.type](u,e),e.write("}")}let o=n[n.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Lr(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:Ju=function(t,e){if(e.write("["),t.elements.length>0){let{elements:n}=t,{length:r}=n;for(let i=0;;){let o=n[i];if(o!=null&&this[o.type](o,e),++i<r)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:Ju,ObjectExpression(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,o=n+e.indent;if(e.write("{"),t.properties.length>0){e.write(r),i&&t.comments!=null&&me(e,t.comments,o,r);let s=","+r,{properties:u}=t,{length:c}=u;for(let a=0;;){let l=u[a];if(i&&l.comments!=null&&me(e,l.comments,o,r),e.write(o),this[l.type](l,e),++a<c)e.write(s);else break}e.write(r),i&&t.trailingComments!=null&&me(e,t.trailingComments,o,r),e.write(n+"}")}else i?t.comments!=null?(e.write(r),me(e,t.comments,o,r),t.trailingComments!=null&&me(e,t.trailingComments,o,r),e.write(n+"}")):t.trailingComments!=null?(e.write(r),me(e,t.trailingComments,o,r),e.write(n+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){t.static&&e.write("static "),this[t.key.type](t.key,e),e.write(" = "),this[t.value.type](t.value,e)},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:n}=t,{length:r}=n;for(let i=0;this[n[i].type](n[i],e),++i<r;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Gt(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:n,argument:r,argument:{type:i}}=t;e.write(n);let o=Qu(e,r,t);!o&&(n.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&r.prefix&&r.operator[0]===n&&(n==="+"||n==="-"))&&e.write(" "),o?(e.write(n.length>1?" (":"("),this[i](r,e),e.write(")")):this[i](r,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:Yu=function(t,e){let n=t.operator==="in";n&&e.write("("),Lr(e,t.left,t,!1),e.write(" "+t.operator+" "),Lr(e,t.right,t,!0),n&&e.write(")")},LogicalExpression:Yu,ConditionalExpression(t,e){let{test:n}=t,r=e.expressionsPrecedence[n.type];r===Tt||r<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[n.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let n=e.expressionsPrecedence[t.callee.type];n===Tt||n<e.expressionsPrecedence.CallExpression||d_(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Gt(e,t.arguments)},CallExpression(t,e){let n=e.expressionsPrecedence[t.callee.type];n===Tt||n<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Gt(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let n=e.expressionsPrecedence[t.object.type];n===Tt||n<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(l_(t.value),t)},RegExpLiteral(t,e){let{regex:n}=t;e.write(`/${n.pattern}/${n.flags}`,t)}};var $o=se(ec()),yf=se(Tc());var Ub=se(cf()),ff=A("os");var Ct=se(A("fs")),lf=se(A("util"));var ST=lf.promisify(Ct.writeFile);var ET=Symbol("FsUtils");var OT=process.platform==="win32"?"\\\\.\\pipe\\":(0,ff.tmpdir)();var Mn="file:///",df=t=>t.startsWith(Mn)&&t[Mn.length+1]===":";function qb(t,e=!1){if(!t)return t;if(df(t)){let n=Mn.length;t=Mn+t[n].toLowerCase()+t.substr(n+1)}else hf(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function Wo(t,e=!1){if(!t)return t;if(t=qb(t,e),df(t)){let n=Mn.length;t=t.substr(0,n+1)+t.substr(n+1).replace(/\//g,"\\")}else hf(t)&&(t=t.replace(/\//g,"\\"));return t}var pf=t=>t.startsWith("\\\\"),hf=t=>/^[A-Za-z]:/.test(t)||pf(t);var Vo=class{constructor(e,n,r,i,o){this.original=e;this.metadata=n;this.actualRoot=r;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=Vo.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++)this.sourceActualToOriginal.set(i[s],e.sources[s]),this.sourceOriginalToActual.set(e.sources[s],i[s])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return Wo(gf(mf(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){var r;let n=this.original.originalPositionFor(e);return n.source&&(n.source=(r=this.sourceOriginalToActual.get(n.source))!=null?r:n.source),n}generatedPositionFor(e){var n;return this.original.generatedPositionFor({...e,source:(n=this.sourceActualToOriginal.get(e.source))!=null?n:e.source})}allGeneratedPositionsFor(e){var n;return this.original.allGeneratedPositionsFor({...e,source:(n=this.sourceActualToOriginal.get(e.source))!=null?n:e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,n){var r;return this.original.sourceContentFor((r=this.sourceActualToOriginal.get(e))!=null?r:e,n)}eachMapping(e,n,r){return this.original.eachMapping(e,n,r)}destroy(){this.original.destroy()}},Qr=Vo;Qr.idCounter=0;var Zr=class{constructor(e,n){this.key=e;this.value=n}toString(){return`${this.key}: ${this.value}`}},Ko=class{constructor(e,n){this.projection=e;this.initialContents=n;let r=Array.from(n||[]).map(i=>[this.projection(i[0]),new Zr(i[0],i[1])]);this.projectionToKeyAndValue=new Map(r)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let n=this.projection(e);return this.projectionToKeyAndValue.delete(n)}forEach(e,n){this.projectionToKeyAndValue.forEach(r=>{e.call(n,r.value,r.key,this)},n)}get(e){let n=this.projection(e),r=this.projectionToKeyAndValue.get(n);return r?r.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,n){return this.projectionToKeyAndValue.set(this.projection(e),new Zr(e,n)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var gx=process.platform!=="win32";var vf,mx=process.platform==="win32"?(vf=process.env.PATHEXT)==null?void 0:vf.toLowerCase().split(";"):void 0;var Wb=new Set(["localhost","127.0.0.1","::1"]);var _f=t=>Wb.has(t.toLowerCase()),Vb=t=>{try{return new Ln.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var wf=xa(async t=>{let e=Vb(t);if(_f(e))return!0;try{let n=await bf.promises.lookup(e);return _f(n.address)}catch{return!1}});function gf(t,e){try{return new Ln.URL(e),e}catch{}let n;try{n=new Ln.URL(t||"")}catch{return e}let r=n.protocol+"//";return n.username&&(r+=n.username+":"+n.password+"@"),r+=n.host,r+=At.dirname(n.pathname),r[r.length-1]!=="/"&&(r+="/"),r+=e,r}function mf(t){return!!t&&t.startsWith("data:")}var yx=process.platform;var $b=50,Zt=class{constructor(e){this.messageEmitter=new ge;this.endEmitter=new ge;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",n=>{this.messageEmitter.fire([n.data.toString("utf-8"),new rt])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,n,r){let i=!e.startsWith("ws://"),o=await wf(e);for(;;){let s=Date.now()+$b;try{let u={headers:{host:r!=null?r:"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},c=new qu(e,[],u);return await Vu(new Promise((a,l)=>{c.addEventListener("open",()=>a(new Zt(c))),c.addEventListener("error",f=>{let g=e===c.url?e:c.url.replace(/^http(s?):/,"ws$1:");if(g===e){l(f.error);return}this.create(g,n,r).then(a,l)})}),ht.withTimeout(2e3,n).token,`Could not open ${e}`).catch(a=>{throw c.close(),a})}catch(u){if(n.isCancellationRequested)throw u;let c=s-Date.now();c>0&&await Gu(c)}}}send(e){var n;(n=this._ws)==null||n.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var Sf=A("crypto"),Ef=()=>(0,Sf.randomBytes)(12).toString("hex");var Tf,en=class{constructor(e,n){this.info=e;this.server=n;this.onEndEmitter=new ge;this.cts=new ht;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:(Tf=this.info.ownId)!=null?Tf:Ef(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let n=await new Promise((i,o)=>{let s=xf.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),r=new wr(Ce.null,n);return new en(e,r)}listenToServer(){let{server:e,targetInfo:n}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:n}})),e.onMessage(async([r])=>{if(this.target&&!r.includes("Target.attachToTarget")&&!r.includes("Target.detachFromTarget")){this.target.send(r);return}let i=await this.execute(r);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){var r;let n=JSON.parse(e);switch(n.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:n.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:n.id,result:{}};default:(r=this.target)==null||r.send(n);return}}async createTarget(){this.gracefulExit=!1;let e=await Zt.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([n])=>this.server.send(n)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var ei=JSON.parse(process.env.NODE_INSPECTOR_INFO),ti=new Ce;ti.setup({sinks:[]});Ra(ti,new kt);(async()=>{process.on("exit",()=>{ti.info("runtime","Process exiting"),ti.dispose(),ei.pid&&!ei.dynamicAttach&&(!t||t.isTargetAlive)&&process.kill(Number(ei.pid))});let t=await en.attach(ei);t.onEnd(()=>process.exit())})();})();
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=watchdog.js.map
